/*! For license information please see main.91eeda06.js.LICENSE.txt */
!function(){var e={5080:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},4418:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},6948:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5101:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},9155:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9986);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},8636:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1628);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},5247:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(374);var i=n(467);function o(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,i.Z)(this,n)}}},9126:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9986);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},374:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},4709:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(8200);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},467:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1937),i=n(4418);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4741:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1937);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),s=new _(r||[]);return o(a,"_invoke",{value:E(e,n,s)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=d;var f={};function h(){}function m(){}function v(){}var y={};u(y,s,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(S([])));b&&b!==t&&n.call(b,s)&&(y=b);var x=v.prototype=h.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,s,l){var c=p(e[o],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,l)}))}l(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=p(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=p(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function S(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=v,o(x,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:m,configurable:!0}),m.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,l,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(x),u(x,c,"Generator"),u(x,s,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}},8200:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9548:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1628);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,r.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},778:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(5080);var i=n(1628);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9986:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1937);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1937:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},1628:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5080);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},1126:function(e){function t(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=function(){return[]},t.resolve=t,t.id=1126,e.exports=t},392:function(e,t,n){"use strict";n.r(t),n.d(t,{BLUEPRINT:function(){return r}});var r=[{domain:"airport",index:null,name:"@airport/airport-code",sinceVersion:1,versions:[{api:{apiObjectMap:{}},entities:[{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_INDEX",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"TABLE_INDEX",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"COLUMN_INDEX",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"SEQUENCE_INCREMENT_BY",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"CURRENT_VALUE",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1},{index:2}],index:0,isLocal:!0,isAirEntity:!1,name:"Sequence",properties:[{columnRef:{index:0},index:0,isId:!0,name:"applicationIndex",sinceVersion:1},{columnRef:{index:1},index:1,isId:!0,name:"tableIndex",sinceVersion:1},{columnRef:{index:2},index:2,isId:!0,name:"columnIndex",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"incrementBy",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"currentValue",sinceVersion:1}],relations:[],sinceVersion:1,tableConfig:{name:"SEQUENCES",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"SYSTEM_WIDE_OPERATION_LID",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:1,isLocal:!0,isAirEntity:!1,name:"SystemWideOperationId",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1}],relations:[],sinceVersion:1,tableConfig:{name:"SYSTEM_WIDE_OPERATION_LIDS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"TERMINAL_RUN_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"CREATE_TIMESTAMP",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"RANDOM_NUMBER",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:2,isLocal:!0,isAirEntity:!1,name:"TerminalRun",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"createTimestamp",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"randomNumber",sinceVersion:1}],relations:[],sinceVersion:1,tableConfig:{name:"TERMINAL_RUNS",columnIndexes:[]},operations:{}}],integerVersion:1,referencedApplications:[],versionString:"1.0.0"}]},{domain:"airport",index:null,name:"@airport/airspace",sinceVersion:1,versions:[{api:{apiObjectMap:{}},entities:[{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_RELATION_COLUMN_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:4,oneRelationIndex:5,oneColumnIndex:3,sinceVersion:1}],name:"MANY_APPLICATION_COLUMN_LID",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:null,oneTableIndex:4,oneRelationIndex:6,oneColumnIndex:3,sinceVersion:1}],name:"ONE_APPLICATION_COLUMN_LID",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:5,oneApplication_Index:null,oneTableIndex:1,oneRelationIndex:6,oneColumnIndex:3,sinceVersion:1}],name:"MANY_APPLICATION_RELATION_LID",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:6,oneApplication_Index:null,oneTableIndex:1,oneRelationIndex:7,oneColumnIndex:3,sinceVersion:1}],name:"ONE_APPLICATION_RELATION_LID",notNull:!1,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"},{index:8,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:7,oneApplication_Index:null,oneTableIndex:1,oneColumnIndex:3,sinceVersion:1}],name:"PARENT_RELATION_LID",notNull:!1,propertyRefs:[{index:8}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3}],index:0,isLocal:!0,isAirEntity:!1,name:"ApplicationRelationColumn",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{columnRef:{index:3},index:3,isId:!0,name:"_localId",sinceVersion:1},{index:4,isId:!1,name:"manyColumn",relationRef:{index:3},sinceVersion:1},{index:5,isId:!1,name:"oneColumn",relationRef:{index:4},sinceVersion:1},{index:6,isId:!1,name:"manyRelation",relationRef:{index:5},sinceVersion:1},{index:7,isId:!1,name:"oneRelation",relationRef:{index:6},sinceVersion:1},{index:8,isId:!1,name:"parentRelation",relationRef:{index:7},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:4,sinceVersion:1},{index:4,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:4,sinceVersion:1},{index:5,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:1,sinceVersion:1},{index:6,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:7},relationTableIndex:1,sinceVersion:1},{index:7,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:8},relationTableIndex:1,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_RELATION_COLUMNS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_RELATION_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"RELATION_INDEX",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"FOREIGN_KEY",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"JSON"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"MANY_TO_ONE_ELEMENTS",notNull:!1,propertyRefs:[{index:7}],sinceVersion:1,type:"JSON"},{index:7,isGenerated:!1,manyRelationColumnRefs:[],name:"ONE_TO_MANY_ELEMENTS",notNull:!1,propertyRefs:[{index:8}],sinceVersion:1,type:"JSON"},{index:8,isGenerated:!1,manyRelationColumnRefs:[],name:"RELATION_TYPE",notNull:!0,propertyRefs:[{index:9}],sinceVersion:1,type:"STRING"},{index:9,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_LID",notNull:!0,propertyRefs:[{index:10}],sinceVersion:1,type:"BOOLEAN"},{index:10,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:2,oneRelationIndex:5,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_PROPERTY_LID",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:11,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:null,oneTableIndex:6,oneRelationIndex:7,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_ENTITY_LID",notNull:!0,propertyRefs:[{index:11}],sinceVersion:1,type:"NUMBER"},{index:12,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:5,oneApplication_Index:null,oneTableIndex:6,oneRelationIndex:8,oneColumnIndex:3,sinceVersion:1}],name:"RELATION_APPLICATION_ENTITY_LID",notNull:!0,propertyRefs:[{index:12}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3}],index:1,isLocal:!0,isAirEntity:!1,name:"ApplicationRelation",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{columnRef:{index:3},index:3,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"index",sinceVersion:1},{index:5,isId:!1,name:"property",relationRef:{index:3},sinceVersion:1},{columnRef:{index:5},index:6,isId:!1,name:"foreignKey",sinceVersion:1},{columnRef:{index:6},index:7,isId:!1,name:"manyToOneElems",sinceVersion:1},{columnRef:{index:7},index:8,isId:!1,name:"oneToManyElems",sinceVersion:1},{columnRef:{index:8},index:9,isId:!1,name:"relationType",sinceVersion:1},{columnRef:{index:9},index:10,isId:!1,name:"isId",sinceVersion:1},{index:11,isId:!1,name:"entity",relationRef:{index:4},sinceVersion:1},{index:12,isId:!1,name:"relationEntity",relationRef:{index:5},sinceVersion:1},{index:13,isId:!1,name:"manyRelationColumns",relationRef:{index:6},sinceVersion:1},{index:14,isId:!1,name:"oneRelationColumns",relationRef:{index:7},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:2,sinceVersion:1},{index:4,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:11},relationTableIndex:6,sinceVersion:1},{index:5,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:12},relationTableIndex:6,sinceVersion:1},{index:6,isId:!1,oneToManyElems:{mappedBy:"manyRelation"},relationType:"ONE_TO_MANY",propertyRef:{index:13},relationTableIndex:0,sinceVersion:1},{index:7,isId:!1,oneToManyElems:{mappedBy:"oneRelation"},relationType:"ONE_TO_MANY",propertyRef:{index:14},relationTableIndex:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_RELATIONS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_PROPERTY_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"PROPERTY_INDEX",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"STRING"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_LID",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"BOOLEAN"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:6,oneRelationIndex:6,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_ENTITY_LID",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3}],index:2,isLocal:!0,isAirEntity:!1,name:"ApplicationProperty",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{columnRef:{index:3},index:3,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"index",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"name",sinceVersion:1},{columnRef:{index:6},index:6,isId:!1,name:"isId",sinceVersion:1},{index:7,isId:!1,name:"entity",relationRef:{index:3},sinceVersion:1},{index:8,isId:!1,name:"propertyColumns",relationRef:{index:4},sinceVersion:1},{index:9,isId:!1,name:"relation",relationRef:{index:5},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:7},relationTableIndex:6,sinceVersion:1},{index:4,isId:!1,oneToManyElems:{mappedBy:"property"},relationType:"ONE_TO_MANY",propertyRef:{index:8},relationTableIndex:3,sinceVersion:1},{index:5,isId:!1,oneToManyElems:{mappedBy:"property"},relationType:"ONE_TO_MANY",propertyRef:{index:9},relationTableIndex:1,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_PROPERTIES",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:4,oneRelationIndex:4,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_COLUMN_LID",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:null,oneTableIndex:2,oneRelationIndex:4,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_PROPERTY_LID",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3},{index:4}],index:3,isLocal:!0,isAirEntity:!1,name:"ApplicationPropertyColumn",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{index:3,isId:!0,name:"column",relationRef:{index:3},sinceVersion:1},{index:4,isId:!0,name:"property",relationRef:{index:4},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:4,sinceVersion:1},{index:4,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:2,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_PROPERTY_COLUMNS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_COLUMN_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"COLUMN_INDEX",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"ID_INDEX",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_GENERATED",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"BOOLEAN"},{index:7,isGenerated:!1,manyRelationColumnRefs:[],name:"ALLOCATION_SIZE",notNull:!1,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"},{index:8,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!0,propertyRefs:[{index:8}],sinceVersion:1,type:"STRING"},{index:9,isGenerated:!1,manyRelationColumnRefs:[],name:"NOT_NULL",notNull:!0,propertyRefs:[{index:9}],sinceVersion:1,type:"BOOLEAN"},{index:10,isGenerated:!1,manyRelationColumnRefs:[],name:"PRECISION",notNull:!1,propertyRefs:[{index:10}],sinceVersion:1,type:"NUMBER"},{index:11,isGenerated:!1,manyRelationColumnRefs:[],name:"SCALE",notNull:!1,propertyRefs:[{index:11}],sinceVersion:1,type:"NUMBER"},{index:12,isGenerated:!1,manyRelationColumnRefs:[],name:"TYPE",notNull:!0,propertyRefs:[{index:12}],sinceVersion:1,type:"STRING"},{index:13,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:6,oneRelationIndex:4,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_ENTITY_LID",notNull:!0,propertyRefs:[{index:13}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3}],index:4,isLocal:!0,isAirEntity:!1,name:"ApplicationColumn",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{columnRef:{index:3},index:3,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"index",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"idIndex",sinceVersion:1},{columnRef:{index:6},index:6,isId:!1,name:"isGenerated",sinceVersion:1},{columnRef:{index:7},index:7,isId:!1,name:"allocationSize",sinceVersion:1},{columnRef:{index:8},index:8,isId:!1,name:"name",sinceVersion:1},{columnRef:{index:9},index:9,isId:!1,name:"notNull",sinceVersion:1},{columnRef:{index:10},index:10,isId:!1,name:"precision",sinceVersion:1},{columnRef:{index:11},index:11,isId:!1,name:"scale",sinceVersion:1},{columnRef:{index:12},index:12,isId:!1,name:"type",sinceVersion:1},{index:13,isId:!1,name:"entity",relationRef:{index:3},sinceVersion:1},{index:14,isId:!1,name:"propertyColumns",relationRef:{index:4},sinceVersion:1},{index:15,isId:!1,name:"manyRelationColumns",relationRef:{index:5},sinceVersion:1},{index:16,isId:!1,name:"oneRelationColumns",relationRef:{index:6},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:13},relationTableIndex:6,sinceVersion:1},{index:4,isId:!1,oneToManyElems:{mappedBy:"column"},relationType:"ONE_TO_MANY",propertyRef:{index:14},relationTableIndex:3,sinceVersion:1},{index:5,isId:!1,oneToManyElems:{mappedBy:"manyColumn"},relationType:"ONE_TO_MANY",propertyRef:{index:15},relationTableIndex:0,sinceVersion:1},{index:6,isId:!1,oneToManyElems:{mappedBy:"oneColumn"},relationType:"ONE_TO_MANY",propertyRef:{index:16},relationTableIndex:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_COLUMNS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!0,manyRelationColumnRefs:[],name:"APPLICATION_OPERATION_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"TYPE",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"STRING"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"RULE",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"JSON"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:6,oneRelationIndex:5,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_ENTITY_LID",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3}],index:5,isLocal:!0,isAirEntity:!1,name:"ApplicationOperation",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{columnRef:{index:3},index:3,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"type",sinceVersion:1},{index:5,isId:!1,name:"entity",relationRef:{index:3},sinceVersion:1},{columnRef:{index:5},index:6,isId:!1,name:"name",sinceVersion:1},{columnRef:{index:6},index:7,isId:!1,name:"rule",sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:6,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_OPERATIONS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_ENTITY_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"TABLE_INDEX",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_LOCAL",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"BOOLEAN"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_AIR_ENTITY",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"BOOLEAN"},{index:7,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"STRING"},{index:8,isGenerated:!1,manyRelationColumnRefs:[],name:"TABLE_CONFIGURATION",notNull:!0,propertyRefs:[{index:8}],sinceVersion:1,type:"JSON"},{index:9,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:8,oneRelationIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:9}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:3}],index:6,isLocal:!0,isAirEntity:!1,name:"ApplicationEntity",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{columnRef:{index:3},index:3,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"index",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"isLocal",sinceVersion:1},{columnRef:{index:6},index:6,isId:!1,name:"isAirEntity",sinceVersion:1},{columnRef:{index:7},index:7,isId:!1,name:"name",sinceVersion:1},{columnRef:{index:8},index:8,isId:!1,name:"tableConfig",sinceVersion:1},{index:9,isId:!1,name:"applicationVersion",relationRef:{index:3},sinceVersion:1},{index:10,isId:!1,name:"columns",relationRef:{index:4},sinceVersion:1},{index:11,isId:!1,name:"operations",relationRef:{index:5},sinceVersion:1},{index:12,isId:!1,name:"properties",relationRef:{index:6},sinceVersion:1},{index:13,isId:!1,name:"relations",relationRef:{index:7},sinceVersion:1},{index:14,isId:!1,name:"relationReferences",relationRef:{index:8},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:9},relationTableIndex:8,sinceVersion:1},{index:4,isId:!1,oneToManyElems:{mappedBy:"entity"},relationType:"ONE_TO_MANY",propertyRef:{index:10},relationTableIndex:4,sinceVersion:1},{index:5,isId:!1,oneToManyElems:{mappedBy:"entity"},relationType:"ONE_TO_MANY",propertyRef:{index:11},relationTableIndex:5,sinceVersion:1},{index:6,isId:!1,oneToManyElems:{mappedBy:"entity"},relationType:"ONE_TO_MANY",propertyRef:{index:12},relationTableIndex:2,sinceVersion:1},{index:7,isId:!1,oneToManyElems:{mappedBy:"entity"},relationType:"ONE_TO_MANY",propertyRef:{index:13},relationTableIndex:1,sinceVersion:1},{index:8,isId:!1,oneToManyElems:{mappedBy:"relationEntity"},relationType:"ONE_TO_MANY",propertyRef:{index:14},relationTableIndex:1,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_ENTITIES",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"DEPRECATED_SINCE_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REMOVED_IN_APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"SINCE_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_REFERENCE_INDEX",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:8,oneRelationIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"OWN_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:null,oneTableIndex:8,oneRelationIndex:3,oneColumnIndex:0,sinceVersion:1}],name:"REFERENCED_APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:4},{index:5}],index:7,isLocal:!0,isAirEntity:!1,name:"ApplicationReference",properties:[{index:0,isId:!1,name:"deprecatedSinceVersion",relationRef:{index:0},sinceVersion:1},{index:1,isId:!1,name:"removedInVersion",relationRef:{index:1},sinceVersion:1},{index:2,isId:!1,name:"sinceVersion",relationRef:{index:2},sinceVersion:1},{index:3,isId:!0,name:"ownApplicationVersion",relationRef:{index:3},sinceVersion:1},{index:4,isId:!0,name:"referencedApplicationVersion",relationRef:{index:4},sinceVersion:1},{columnRef:{index:3},index:5,isId:!1,name:"index",sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:8,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:8,sinceVersion:1},{index:3,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:8,sinceVersion:1},{index:4,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:8,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_REFERENCES",columnIndexes:[]},operations:{}},{columns:[{allocationSize:100,index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"INTEGER_VERSION",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"VERSION_STRING",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"MAJOR_VERSION",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"MINOR_VERSION",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"PATCH_VERSION",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"JSON_APPLICATION",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"JSON"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_INDEX",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:8,isLocal:!0,isAirEntity:!1,name:"ApplicationVersion",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"integerVersion",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"versionString",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"majorVersion",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"minorVersion",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"patchVersion",sinceVersion:1},{columnRef:{index:6},index:6,isId:!1,name:"jsonApplication",sinceVersion:1},{index:7,isId:!1,name:"application",relationRef:{index:0},sinceVersion:1},{index:8,isId:!1,name:"entities",relationRef:{index:1},sinceVersion:1},{index:9,isId:!1,name:"references",relationRef:{index:2},sinceVersion:1},{index:10,isId:!1,name:"referencedBy",relationRef:{index:3},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:7},relationTableIndex:10,sinceVersion:1},{index:1,isId:!1,oneToManyElems:{mappedBy:"applicationVersion"},relationType:"ONE_TO_MANY",propertyRef:{index:8},relationTableIndex:6,sinceVersion:1},{index:2,isId:!1,oneToManyElems:{mappedBy:"ownApplicationVersion"},relationType:"ONE_TO_MANY",propertyRef:{index:9},relationTableIndex:7,sinceVersion:1},{index:3,isId:!1,oneToManyElems:{mappedBy:"referencedApplicationVersion"},relationType:"ONE_TO_MANY",propertyRef:{index:10},relationTableIndex:7,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_VERSIONS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_INDEX",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_VERSION_LID",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:9,isLocal:!0,isAirEntity:!1,name:"ApplicationCurrentVersion",properties:[{index:0,isId:!0,name:"application",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"applicationVersion",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATION_CURRENT_VERSIONS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_INDEX",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"GUID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"SCOPE",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"APPLICATION_NAME",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"STRING"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"FULL_APPLICATION_NAME",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"STRING"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"STATUS",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"STRING"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"SIGNATURE",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"STRING"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:11,oneRelationIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"DOMAIN_LID",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:10,isLocal:!0,isAirEntity:!1,name:"Application",properties:[{columnRef:{index:0},index:0,isId:!0,name:"index",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"GUID",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"scope",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"name",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"fullName",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"status",sinceVersion:1},{columnRef:{index:6},index:6,isId:!1,name:"signature",sinceVersion:1},{index:7,isId:!1,name:"domain",relationRef:{index:0},sinceVersion:1},{index:8,isId:!1,name:"versions",relationRef:{index:1},sinceVersion:1},{index:9,isId:!1,name:"currentVersion",relationRef:{index:2},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:7},relationTableIndex:11,sinceVersion:1},{index:1,isId:!1,oneToManyElems:{mappedBy:"application"},relationType:"ONE_TO_MANY",propertyRef:{index:8},relationTableIndex:8,sinceVersion:1},{index:2,isId:!1,oneToManyElems:{mappedBy:"application"},relationType:"ONE_TO_MANY",propertyRef:{index:9},relationTableIndex:9,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"APPLICATIONS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"DOMAIN_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:0}],index:11,isLocal:!0,isAirEntity:!1,name:"Domain",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"name",sinceVersion:1},{index:2,isId:!1,name:"applications",relationRef:{index:0},sinceVersion:1}],relations:[{index:0,isId:!1,oneToManyElems:{mappedBy:"domain"},relationType:"ONE_TO_MANY",propertyRef:{index:2},relationTableIndex:10,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"DOMAINS",columnIndexes:[]},operations:{}}],integerVersion:1,referencedApplications:[],versionString:"1.0.0"}]},{domain:"airport",index:null,name:"@airport/travel-document-checkpoint",sinceVersion:1,versions:[{api:{apiObjectMap:{UserAccountApi:{operationMap:{findUserAccount:{isAsync:!0,parameters:[{isRest:!1,text:"privateId: string"}]}}}}},entities:[{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:0}],index:0,isLocal:!0,isAirEntity:!1,name:"Continent",properties:[{columnRef:{index:0},index:0,isId:!0,name:"id",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"name",sinceVersion:1},{index:2,isId:!1,name:"countries",relationRef:{index:0},sinceVersion:1},{index:3,isId:!1,name:"userAccounts",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!1,oneToManyElems:{mappedBy:"continent"},relationType:"ONE_TO_MANY",propertyRef:{index:2},relationTableIndex:1,sinceVersion:1},{index:1,isId:!1,oneToManyElems:{mappedBy:"continent"},relationType:"ONE_TO_MANY",propertyRef:{index:3},relationTableIndex:5,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"CONTINENTS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"ABBREVIATION",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:0,oneRelationIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:1,isLocal:!0,isAirEntity:!1,name:"Country",properties:[{columnRef:{index:0},index:0,isId:!0,name:"id",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"abbreviation",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"name",sinceVersion:1},{index:3,isId:!1,name:"continent",relationRef:{index:0},sinceVersion:1},{index:4,isId:!1,name:"userAccounts",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:0,sinceVersion:1},{index:1,isId:!1,oneToManyElems:{mappedBy:"country"},relationType:"ONE_TO_MANY",propertyRef:{index:4},relationTableIndex:5,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"COUNTRIES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"STATE_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"ABBREVIATION",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:2,isLocal:!0,isAirEntity:!1,name:"State",properties:[{columnRef:{index:0},index:0,isId:!0,name:"id",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"abbreviation",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"name",sinceVersion:1},{index:3,isId:!1,name:"country",relationRef:{index:0},sinceVersion:1},{index:4,isId:!1,name:"metroAreaStates",relationRef:{index:1},sinceVersion:1},{index:5,isId:!1,name:"userAccounts",relationRef:{index:2},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:1,sinceVersion:1},{index:1,isId:!1,oneToManyElems:{mappedBy:"state"},relationType:"ONE_TO_MANY",propertyRef:{index:4},relationTableIndex:2,sinceVersion:1},{index:2,isId:!1,oneToManyElems:{mappedBy:"state"},relationType:"ONE_TO_MANY",propertyRef:{index:5},relationTableIndex:5,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"STATES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"STATE_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:4,oneRelationIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:3,isLocal:!0,isAirEntity:!1,name:"MetroAreaState",properties:[{index:0,isId:!0,name:"state",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"metroArea",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:2,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:4,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"METRO_AREA_STATES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:4,isLocal:!0,isAirEntity:!1,name:"MetroArea",properties:[{columnRef:{index:0},index:0,isId:!0,name:"id",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"name",sinceVersion:1},{index:2,isId:!1,name:"country",relationRef:{index:0},sinceVersion:1},{index:3,isId:!1,name:"metroAreaStates",relationRef:{index:1},sinceVersion:1},{index:4,isId:!1,name:"userAccounts",relationRef:{index:2},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:1,sinceVersion:1},{index:1,isId:!1,oneToManyElems:{mappedBy:"metroArea"},relationType:"ONE_TO_MANY",propertyRef:{index:3},relationTableIndex:3,sinceVersion:1},{index:2,isId:!1,oneToManyElems:{mappedBy:"metroArea"},relationType:"ONE_TO_MANY",propertyRef:{index:4},relationTableIndex:5,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"METRO_AREAS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"GUID",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"STRING"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"EMAIL",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"PASSWORD_HASH",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"RANKING",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"USERNAME",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"STRING"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:0,oneTableIndex:11,oneColumnIndex:0,sinceVersion:1}],name:"DOMAIN_LID",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:0,oneRelationIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:1,oneRelationIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"},{index:8,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:2,oneRelationIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"STATE_ID",notNull:!1,propertyRefs:[{index:8}],sinceVersion:1,type:"NUMBER"},{index:9,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:null,oneTableIndex:4,oneRelationIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:9}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:5,isLocal:!0,isAirEntity:!1,name:"UserAccount",properties:[{columnRef:{index:0},index:0,isId:!0,name:"GUID",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"email",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"passwordHash",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"ranking",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"username",sinceVersion:1},{index:5,isId:!1,name:"domain",relationRef:{index:0},sinceVersion:1},{index:6,isId:!1,name:"continent",relationRef:{index:1},sinceVersion:1},{index:7,isId:!1,name:"country",relationRef:{index:2},sinceVersion:1},{index:8,isId:!1,name:"state",relationRef:{index:3},sinceVersion:1},{index:9,isId:!1,name:"metroArea",relationRef:{index:4},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:11,relationTableApplication_Index:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:0,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:7},relationTableIndex:1,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:8},relationTableIndex:2,sinceVersion:1},{index:4,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:9},relationTableIndex:4,sinceVersion:1}],sinceVersion:1,tableConfig:{columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"CLASSIFICATION_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:0}],index:6,isLocal:!0,isAirEntity:!1,name:"Classification",properties:[{columnRef:{index:0},index:0,isId:!0,name:"id",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"name",sinceVersion:1}],relations:[],sinceVersion:1,tableConfig:{name:"CLASSIFICATIONS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:6,oneColumnIndex:0,sinceVersion:1}],name:"CLASSIFICATION_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneRelationIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"TYPE_ID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:7,isLocal:!0,isAirEntity:!1,name:"TypeClassification",properties:[{index:0,isId:!0,name:"classification",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"type",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:6,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"TYPE_CLASSIFICATIONS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"TYPE_ID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:0}],index:8,isLocal:!0,isAirEntity:!1,name:"Type",properties:[{columnRef:{index:0},index:0,isId:!0,name:"id",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"name",sinceVersion:1},{index:2,isId:!1,name:"typeClassifications",relationRef:{index:0},sinceVersion:1}],relations:[{index:0,isId:!1,oneToManyElems:{mappedBy:"type"},relationType:"ONE_TO_MANY",propertyRef:{index:2},relationTableIndex:7,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"TYPES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:4,oneColumnIndex:0,sinceVersion:1}],name:"CLIENT_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"TYPE_ID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:9,isLocal:!0,isAirEntity:!1,name:"ClientType",properties:[{index:0,isId:!0,name:"client",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"type",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"CLIENT_TYPES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"CLIENT_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"CLIENT_DOMAIN",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"CLIENT_GUID",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"STATE_ID",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:4,oneColumnIndex:0,sinceVersion:1}],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:10,isLocal:!0,isAirEntity:!1,name:"Client",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"domain",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"GUID",sinceVersion:1},{index:3,isId:!1,name:"continent",relationRef:{index:0},sinceVersion:1},{index:4,isId:!1,name:"country",relationRef:{index:1},sinceVersion:1},{index:5,isId:!1,name:"state",relationRef:{index:2},sinceVersion:1},{index:6,isId:!1,name:"metroArea",relationRef:{index:3},sinceVersion:1},{index:7,isId:!1,name:"clientTypes",relationRef:{index:4},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:1,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:2,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:4,sinceVersion:1},{index:4,isId:!1,oneToManyElems:{mappedBy:"client"},relationType:"ONE_TO_MANY",propertyRef:{index:7},relationTableIndex:9,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"CLIENTS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:12,oneRelationIndex:4,oneColumnIndex:0,sinceVersion:1}],name:"DATABASE_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"TYPE_ID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:11,isLocal:!0,isAirEntity:!1,name:"DatabaseType",properties:[{index:0,isId:!0,name:"database",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"type",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:12,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"DATABASE_TYPE",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"DATABASE_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"DATABASE_DOMAIN",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"DATABASE_GUID",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"STATE_ID",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:4,oneColumnIndex:0,sinceVersion:1}],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:12,isLocal:!0,isAirEntity:!1,name:"Database",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"domain",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"GUID",sinceVersion:1},{index:3,isId:!1,name:"continent",relationRef:{index:0},sinceVersion:1},{index:4,isId:!1,name:"country",relationRef:{index:1},sinceVersion:1},{index:5,isId:!1,name:"state",relationRef:{index:2},sinceVersion:1},{index:6,isId:!1,name:"metroArea",relationRef:{index:3},sinceVersion:1},{index:7,isId:!1,name:"databaseTypes",relationRef:{index:4},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:1,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:2,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:4,sinceVersion:1},{index:4,isId:!1,oneToManyElems:{mappedBy:"database"},relationType:"ONE_TO_MANY",propertyRef:{index:7},relationTableIndex:11,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"DATABASES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:14,oneRelationIndex:5,oneColumnIndex:0,sinceVersion:1}],name:"TERMINAL_GUID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"STRING"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"TYPE_ID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:13,isLocal:!0,isAirEntity:!1,name:"TerminalType",properties:[{index:0,isId:!0,name:"terminal",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"type",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:14,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"TERMINAL_TYPES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"GUID",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"STRING"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_LOCAL",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"BOOLEAN"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:5,oneColumnIndex:0,sinceVersion:1}],name:"OWNER_USER_ACCOUNT_GUID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:null,oneTableIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"STATE_ID",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:null,oneTableIndex:4,oneColumnIndex:0,sinceVersion:1}],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:14,isLocal:!0,isAirEntity:!1,name:"Terminal",properties:[{columnRef:{index:0},index:0,isId:!0,name:"GUID",sinceVersion:1},{index:1,isId:!1,name:"owner",relationRef:{index:0},sinceVersion:1},{columnRef:{index:1},index:2,isId:!1,name:"isLocal",sinceVersion:1},{index:3,isId:!1,name:"continent",relationRef:{index:1},sinceVersion:1},{index:4,isId:!1,name:"country",relationRef:{index:2},sinceVersion:1},{index:5,isId:!1,name:"state",relationRef:{index:3},sinceVersion:1},{index:6,isId:!1,name:"metroArea",relationRef:{index:4},sinceVersion:1},{index:7,isId:!1,name:"terminalTypes",relationRef:{index:5},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:5,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:0,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:1,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:2,sinceVersion:1},{index:4,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:4,sinceVersion:1},{index:5,isId:!1,oneToManyElems:{mappedBy:"terminal"},relationType:"ONE_TO_MANY",propertyRef:{index:7},relationTableIndex:13,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"TERMINALS",propertyIndexes:[{propertyIndex:0,unique:!0}]},operations:{}}],integerVersion:1,referencedApplications:[{domain:"airport",index:0,name:"@airport/airspace",sinceVersion:1,versions:[{entities:null,integerVersion:1,referencedApplications:null,versionString:"1.0.0"}]}],versionString:"1.0.0"}]},{domain:"airport",index:null,name:"@airport/holding-pattern",sinceVersion:1,versions:[{api:{apiObjectMap:{RepositoryApi:{operationMap:{findRootRepositories:{isAsync:!0,parameters:[]},create:{isAsync:!0,parameters:[{isRest:!1,text:"repositoryName: string"},{isRest:!1,text:"parentRepository?: Repository"},{isRest:!1,text:"nestingType: string = null"}]},addNesting:{isAsync:!0,parameters:[{isRest:!1,text:"parentRepository: Repository"},{isRest:!1,text:"childRepository: Repository"},{isRest:!1,text:"nestingType: string = null"}]},setUiEntryUri:{isAsync:!0,parameters:[{isRest:!1,text:"uiEntryUri: string"},{isRest:!1,text:"repository: Repository"}]}}}}},entities:[{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"ACTOR_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"GUID",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:0,oneTableIndex:5,oneColumnIndex:0,sinceVersion:1}],name:"USER_ACCOUNT_GUID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:0,oneTableIndex:14,oneColumnIndex:0,sinceVersion:1}],name:"TERMINAL_GUID",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"STRING"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:1,oneTableIndex:10,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_INDEX",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:0,isLocal:!0,isAirEntity:!1,name:"Actor",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"GUID",sinceVersion:1},{index:2,isId:!1,name:"userAccount",relationRef:{index:0},sinceVersion:1},{index:3,isId:!1,name:"terminal",relationRef:{index:1},sinceVersion:1},{index:4,isId:!1,name:"application",relationRef:{index:2},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:5,relationTableApplication_Index:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:14,relationTableApplication_Index:0,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:10,relationTableApplication_Index:1,sinceVersion:1}],sinceVersion:1,tableConfig:{columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"COLUMN_INDEX",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"NEW_VALUE",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"ANY"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:3,oneRelationIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_RECORD_HISTORY_LID",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:2}],index:1,isLocal:!0,isAirEntity:!1,name:"RecordHistoryNewValue",properties:[{index:0,isId:!0,name:"recordHistory",relationRef:{index:0},sinceVersion:1},{columnRef:{index:0},index:1,isId:!0,name:"columnIndex",sinceVersion:1},{columnRef:{index:1},index:2,isId:!1,name:"newValue",sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:3,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_RECORD_HISTORY_NEW_VALUES",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"COLUMN_INDEX",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"OLD_VALUE",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"ANY"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:3,oneRelationIndex:3,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_RECORD_HISTORY_LID",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:2}],index:2,isLocal:!0,isAirEntity:!1,name:"RecordHistoryOldValue",properties:[{index:0,isId:!0,name:"recordHistory",relationRef:{index:0},sinceVersion:1},{columnRef:{index:0},index:1,isId:!0,name:"columnIndex",sinceVersion:1},{columnRef:{index:1},index:2,isId:!1,name:"oldValue",sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:3,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_RECORD_HISTORY_OLD_VALUES",columnIndexes:[]},operations:{}},{columns:[{allocationSize:2e3,index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"RECORD_HISTORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"ACTOR_RECORD_ID",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"ACTOR_LID",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:13,oneRelationIndex:3,oneColumnIndex:0,sinceVersion:1}],name:"OPERATION_HISTORY_LID",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:3,isLocal:!0,isAirEntity:!1,name:"RecordHistory",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"_actorRecordId",sinceVersion:1},{index:2,isId:!1,name:"actor",relationRef:{index:0},sinceVersion:1},{index:3,isId:!1,name:"operationHistory",relationRef:{index:1},sinceVersion:1},{index:4,isId:!1,name:"newValues",relationRef:{index:2},sinceVersion:1},{index:5,isId:!1,name:"oldValues",relationRef:{index:3},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:13,sinceVersion:1},{index:2,isId:!1,oneToManyElems:{mappedBy:"recordHistory"},relationType:"ONE_TO_MANY",propertyRef:{index:4},relationTableIndex:1,sinceVersion:1},{index:3,isId:!1,oneToManyElems:{mappedBy:"recordHistory"},relationType:"ONE_TO_MANY",propertyRef:{index:5},relationTableIndex:2,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_RECORD_HISTORY",columnIndexes:[{name:"RCRD_HSTR_TO_OPRTN_HSTR_FX",columnList:["OPERATION_HISTORY_LID"],unique:!1}]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:12,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:0,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"TYPE_ID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:4,isLocal:!0,isAirEntity:!1,name:"RepositoryType",properties:[{index:0,isId:!0,name:"repository",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"type",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,relationTableApplication_Index:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_TYPES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:10,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:0,oneTableIndex:12,oneColumnIndex:0,sinceVersion:1}],name:"DATABASE_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:5,isLocal:!0,isAirEntity:!1,name:"RepositoryDatabase",properties:[{index:0,isId:!0,name:"repository",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"database",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:12,relationTableApplication_Index:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_DATABASES",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:9,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:0,oneTableIndex:10,oneColumnIndex:0,sinceVersion:1}],name:"CLIENT_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:6,isLocal:!0,isAirEntity:!1,name:"RepositoryClient",properties:[{index:0,isId:!0,name:"repository",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"client",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:10,relationTableApplication_Index:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_CLIENTS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:11,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:0,oneTableIndex:14,oneColumnIndex:0,sinceVersion:1}],name:"TERMINAL_GUID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:0},{index:1}],index:7,isLocal:!0,isAirEntity:!1,name:"RepositoryTerminal",properties:[{index:0,isId:!0,name:"repository",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"terminal",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:14,relationTableApplication_Index:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_TERMINALS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:1,oneTableIndex:10,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_INDEX",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:8,isLocal:!0,isAirEntity:!1,name:"RepositoryApplication",properties:[{index:0,isId:!0,name:"application",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"repository",relationRef:{index:1},sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,relationTableApplication_Index:1,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:10,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_APPLICATIONS",columnIndexes:[]}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"NESTING_TYPE",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"CHILD_REPOSITORY_NAME",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:6,oneColumnIndex:1,sinceVersion:1}],name:"PARENT_REPOSITORY_GUID",notNull:!0,propertyRefs:[{index:0}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:10,oneColumnIndex:1,sinceVersion:1}],name:"CHILD_REPOSITORY_GUID",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:2},{index:3}],index:9,isLocal:!0,isAirEntity:!1,name:"RepositoryNesting",properties:[{index:0,isId:!0,name:"parentRepository",relationRef:{index:0},sinceVersion:1},{index:1,isId:!0,name:"childRepository",relationRef:{index:1},sinceVersion:1},{columnRef:{index:0},index:2,isId:!1,name:"nestingType",sinceVersion:1},{columnRef:{index:1},index:3,isId:!1,name:"childRepositoryName",sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:10,sinceVersion:1},{index:1,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:10,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_NESTINGS",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"GUID",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"NAME",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"AGE_SUITABILITY",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"CREATED_AT",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"DATE"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"IMMUTABLE",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"BOOLEAN"},{index:6,isGenerated:!1,manyRelationColumnRefs:[],name:"SOURCE",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"STRING"},{index:7,isGenerated:!1,manyRelationColumnRefs:[],name:"FULL_APPLICATION_NAME",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"STRING"},{index:8,isGenerated:!1,manyRelationColumnRefs:[],name:"UI_ENTRY_URI",notNull:!1,propertyRefs:[{index:8}],sinceVersion:1,type:"STRING"},{index:9,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:0,oneTableIndex:5,oneColumnIndex:0,sinceVersion:1}],name:"OWNER_USER_ACCOUNT_GUID",notNull:!0,propertyRefs:[{index:9}],sinceVersion:1,type:"STRING"},{index:10,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:10,oneColumnIndex:1,sinceVersion:1}],name:"PARENT_REPOSITORY_GUID",notNull:!1,propertyRefs:[{index:10}],sinceVersion:1,type:"STRING"},{index:11,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:0,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"CONTINENT_ID",notNull:!1,propertyRefs:[{index:11}],sinceVersion:1,type:"NUMBER"},{index:12,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:0,oneTableIndex:1,oneColumnIndex:0,sinceVersion:1}],name:"COUNTRY_ID",notNull:!1,propertyRefs:[{index:12}],sinceVersion:1,type:"NUMBER"},{index:13,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:0,oneTableIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"STATE_ID",notNull:!1,propertyRefs:[{index:13}],sinceVersion:1,type:"NUMBER"},{index:14,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:5,oneApplication_Index:0,oneTableIndex:4,oneColumnIndex:0,sinceVersion:1}],name:"METRO_AREA_ID",notNull:!1,propertyRefs:[{index:14}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:10,isLocal:!0,isAirEntity:!1,name:"Repository",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"GUID",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"name",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"ageSuitability",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"createdAt",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"immutable",sinceVersion:1},{columnRef:{index:6},index:6,isId:!1,name:"source",sinceVersion:1},{columnRef:{index:7},index:7,isId:!1,name:"fullApplicationName",sinceVersion:1},{columnRef:{index:8},index:8,isId:!1,name:"uiEntryUri",sinceVersion:1},{index:9,isId:!1,name:"owner",relationRef:{index:0},sinceVersion:1},{index:10,isId:!1,name:"parentRepository",relationRef:{index:1},sinceVersion:1},{index:11,isId:!1,name:"continent",relationRef:{index:2},sinceVersion:1},{index:12,isId:!1,name:"country",relationRef:{index:3},sinceVersion:1},{index:13,isId:!1,name:"state",relationRef:{index:4},sinceVersion:1},{index:14,isId:!1,name:"metroArea",relationRef:{index:5},sinceVersion:1},{index:15,isId:!1,name:"repositoryNestings",relationRef:{index:6},sinceVersion:1},{index:16,isId:!1,name:"repositoryTransactionHistory",relationRef:{index:7},sinceVersion:1},{index:17,isId:!1,name:"repositoryApplications",relationRef:{index:8},sinceVersion:1},{index:18,isId:!1,name:"repositoryClients",relationRef:{index:9},sinceVersion:1},{index:19,isId:!1,name:"repositoryDatabases",relationRef:{index:10},sinceVersion:1},{index:20,isId:!1,name:"repositoryTerminals",relationRef:{index:11},sinceVersion:1},{index:21,isId:!1,name:"repositoryTypes",relationRef:{index:12},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:9},relationTableIndex:5,relationTableApplication_Index:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:10},relationTableIndex:10,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:11},relationTableIndex:0,relationTableApplication_Index:0,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:12},relationTableIndex:1,relationTableApplication_Index:0,sinceVersion:1},{index:4,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:13},relationTableIndex:2,relationTableApplication_Index:0,sinceVersion:1},{index:5,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:14},relationTableIndex:4,relationTableApplication_Index:0,sinceVersion:1},{index:6,isId:!1,oneToManyElems:{mappedBy:"parentRepository"},relationType:"ONE_TO_MANY",propertyRef:{index:15},relationTableIndex:9,sinceVersion:1},{index:7,isId:!1,oneToManyElems:{mappedBy:"repository"},relationType:"ONE_TO_MANY",propertyRef:{index:16},relationTableIndex:12,sinceVersion:1},{index:8,isId:!1,oneToManyElems:{mappedBy:"repository"},relationType:"ONE_TO_MANY",propertyRef:{index:17},relationTableIndex:8,sinceVersion:1},{index:9,isId:!1,oneToManyElems:{mappedBy:"repository"},relationType:"ONE_TO_MANY",propertyRef:{index:18},relationTableIndex:6,sinceVersion:1},{index:10,isId:!1,oneToManyElems:{mappedBy:"repository"},relationType:"ONE_TO_MANY",propertyRef:{index:19},relationTableIndex:5,sinceVersion:1},{index:11,isId:!1,oneToManyElems:{mappedBy:"repository"},relationType:"ONE_TO_MANY",propertyRef:{index:20},relationTableIndex:7,sinceVersion:1},{index:12,isId:!1,oneToManyElems:{mappedBy:"repository"},relationType:"ONE_TO_MANY",propertyRef:{index:21},relationTableIndex:4,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY",columnIndexes:[]},operations:{}},{columns:[{allocationSize:100,index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"TRANSACTION_HISTORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"TRANSACTION_TYPE",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"}],idColumnRefs:[{index:0}],index:11,isLocal:!0,isAirEntity:!1,name:"TransactionHistory",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"transactionType",sinceVersion:1},{index:2,isId:!1,name:"repositoryTransactionHistories",relationRef:{index:0},sinceVersion:1}],relations:[{index:0,isId:!1,oneToManyElems:{mappedBy:"transactionHistory"},relationType:"ONE_TO_MANY",propertyRef:{index:2},relationTableIndex:12,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"TRANSACTION_HISTORY",columnIndexes:[]}},{columns:[{allocationSize:200,index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"REPOSITORY_TRANSACTION_HISTORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"REPOSITORY_TRANSACTION_TYPE",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"SAVE_TIMESTAMP",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"SYNC_TIMESTAMP",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[],name:"GUID",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"STRING"},{index:5,isGenerated:!1,manyRelationColumnRefs:[],name:"IS_REPOSITORY_CREATION",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"BOOLEAN"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:10,oneRelationIndex:7,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:11,oneRelationIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"TRANSACTION_HISTORY_LID",notNull:!0,propertyRefs:[{index:7}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:12,isLocal:!0,isAirEntity:!1,name:"RepositoryTransactionHistory",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"repositoryTransactionType",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"saveTimestamp",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"syncTimestamp",sinceVersion:1},{columnRef:{index:4},index:4,isId:!1,name:"GUID",sinceVersion:1},{columnRef:{index:5},index:5,isId:!1,name:"isRepositoryCreation",sinceVersion:1},{index:6,isId:!1,name:"repository",relationRef:{index:0},sinceVersion:1},{index:7,isId:!1,name:"transactionHistory",relationRef:{index:1},sinceVersion:1},{index:8,isId:!1,name:"operationHistory",relationRef:{index:2},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:10,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:7},relationTableIndex:11,sinceVersion:1},{index:2,isId:!1,oneToManyElems:{mappedBy:"repositoryTransactionHistory"},relationType:"ONE_TO_MANY",propertyRef:{index:8},relationTableIndex:13,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_TRANSACTION_HISTORY",columnIndexes:[]},operations:{}},{columns:[{allocationSize:600,index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"OPERATION_HISTORY_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"ORDER_NUMBER",notNull:!0,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"CHANGE_TYPE",notNull:!0,propertyRefs:[{index:2}],sinceVersion:1,type:"STRING"},{index:3,isGenerated:!1,manyRelationColumnRefs:[],name:"SYSTEM_WIDE_OPERATION_LID",notNull:!0,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:1,oneTableIndex:6,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_ENTITY_LID",notNull:!0,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:null,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"ACTOR_LID",notNull:!0,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:null,oneTableIndex:12,oneRelationIndex:2,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_TRANSACTION_HISTORY_LID",notNull:!0,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:13,isLocal:!0,isAirEntity:!1,name:"OperationHistory",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"orderNumber",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"changeType",sinceVersion:1},{columnRef:{index:3},index:3,isId:!1,name:"systemWideOperationId",sinceVersion:1},{index:4,isId:!1,name:"entity",relationRef:{index:0},sinceVersion:1},{index:5,isId:!1,name:"actor",relationRef:{index:1},sinceVersion:1},{index:6,isId:!1,name:"repositoryTransactionHistory",relationRef:{index:2},sinceVersion:1},{index:7,isId:!1,name:"recordHistory",relationRef:{index:3},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:6,relationTableApplication_Index:1,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:0,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:12,sinceVersion:1},{index:3,isId:!1,oneToManyElems:{mappedBy:"operationHistory"},relationType:"ONE_TO_MANY",propertyRef:{index:7},relationTableIndex:3,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"REPOSITORY_OPERATION_HISTORY",columnIndexes:[]}}],integerVersion:1,referencedApplications:[{domain:"airport",index:0,name:"@airport/travel-document-checkpoint",sinceVersion:1,versions:[{entities:null,integerVersion:1,referencedApplications:null,versionString:"1.0.0"}]},{domain:"airport",index:1,name:"@airport/airspace",sinceVersion:1,versions:[{entities:null,integerVersion:1,referencedApplications:null,versionString:"1.0.0"}]}],versionString:"1.0.0"}]},{domain:"airport",index:null,name:"@airport/layover",sinceVersion:1,versions:[{api:{apiObjectMap:{}},entities:[{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"RECORD_UPDATE_STAGE_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"ACTOR_RECORD_ID",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"UPDATED_VALUE",notNull:!1,propertyRefs:[{index:7}],sinceVersion:1,type:"ANY"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:0,oneTableIndex:8,oneColumnIndex:0,sinceVersion:1}],name:"APPLICATION_VERSION_LID",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:0,oneTableIndex:6,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_ENTITY_LID",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:1,oneTableIndex:10,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:6,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:3,oneApplication_Index:1,oneTableIndex:0,oneColumnIndex:0,sinceVersion:1}],name:"ACTOR_LID",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:7,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:4,oneApplication_Index:0,oneTableIndex:4,oneColumnIndex:3,sinceVersion:1}],name:"APPLICATION_COLUMN_LID",notNull:!1,propertyRefs:[{index:6}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:0,isLocal:!0,isAirEntity:!1,name:"RecordUpdateStage",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{index:1,isId:!1,name:"applicationVersion",relationRef:{index:0},sinceVersion:1},{index:2,isId:!1,name:"entity",relationRef:{index:1},sinceVersion:1},{index:3,isId:!1,name:"repository",relationRef:{index:2},sinceVersion:1},{index:4,isId:!1,name:"actor",relationRef:{index:3},sinceVersion:1},{columnRef:{index:1},index:5,isId:!1,name:"_actorRecordId",sinceVersion:1},{index:6,isId:!1,name:"column",relationRef:{index:4},sinceVersion:1},{columnRef:{index:2},index:7,isId:!1,name:"updatedValue",sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:1},relationTableIndex:8,relationTableApplication_Index:0,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:2},relationTableIndex:6,relationTableApplication_Index:0,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:10,relationTableApplication_Index:1,sinceVersion:1},{index:3,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:0,relationTableApplication_Index:1,sinceVersion:1},{index:4,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:6},relationTableIndex:4,relationTableApplication_Index:0,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"RECORD_UPDATE_STAGE",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!1,manyRelationColumnRefs:[],name:"COLUMNINDEX",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:null,oneTableIndex:2,oneRelationIndex:3,oneColumnIndex:0,sinceVersion:1}],name:"SYNCHRONIZATION_CONFLICT_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0},{index:1}],index:1,isLocal:!0,isAirEntity:!1,name:"SynchronizationConflictValues",properties:[{index:0,isId:!0,name:"synchronizationConflict",relationRef:{index:0},sinceVersion:1},{columnRef:{index:0},index:1,isId:!0,name:"columnIndex",sinceVersion:1}],relations:[{index:0,isId:!0,relationType:"MANY_TO_ONE",propertyRef:{index:0},relationTableIndex:2,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"SYNCHRONIZATION_CONFLICT_VALUES",columnIndexes:[]},operations:{}},{columns:[{index:0,isGenerated:!0,manyRelationColumnRefs:[],name:"SYNCHRONIZATION_CONFLICT_LID",notNull:!1,propertyRefs:[{index:0}],sinceVersion:1,type:"NUMBER"},{index:1,isGenerated:!1,manyRelationColumnRefs:[],name:"TYPE",notNull:!1,propertyRefs:[{index:1}],sinceVersion:1,type:"STRING"},{index:2,isGenerated:!1,manyRelationColumnRefs:[],name:"ACKNOWLEDGED",notNull:!1,propertyRefs:[{index:2}],sinceVersion:1,type:"BOOLEAN"},{index:3,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:0,oneApplication_Index:1,oneTableIndex:10,oneColumnIndex:0,sinceVersion:1}],name:"REPOSITORY_LID",notNull:!1,propertyRefs:[{index:3}],sinceVersion:1,type:"NUMBER"},{index:4,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:1,oneApplication_Index:1,oneTableIndex:3,oneColumnIndex:0,sinceVersion:1}],name:"OVERWRITTEN_RECORD_HISTORY_LID",notNull:!1,propertyRefs:[{index:4}],sinceVersion:1,type:"NUMBER"},{index:5,isGenerated:!1,manyRelationColumnRefs:[{manyRelationIndex:2,oneApplication_Index:1,oneTableIndex:3,oneColumnIndex:0,sinceVersion:1}],name:"OVERWRITING_RECORD_HISTORY_LID",notNull:!1,propertyRefs:[{index:5}],sinceVersion:1,type:"NUMBER"}],idColumnRefs:[{index:0}],index:2,isLocal:!0,isAirEntity:!1,name:"SynchronizationConflict",properties:[{columnRef:{index:0},index:0,isId:!0,name:"_localId",sinceVersion:1},{columnRef:{index:1},index:1,isId:!1,name:"type",sinceVersion:1},{columnRef:{index:2},index:2,isId:!1,name:"acknowledged",sinceVersion:1},{index:3,isId:!1,name:"repository",relationRef:{index:0},sinceVersion:1},{index:4,isId:!1,name:"overwrittenRecordHistory",relationRef:{index:1},sinceVersion:1},{index:5,isId:!1,name:"overwritingRecordHistory",relationRef:{index:2},sinceVersion:1},{index:6,isId:!1,name:"values",relationRef:{index:3},sinceVersion:1}],relations:[{index:0,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:3},relationTableIndex:10,relationTableApplication_Index:1,sinceVersion:1},{index:1,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:4},relationTableIndex:3,relationTableApplication_Index:1,sinceVersion:1},{index:2,isId:!1,relationType:"MANY_TO_ONE",propertyRef:{index:5},relationTableIndex:3,relationTableApplication_Index:1,sinceVersion:1},{index:3,isId:!1,oneToManyElems:{mappedBy:"synchronizationConflict"},relationType:"ONE_TO_MANY",propertyRef:{index:6},relationTableIndex:1,sinceVersion:1}],sinceVersion:1,tableConfig:{name:"SYNCHRONIZATION_CONFLICT",columnIndexes:[]},operations:{}}],integerVersion:1,referencedApplications:[{domain:"airport",index:0,name:"@airport/airspace",sinceVersion:1,versions:[{entities:null,integerVersion:1,referencedApplications:null,versionString:"1.0.0"}]},{domain:"airport",index:1,name:"@airport/holding-pattern",sinceVersion:1,versions:[{entities:null,integerVersion:1,referencedApplications:null,versionString:"1.0.0"}]}],versionString:"1.0.0"}]},{domain:"airport",index:null,name:"@airport/session-state",sinceVersion:1,versions:[{api:{apiObjectMap:{SessionStateApi:{operationMap:{getLoggedInUser:{isAsync:!0,parameters:[]}}}}},entities:[],integerVersion:1,referencedApplications:[],versionString:"1.0.0"}]}]},1026:function(e,t,n){"use strict";n.d(t,{c:function(){return b}});var r,i=n(9126),o=n(8636),a=n(778),s=n(2614),l=n(3142),c=function(e){return e.forEach((function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("easing"===t){e["animation-timing-function"]=n,delete e[t]}else{var r=u(t);r!==t&&(e[r]=n,delete e[t])}}})),e},u=function(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()},d=function(e){if(void 0===r){var t=void 0!==e.style.animationName,n=void 0!==e.style.webkitAnimationName;r=!t&&n?"-webkit-":""}return r},p=function(e,t,n){var r=t.startsWith("animation")?d(e):"";e.style.setProperty(r+t,n)},f=function(e,t){var n=t.startsWith("animation")?d(e):"";e.style.removeProperty(n+t)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){var t=e.offset,n=[];for(var r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push("".concat(r,": ").concat(e[r],";"));return"".concat(100*t,"% { ").concat(n.join(" ")," }")})).join(" ")},m=[],v=function(e){var t=m.indexOf(e);return t<0&&(t=m.push(e)-1),"ion-animation-".concat(t)},y=function(e,t,n){var r,i=function(e){var t=void 0!==e.getRootNode?e.getRootNode():e;return t.head||t}(n),o=d(n),a=i.querySelector("#"+e);if(a)return a;var s=(null!==(r=n.ownerDocument)&&void 0!==r?r:document).createElement("style");return s.id=e,s.textContent="@".concat(o,"keyframes ").concat(e," { ").concat(t," } @").concat(o,"keyframes ").concat(e,"-alt { ").concat(t," }"),i.appendChild(s),s},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(void 0!==t){var n=Array.isArray(t)?t:[t];return[].concat((0,a.Z)(e),(0,a.Z)(n))}return e},b=function(e){var t,n,r,u,d,m,b,x,w,k,E,I,R,T=[],_=[],S=[],A=!1,N={},Z=[],C=[],O={},D=0,M=!1,V=!1,L=!0,P=!1,U=!0,F=!1,B=e,j=[],H=[],G=[],z=[],$=[],q=[],Y=[],W=[],Q=[],J=[],X="function"===typeof AnimationEffect||void 0!==l.w&&"function"===typeof l.w.AnimationEffect,K="function"===typeof Element&&"function"===typeof Element.prototype.animate&&X,ee=function(){return J},te=function(e){ie(),e&&oe()},ne=function(e,t){return((null===t||void 0===t?void 0:t.oneTimeCallback)?H:j).push({c:e,o:t}),R},re=function(){return j.length=0,H.length=0,R},ie=function(){if(K)J.forEach((function(e){e.cancel()})),J.length=0;else{var e=G.slice();(0,s.r)((function(){e.forEach((function(e){f(e,"animation-name"),f(e,"animation-duration"),f(e,"animation-timing-function"),f(e,"animation-iteration-count"),f(e,"animation-delay"),f(e,"animation-play-state"),f(e,"animation-fill-mode"),f(e,"animation-direction")}))}))}},oe=function(){$.forEach((function(e){(null===e||void 0===e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),$.length=0},ae=function(){return void 0!==d?d:b?b.getFill():"both"},se=function(){return void 0!==w?w:void 0!==m?m:b?b.getDirection():"normal"},le=function(){return M?"linear":void 0!==r?r:b?b.getEasing():"linear"},ce=function(){return V?0:void 0!==k?k:void 0!==n?n:b?b.getDuration():0},ue=function(){return void 0!==u?u:b?b.getIterations():1},de=function(){return void 0!==E?E:void 0!==t?t:b?b.getDelay():0},pe=function(e){K?ee().forEach((function(t){if(t.effect.setKeyframes)t.effect.setKeyframes(e);else{var n=new KeyframeEffect(t.effect.target,e,t.effect.getTiming());t.effect=n}})):me()},fe=function(){q.forEach((function(e){return e()})),Y.forEach((function(e){return e()}));var e=_,t=S,n=N;G.forEach((function(r){var i=r.classList;for(var o in e.forEach((function(e){return i.add(e)})),t.forEach((function(e){return i.remove(e)})),n)n.hasOwnProperty(o)&&p(r,o,n[o])}))},he=function(){0!==D&&0===--D&&(!function(){Ie(),W.forEach((function(e){return e()})),Q.forEach((function(e){return e()}));var e=L?1:0,t=Z,n=C,r=O;G.forEach((function(e){var i=e.classList;for(var o in t.forEach((function(e){return i.add(e)})),n.forEach((function(e){return i.remove(e)})),r)r.hasOwnProperty(o)&&p(e,o,r[o])})),j.forEach((function(t){return t.c(e,R)})),H.forEach((function(t){return t.c(e,R)})),H.length=0,U=!0,L&&(P=!0),L=!0}(),b&&b.animationFinish())},me=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];oe();var n=c(T);G.forEach((function(r){if(n.length>0){var i=h(n);I=void 0!==e?e:v(i);var o=y(I,i,r);$.push(o),p(r,"animation-duration","".concat(ce(),"ms")),p(r,"animation-timing-function",le()),p(r,"animation-delay","".concat(de(),"ms")),p(r,"animation-fill-mode",ae()),p(r,"animation-direction",se());var a=ue()===1/0?"infinite":ue().toString();p(r,"animation-iteration-count",a),p(r,"animation-play-state","paused"),t&&p(r,"animation-name","".concat(o.id,"-alt")),(0,s.r)((function(){p(r,"animation-name",o.id||null)}))}}))},ve=function(){G.forEach((function(e){var t=e.animate(T,{id:B,delay:de(),duration:ce(),easing:le(),iterations:ue(),fill:ae(),direction:se()});t.pause(),J.push(t)})),J.length>0&&(J[0].onfinish=function(){he()})},ye=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];fe(),T.length>0&&(K?ve():me(e)),A=!0},ge=function(e){if(e=Math.min(Math.max(e,0),.9999),K)J.forEach((function(t){t.currentTime=t.effect.getComputedTiming().delay+ce()*e,t.pause()}));else{var t="-".concat(ce()*e,"ms");G.forEach((function(e){T.length>0&&(p(e,"animation-delay",t),p(e,"animation-play-state","paused"))}))}},be=function(e){J.forEach((function(e){e.effect.updateTiming({delay:de(),duration:ce(),easing:le(),iterations:ue(),fill:ae(),direction:se()})})),void 0!==e&&ge(e)},xe=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;(0,s.r)((function(){G.forEach((function(n){p(n,"animation-name",I||null),p(n,"animation-duration","".concat(ce(),"ms")),p(n,"animation-timing-function",le()),p(n,"animation-delay",void 0!==t?"-".concat(t*ce(),"ms"):"".concat(de(),"ms")),p(n,"animation-fill-mode",ae()||null),p(n,"animation-direction",se()||null);var r=ue()===1/0?"infinite":ue().toString();p(n,"animation-iteration-count",r),e&&p(n,"animation-name","".concat(I,"-alt")),(0,s.r)((function(){p(n,"animation-name",I||null)}))}))}))},we=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;return e&&z.forEach((function(r){r.update(e,t,n)})),K?be(n):xe(t,n),R},ke=function(){A&&(K?J.forEach((function(e){e.pause()})):G.forEach((function(e){p(e,"animation-play-state","paused")})),F=!0)},Ee=function(){x=void 0,he()},Ie=function(){x&&clearTimeout(x)},Re=function(){G.forEach((function(e){f(e,"animation-duration"),f(e,"animation-delay"),f(e,"animation-play-state")}))},Te=function(e){return new Promise((function(t){(null===e||void 0===e?void 0:e.sync)&&(V=!0,ne((function(){return V=!1}),{oneTimeCallback:!0})),A||ye(),P&&(K?(ge(0),be()):xe(),P=!1),U&&(D=z.length+1,U=!1),ne((function(){return t()}),{oneTimeCallback:!0}),z.forEach((function(e){e.play()})),K?(J.forEach((function(e){e.play()})),0!==T.length&&0!==G.length||he()):function(){if(Ie(),(0,s.r)((function(){G.forEach((function(e){T.length>0&&p(e,"animation-play-state","running")}))})),0===T.length||0===G.length)he();else{var e=de()||0,t=ce()||0,n=ue()||1;isFinite(n)&&(x=setTimeout(Ee,e+t*n+100)),function(e,t){var n,r={passive:!0},i=function(){n&&n()},o=function(n){e===n.target&&(i(),t(n))};e&&(e.addEventListener("webkitAnimationEnd",o,r),e.addEventListener("animationend",o,r),n=function(){e.removeEventListener("webkitAnimationEnd",o,r),e.removeEventListener("animationend",o,r)})}(G[0],(function(){Ie(),(0,s.r)((function(){Re(),(0,s.r)(he)}))}))}}(),F=!1}))},_e=function(e,t){var n=T[0];return void 0===n||void 0!==n.offset&&0!==n.offset?T=[(0,i.Z)({offset:0},e,t)].concat((0,a.Z)(T)):n[e]=t,R};return R={parentAnimation:b,elements:G,childAnimations:z,id:B,animationFinish:he,from:_e,to:function(e,t){var n=T[T.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?T=[].concat((0,a.Z)(T),[(0,i.Z)({offset:1},e,t)]):n[e]=t,R},fromTo:function(e,t,n){return _e(e,t).to(e,n)},parent:function(e){return b=e,R},play:Te,pause:function(){return z.forEach((function(e){e.pause()})),ke(),R},stop:function(){z.forEach((function(e){e.stop()})),A&&(ie(),A=!1),M=!1,V=!1,U=!0,w=void 0,k=void 0,E=void 0,D=0,P=!1,L=!0,F=!1},destroy:function(e){return z.forEach((function(t){t.destroy(e)})),te(e),G.length=0,z.length=0,T.length=0,re(),A=!1,U=!0,R},keyframes:function(e){var t=T!==e;return T=e,t&&pe(T),R},addAnimation:function(e){if(null!=e)if(Array.isArray(e)){var t,n=(0,o.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.parent(R),z.push(r)}}catch(i){n.e(i)}finally{n.f()}}else e.parent(R),z.push(e);return R},addElement:function(e){if(null!=e)if(1===e.nodeType)G.push(e);else if(e.length>=0)for(var t=0;t<e.length;t++)G.push(e[t]);else console.error("Invalid addElement value");return R},update:we,fill:function(e){return d=e,we(!0),R},direction:function(e){return m=e,we(!0),R},iterations:function(e){return u=e,we(!0),R},duration:function(e){return K||0!==e||(e=1),n=e,we(!0),R},easing:function(e){return r=e,we(!0),R},delay:function(e){return t=e,we(!0),R},getWebAnimations:ee,getKeyframes:function(){return T},getFill:ae,getDirection:se,getDelay:de,getIterations:ue,getEasing:le,getDuration:ce,afterAddRead:function(e){return W.push(e),R},afterAddWrite:function(e){return Q.push(e),R},afterClearStyles:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;O[r]=""}}catch(i){n.e(i)}finally{n.f()}return R},afterStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return O=e,R},afterRemoveClass:function(e){return C=g(C,e),R},afterAddClass:function(e){return Z=g(Z,e),R},beforeAddRead:function(e){return q.push(e),R},beforeAddWrite:function(e){return Y.push(e),R},beforeClearStyles:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=(0,o.Z)(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;N[r]=""}}catch(i){n.e(i)}finally{n.f()}return R},beforeStyles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N=e,R},beforeRemoveClass:function(e){return S=g(S,e),R},beforeAddClass:function(e){return _=g(_,e),R},onFinish:ne,isRunning:function(){return 0!==D&&!F},progressStart:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return z.forEach((function(n){n.progressStart(e,t)})),ke(),M=e,A||ye(),we(!1,!0,t),R},progressStep:function(e){return z.forEach((function(t){t.progressStep(e)})),ge(e),R},progressEnd:function(e,t,n){return M=!1,z.forEach((function(r){r.progressEnd(e,t,n)})),void 0!==n&&(k=n),P=!1,L=!0,0===e?("reverse"===(w="reverse"===se()?"normal":"reverse")&&(L=!1),K?(we(),ge(1-t)):(E=(1-t)*ce()*-1,we(!1,!1))):1===e&&(K?(we(),ge(t)):(E=t*ce()*-1,we(!1,!1))),void 0!==e&&(ne((function(){k=void 0,w=void 0,E=void 0}),{oneTimeCallback:!0}),b||Te()),R}}}},2568:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var r=function(e){return e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase())}},1770:function(e,t,n){"use strict";n.r(t),n.d(t,{startFocusVisible:function(){return o}});var r="ion-focused",i=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],o=function(e){var t=[],n=!0,o=e?e.shadowRoot:document,a=e||document.body,s=function(e){t.forEach((function(e){return e.classList.remove(r)})),e.forEach((function(e){return e.classList.add(r)})),t=e},l=function(){n=!1,s([])},c=function(e){(n=i.includes(e.key))||s([])},u=function(e){if(n&&void 0!==e.composedPath){var t=e.composedPath().filter((function(e){return!!e.classList&&e.classList.contains("ion-focusable")}));s(t)}},d=function(){o.activeElement===a&&s([])};o.addEventListener("keydown",c),o.addEventListener("focusin",u),o.addEventListener("focusout",d),o.addEventListener("touchstart",l),o.addEventListener("mousedown",l);return{destroy:function(){o.removeEventListener("keydown",c),o.removeEventListener("focusin",u),o.removeEventListener("focusout",d),o.removeEventListener("touchstart",l),o.removeEventListener("mousedown",l)},setFocus:s}}},7620:function(e,t,n){"use strict";n.d(t,{G:function(){return u}});var r=n(8636),i=n(5101),o=n(9155),a=function(){function e(){(0,i.Z)(this,e),this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}return(0,o.Z)(e,[{key:"createGesture",value:function(e){var t;return new s(this,this.newID(),e.name,null!==(t=e.priority)&&void 0!==t?t:0,!!e.disableScroll)}},{key:"createBlocker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new l(this,this.newID(),e.disable,!!e.disableScroll)}},{key:"start",value:function(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}},{key:"capture",value:function(e,t,n){if(!this.start(e,t,n))return!1;var r=this.requestedStart,i=-1e4;if(r.forEach((function(e){i=Math.max(i,e)})),i===n){this.capturedId=t,r.clear();var o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return r.delete(t),!1}},{key:"release",value:function(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}},{key:"disableGesture",value:function(e,t){var n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}},{key:"enableGesture",value:function(e,t){var n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}},{key:"disableScroll",value:function(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(c)}},{key:"enableScroll",value:function(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(c)}},{key:"canStart",value:function(e){return void 0===this.capturedId&&!this.isDisabled(e)}},{key:"isCaptured",value:function(){return void 0!==this.capturedId}},{key:"isScrollDisabled",value:function(){return this.disabledScroll.size>0}},{key:"isDisabled",value:function(e){var t=this.disabledGestures.get(e);return!!(t&&t.size>0)}},{key:"newID",value:function(){return this.gestureId++,this.gestureId}}]),e}(),s=function(){function e(t,n,r,o,a){(0,i.Z)(this,e),this.id=n,this.name=r,this.disableScroll=a,this.priority=1e6*o+n,this.ctrl=t}return(0,o.Z)(e,[{key:"canStart",value:function(){return!!this.ctrl&&this.ctrl.canStart(this.name)}},{key:"start",value:function(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}},{key:"capture",value:function(){if(!this.ctrl)return!1;var e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}},{key:"release",value:function(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}},{key:"destroy",value:function(){this.release(),this.ctrl=void 0}}]),e}(),l=function(){function e(t,n,r,o){(0,i.Z)(this,e),this.id=n,this.disable=r,this.disableScroll=o,this.ctrl=t}return(0,o.Z)(e,[{key:"block",value:function(){if(this.ctrl){if(this.disable){var e,t=(0,r.Z)(this.disable);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.ctrl.disableGesture(n,this.id)}}catch(i){t.e(i)}finally{t.f()}}this.disableScroll&&this.ctrl.disableScroll(this.id)}}},{key:"unblock",value:function(){if(this.ctrl){if(this.disable){var e,t=(0,r.Z)(this.disable);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.ctrl.enableGesture(n,this.id)}}catch(i){t.e(i)}finally{t.f()}}this.disableScroll&&this.ctrl.enableScroll(this.id)}}},{key:"destroy",value:function(){this.unblock(),this.ctrl=void 0}}]),e}(),c="backdrop-no-scroll",u=new a},9401:function(e,t,n){"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:function(){return l},OVERLAY_BACK_BUTTON_PRIORITY:function(){return s},blockHardwareBackButton:function(){return o},startHardwareBackButton:function(){return a}});var r=n(4741),i=n(6948),o=function(){document.addEventListener("backbutton",(function(){}))},a=function(){var e=document,t=!1;e.addEventListener("backbutton",(function(){if(!t){var n=0,o=[],a=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register:function(e,t){o.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(a);var s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(null===t||void 0===t?void 0:t.handler)){e.next=6;break}if(null==(n=t.handler(l))){e.next=6;break}return e.next=6,n;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){if(o.length>0){var e={priority:Number.MIN_SAFE_INTEGER,handler:function(){},id:-1};o.forEach((function(t){t.priority>=e.priority&&(e=t)})),t=!0,o=o.filter((function(t){return t.id!==e.id})),s(e).then((function(){return t=!1}))}};l()}}))},s=100,l=99},2614:function(e,t,n){"use strict";n.d(t,{a:function(){return c},b:function(){return u},c:function(){return o},d:function(){return a},e:function(){return y},f:function(){return m},g:function(){return d},h:function(){return g},i:function(){return l},j:function(){return E},k:function(){return h},l:function(){return k},m:function(){return b},n:function(){return v},p:function(){return w},q:function(){return f},r:function(){return p},s:function(){return R},t:function(){return r},u:function(){return x}});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(n){i(e,t,n)}))},i=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0,o={passive:!0},a=500,s=function(){t&&t()},l=function(t){void 0!==t&&e!==t.target||(s(),i(t))};return e&&(e.addEventListener("webkitTransitionEnd",l,o),e.addEventListener("transitionend",l,o),n=setTimeout(l,r+a),t=function(){n&&(clearTimeout(n),n=void 0),e.removeEventListener("webkitTransitionEnd",l,o),e.removeEventListener("transitionend",l,o)}),s},o=function(e,t){e.componentOnReady?e.componentOnReady().then((function(e){return t(e)})):p((function(){return t(e)}))},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t.forEach((function(t){e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n},s=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],l=function(e,t){var n=s;return t&&t.length>0&&(n=n.filter((function(e){return!t.includes(e)}))),a(e,n)},c=function(e,t,n,r){var i;if("undefined"!==typeof window){var o=window,a=null===(i=null===o||void 0===o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(a){var s=a.get("_ael");if(s)return s(e,t,n,r);if(a._ael)return a._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},u=function(e,t,n,r){var i;if("undefined"!==typeof window){var o=window,a=null===(i=null===o||void 0===o?void 0:o.Ionic)||void 0===i?void 0:i.config;if(a){var s=a.get("_rel");if(s)return s(e,t,n,r);if(a._rel)return a._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return e.shadowRoot||t},p=function(e){return"function"===typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"===typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e)},f=function(e){return!!e.shadowRoot&&!!e.attachShadow},h=function(e){var t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},m=function(e){if(e.focus(),e.classList.contains("ion-focusable")){var t=e.closest("ion-app");t&&t.setFocus([e])}},v=function(e,t){var n,r=e.getAttribute("aria-labelledby"),i=e.id,o=null!==r&&""!==r.trim()?r:t+"-lbl",a=null!==r&&""!==r.trim()?document.getElementById(r):h(e);return a?(null===r&&(a.id=o),n=a.textContent,a.setAttribute("aria-hidden","true")):""!==i.trim()&&(a=document.querySelector('label[for="'.concat(i,'"]')))&&(""!==a.id?o=a.id:a.id=o="".concat(i,"-lbl"),n=a.textContent),{label:a,labelId:o,labelText:n}},y=function(e,t,n,r,i){if(e||f(t)){var o=t.querySelector("input.aux-input");o||((o=t.ownerDocument.createElement("input")).type="hidden",o.classList.add("aux-input"),t.appendChild(o)),o.disabled=i,o.name=n,o.value=r||""}},g=function(e,t,n){return Math.max(e,Math.min(t,n))},b=function(e,t){if(!e){var n="ASSERT: "+t;throw console.error(n),new Error(n)}},x=function(e){return e.timeStamp||Date.now()},w=function(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},k=function(e){var t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error('"'.concat(e,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},E=function(e,t){var n=e._original||e;return{_original:e,emit:I(n.emit.bind(n),t)}},I=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(){clearTimeout(t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=setTimeout.apply(void 0,[e,n].concat(i))}},R=function(e,t){if(null!==e&&void 0!==e||(e={}),null!==t&&void 0!==t||(t={}),e===t)return!0;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0,i=n;r<i.length;r++){var o=i[r];if(!(o in t))return!1;if(e[o]!==t[o])return!1}return!0}},6497:function(e,t,n){"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:function(){return i.G},createGesture:function(){return l}});var r,i=n(7620),o=function(e,t,n,r){var i,o,s=a(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;return e.__zone_symbol__addEventListener?(i="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(i="addEventListener",o="removeEventListener"),e[i](t,n,s),function(){e[o](t,n,s)}},a=function(e){if(void 0===r)try{var t=Object.defineProperty({},"passive",{get:function(){r=!0}});e.addEventListener("optsTest",(function(){}),t)}catch(n){r=!1}return!!r},s=function(e){return e instanceof Document?e:e.ownerDocument},l=function(e){var t=!1,n=!1,r=!0,a=!1,l=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),p=l.canStart,f=l.onWillStart,h=l.onStart,m=l.onEnd,v=l.notCaptured,y=l.onMove,g=l.threshold,b=l.passive,x=l.blurOnStart,w={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},k=function(e,t,n){var r=n*(Math.PI/180),i="x"===e,o=Math.cos(r),a=t*t,s=0,l=0,c=!1,u=0;return{start:function(e,t){s=e,l=t,u=0,c=!0},detect:function(e,t){if(!c)return!1;var n=e-s,r=t-l,d=n*n+r*r;if(d<a)return!1;var p=Math.sqrt(d),f=(i?n:r)/p;return u=f>o?1:f<-o?-1:0,c=!1,!0},isGesture:function(){return 0!==u},getDirection:function(){return u}}}(l.direction,l.threshold,l.maxAngle),E=i.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),I=function(){t&&(a=!1,y&&y(w))},R=function(){return!!E.capture()&&(t=!0,r=!1,w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime,f?f(w).then(T):T(),!0)},T=function(){x&&function(){if("undefined"!==typeof document){var e=document.activeElement;(null===e||void 0===e?void 0:e.blur)&&e.blur()}}(),h&&h(w),r=!0},_=function(){t=!1,n=!1,a=!1,r=!0,E.release()},S=function(e){var n=t,i=r;_(),i&&(c(w,e),n?m&&m(w):v&&v(w))},A=function(e,t,n,r,i){var a,l,c,u,d,p,f,h=0,m=function(r){h=Date.now()+2e3,t(r)&&(!l&&n&&(l=o(e,"touchmove",n,i)),c||(c=o(r.target,"touchend",y,i)),u||(u=o(r.target,"touchcancel",y,i)))},v=function(r){h>Date.now()||t(r)&&(!p&&n&&(p=o(s(e),"mousemove",n,i)),f||(f=o(s(e),"mouseup",g,i)))},y=function(e){b(),r&&r(e)},g=function(e){x(),r&&r(e)},b=function(){l&&l(),c&&c(),u&&u(),l=c=u=void 0},x=function(){p&&p(),f&&f(),p=f=void 0},w=function(){b(),x()},k=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?(a||(a=o(e,"touchstart",m,i)),d||(d=o(e,"mousedown",v,i))):(a&&a(),d&&d(),a=d=void 0,w())};return{enable:k,stop:w,destroy:function(){k(!1),r=n=t=void 0}}}(l.el,(function(e){var t=d(e);return!(n||!r)&&(u(e,w),w.startX=w.currentX,w.startY=w.currentY,w.startTime=w.currentTime=t,w.velocityX=w.velocityY=w.deltaX=w.deltaY=0,w.event=e,(!p||!1!==p(w))&&(E.release(),!!E.start()&&(n=!0,0===g?R():(k.start(w.startX,w.startY),!0))))}),(function(e){t?!a&&r&&(a=!0,c(w,e),requestAnimationFrame(I)):(c(w,e),k.detect(w.currentX,w.currentY)&&(k.isGesture()&&R()||N()))}),S,{capture:!1,passive:b}),N=function(){_(),A.stop(),v&&v(w)};return{enable:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e||(t&&S(void 0),_()),A.enable(e)},destroy:function(){E.destroy(),A.destroy()}}},c=function(e,t){if(t){var n=e.currentX,r=e.currentY,i=e.currentTime;u(t,e);var o=e.currentX,a=e.currentY,s=(e.currentTime=d(t))-i;if(s>0&&s<100){var l=(o-n)/s,c=(a-r)/s;e.velocityX=.7*l+.3*e.velocityX,e.velocityY=.7*c+.3*e.velocityY}e.deltaX=o-e.startX,e.deltaY=a-e.startY,e.event=t}},u=function(e,t){var n=0,r=0;if(e){var i=e.changedTouches;if(i&&i.length>0){var o=i[0];n=o.clientX,r=o.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},d=function(e){return e.timeStamp||Date.now()}},5862:function(e,t,n){"use strict";n.d(t,{b:function(){return s},c:function(){return l},d:function(){return c},e:function(){return I},g:function(){return _},l:function(){return k},s:function(){return R},t:function(){return u}});var r=n(4741),i=n(6948),o=n(883),a=n(2614),s="ionViewWillLeave",l="ionViewDidLeave",c="ionViewWillUnload",u=function(e){return new Promise((function(t,n){(0,o.Iu)((function(){d(e),p(e).then((function(n){n.animation&&n.animation.destroy(),f(e),t(n)}),(function(t){f(e),n(t)}))}))}))},d=function(e){var t=e.enteringEl,n=e.leavingEl;T(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),R(t,!1),t.style.setProperty("pointer-events","none"),n&&(R(n,!1),n.style.setProperty("pointer-events","none"))},p=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:return n=e.sent,i=n&&o.Z5.isBrowser?m(n,t):v(t),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.leavingEl&&t.animated&&0!==t.duration){e.next=2;break}return e.abrupt("return",void 0);case 2:if(!t.animationBuilder){e.next=4;break}return e.abrupt("return",t.animationBuilder);case 4:if("ios"!==t.mode){e.next=10;break}return e.next=7,n.e(798).then(n.bind(n,7798));case 7:e.t0=e.sent.iosTransitionAnimation,e.next=13;break;case 10:return e.next=12,n.e(421).then(n.bind(n,5421));case 12:e.t0=e.sent.mdTransitionAnimation;case 13:return i=e.t0,e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n,!0);case 2:return i=t(n.baseEl,n),x(n.enteringEl,n.leavingEl),e.next=6,b(i,n);case 6:return o=e.sent,n.progressCallback&&n.progressCallback(void 0),o&&w(n.enteringEl,n.leavingEl),e.abrupt("return",{hasCompleted:o,animation:i});case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.enteringEl,i=t.leavingEl,e.next=4,y(t,!1);case 4:return x(n,i),w(n,i),e.abrupt("return",{hasCompleted:!0});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,o;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0!==t.deepWait?t.deepWait:n,o=i?[I(t.enteringEl),I(t.leavingEl)]:[E(t.enteringEl),E(t.leavingEl)],e.next=4,Promise.all(o);case 4:return e.next=6,g(t.viewIsReady,t.enteringEl);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,t(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e,t){var n=t.progressCallback,r=new Promise((function(t){e.onFinish((function(e){return t(1===e)}))}));return n?(e.progressStart(!0),n(e)):e.play(),r},x=function(e,t){k(t,s),k(e,"ionViewWillEnter")},w=function(e,t){k(e,"ionViewDidEnter"),k(t,l)},k=function(e,t){if(e){var n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},E=function(e){return e?new Promise((function(t){return(0,a.c)(e,t)})):Promise.resolve()},I=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t)){e.next=17;break}if(null==n.componentOnReady){e.next=10;break}return e.next=5,n.componentOnReady();case 5:if(null==e.sent){e.next=8;break}return e.abrupt("return");case 8:e.next=15;break;case 10:if(null==n.__registerHost){e.next=15;break}return i=new Promise((function(e){return(0,a.r)(e)})),e.next=14,i;case 14:return e.abrupt("return");case 15:return e.next=17,Promise.all(Array.from(n.children).map(I));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},T=function(e,t,n){void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},_=function(e){if(e.classList.contains("ion-page"))return e;var t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e}},3142:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var r="undefined"!==typeof window?window:void 0},3362:function(e,t,n){"use strict";n.d(t,{a:function(){return i},b:function(){return o},p:function(){return r}});var r=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=console).warn.apply(t,["[Ionic Warning]: ".concat(e)].concat(r))},i=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=console).error.apply(t,["[Ionic Error]: ".concat(e)].concat(r))},o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return console.error("<".concat(e.tagName.toLowerCase(),"> must be used inside ").concat(n.join(" or "),"."))}},612:function(e,t,n){"use strict";n.d(t,{I:function(){return s},a:function(){return f},b:function(){return l},c:function(){return m},d:function(){return y},f:function(){return p},g:function(){return d},i:function(){return u},p:function(){return v},r:function(){return g},s:function(){return h}});var r=n(4741),i=n(6948),o=n(2614),a=n(3362),s="ion-content",l=".ion-content-scroll-host",c="".concat(s,", ").concat(l),u=function(e){return"ION-CONTENT"===e.tagName},d=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u(t)){e.next=4;break}return e.next=3,new Promise((function(e){return(0,o.c)(t,e)}));case 3:return e.abrupt("return",t.getScrollElement());case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.querySelector(l);return t||e.querySelector(c)},f=function(e){return e.closest(c)},h=function(e,t){return u(e)?e.scrollToTop(t):Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"}))},m=function(e,t,n,r){return u(e)?e.scrollByPoint(t,n,r):Promise.resolve(e.scrollBy({top:n,left:t,behavior:r>0?"smooth":"auto"}))},v=function(e){return(0,a.b)(e,s)},y=function(e){if(u(e)){var t=e,n=t.scrollY;return t.scrollY=!1,n}return e.style.setProperty("overflow","hidden"),!0},g=function(e,t){u(e)?e.scrollY=t:e.style.removeProperty("overflow")}},598:function(e,t,n){"use strict";n.r(t),n.d(t,{KEYBOARD_DID_CLOSE:function(){return i},KEYBOARD_DID_OPEN:function(){return r},copyVisualViewport:function(){return b},keyboardDidClose:function(){return m},keyboardDidOpen:function(){return f},keyboardDidResize:function(){return h},resetKeyboardAssist:function(){return l},setKeyboardClose:function(){return p},setKeyboardOpen:function(){return d},startKeyboardAssist:function(){return c},trackViewportChanges:function(){return g}});var r="ionKeyboardDidShow",i="ionKeyboardDidHide",o={},a={},s=!1,l=function(){o={},a={},s=!1},c=function(e){u(e),e.visualViewport&&(a=b(e.visualViewport),e.visualViewport.onresize=function(){g(e),f()||h(e)?d(e):m(e)&&p(e)})},u=function(e){e.addEventListener("keyboardDidShow",(function(t){return d(e,t)})),e.addEventListener("keyboardDidHide",(function(){return p(e)}))},d=function(e,t){v(e,t),s=!0},p=function(e){y(e),s=!1},f=function(){var e=(o.height-a.height)*a.scale;return!s&&o.width===a.width&&e>150},h=function(e){return s&&!m(e)},m=function(e){return s&&a.height===e.innerHeight},v=function(e,t){var n=t?t.keyboardHeight:e.innerHeight-a.height,i=new CustomEvent(r,{detail:{keyboardHeight:n}});e.dispatchEvent(i)},y=function(e){var t=new CustomEvent(i);e.dispatchEvent(t)},g=function(e){o=Object.assign({},a),a=b(e.visualViewport)},b=function(e){return{width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale}}},883:function(e,t,n){"use strict";n.d(t,{Z5:function(){return Me},_y:function(){return Ve},mv:function(){return bn},AA:function(){return Ye},yM:function(){return ot},xE:function(){return Ut},K3:function(){return Le},iJ:function(){return it},h:function(){return $e},GH:function(){return Kt},wj:function(){return On},PM:function(){return rt},TX:function(){return wn},Iu:function(){return Dn}});var r,i,o,a,s=n(5101),l=n(9155),c=n(4741),u=n(6948),d=n(9548),p=n(778),f=!1,h=!0,m=!1,v=!0,y=!0,g=!0,b=!0,x=!0,w=!0,k=!0,E=!0,I=!0,R=!0,T=!0,_=!0,S=!1,A=!0,N=!0,Z=!0,C=!0,O=!0,D=!0,M=!0,V=!0,L=!0,P=!0,U=!0,F=!0,B=!0,j=!0,H=!0,G=!0,z=!0,$=!0,q=!0,Y=!0,W=!0,Q=!0,J=!0,X=!0,K=!0,ee=!0,te=!0,ne=!0,re=!1,ie=!1,oe=!1,ae=!1,se=!1,le=!1,ce=!1,ue=!1,de=!1,pe=!0,fe=!1,he=!0,me=!1,ve=!0,ye=!0,ge=!0,be=!1,xe=!0,we=!0,ke=!0,Ee=!1,Ie=!1,Re=!1,Te=!0,_e="app",Se=0,Ae=!1,Ne=!1,Ze=!1,Ce=!1,Oe=0,De=!1,Me={isDev:!!oe,isBrowser:!0,isServer:!1,isTesting:!!ae},Ve={},Le=function(e){var t=new URL(e,xn.$resourcesUrl$);return t.origin!==yn.location.origin?t.href:t.pathname},Pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(de&&performance.mark){var n="st:".concat(e,":").concat(t,":").concat(Se++);return performance.mark(n),function(){return performance.measure("[Stencil] ".concat(e,"() <").concat(t,">"),n)}}return function(){}},Ue=function(e,t){return de&&performance.mark?(0===performance.getEntriesByName(e).length&&performance.mark(e),function(){0===performance.getEntriesByName(t).length&&performance.measure(t,e)}):function(){}},Fe="s-id",Be="sty-id",je="c-id",He="http://www.w3.org/1999/xlink",Ge={},ze=function(e){return"object"===(e=typeof e)||"function"===e},$e=function(e,t){for(var n=null,r=null,i=null,o=!1,a=!1,s=[],l=function t(r){for(var i=0;i<r.length;i++)n=r[i],Array.isArray(n)?t(n):null!=n&&"boolean"!==typeof n&&((o="function"!==typeof e&&!ze(n))?n=String(n):oe&&"function"!==typeof e&&void 0===n.$flags$&&dn("vNode passed as children has unexpected type.\nMake sure it's using the correct h() function.\nEmpty objects can also be the cause, look for JSX comments that became objects."),o&&a?s[s.length-1].$text$+=n:s.push(o?qe(null,n):n),a=o)},c=arguments.length,u=new Array(c>2?c-2:0),d=2;d<c;d++)u[d-2]=arguments[d];if(l(u),t&&(oe&&"input"===e&&Ke(t),Y&&t.key&&(r=t.key),pe&&t.name&&(i=t.name),$)){var p=t.className||t.class;p&&(t.class="object"!==typeof p?p:Object.keys(p).filter((function(e){return p[e]})).join(" "))}if(oe&&s.some(We)&&dn("The <Host> must be the single root component. Make sure:\n- You are NOT using hostData() and <Host> in the same component.\n- <Host> is used once, and it's the single root component of the render() function."),q&&"function"===typeof e)return e(null===t?{}:t,s,Qe);var f=qe(e,null);return f.$attrs$=t,s.length>0&&(f.$children$=s),Y&&(f.$key$=r),pe&&(f.$name$=i),f},qe=function(e,t){var n={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null};return G&&(n.$attrs$=null),Y&&(n.$key$=null),pe&&(n.$name$=null),n},Ye={},We=function(e){return e&&e.$tag$===Ye},Qe={forEach:function(e,t){return e.map(Je).forEach(t)},map:function(e,t){return e.map(Je).map(t).map(Xe)}},Je=function(e){return{vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}},Xe=function(e){if("function"===typeof e.vtag){var t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),$e.apply(void 0,[e.vtag,t].concat((0,p.Z)(e.vchildren||[])))}var n=qe(e.vtag,e.vtext);return n.$attrs$=e.vattrs,n.$children$=e.vchildren,n.$key$=e.vkey,n.$name$=e.vname,n},Ke=function(e){var t=Object.keys(e),n=t.indexOf("value");if(-1!==n){var r=t.indexOf("type"),i=t.indexOf("min"),o=t.indexOf("max"),a=t.indexOf("step");(n<r||n<i||n<o||n<a)&&pn('The "value" prop of <input> should be set after "min", "max", "type" and "step"')}},et=function e(t,n,r,i,o,a,s){var l,c,u,d;if(1===a.nodeType){for((l=a.getAttribute(je))&&((c=l.split("."))[0]!==s&&"0"!==c[0]||(u={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:a.tagName.toLowerCase(),$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},n.push(u),a.removeAttribute(je),t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u,t=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))),d=a.childNodes.length-1;d>=0;d--)e(t,n,r,i,o,a.childNodes[d],s);if(a.shadowRoot)for(d=a.shadowRoot.childNodes.length-1;d>=0;d--)e(t,n,r,i,o,a.shadowRoot.childNodes[d],s)}else if(8===a.nodeType)(c=a.nodeValue.split("."))[1]!==s&&"0"!==c[1]||(l=c[0],u={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:a,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===l?(u.$elm$=a.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,n.push(u),a.remove(),t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u,i&&"0"===u.$depth$&&(i[u.$index$]=u.$elm$))):u.$hostId$===s&&("s"===l?(u.$tag$="slot",c[5]?a["s-sn"]=u.$name$=c[5]:a["s-sn"]="",a["s-sr"]=!0,L&&i&&(u.$elm$=gn.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),a.parentNode.insertBefore(u.$elm$,a),a.remove(),"0"===u.$depth$&&(i[u.$index$]=u.$elm$)),r.push(u),t.$children$||(t.$children$=[]),t.$children$[u.$index$]=u):"r"===l&&(L&&i?a.remove():pe&&(o["s-cr"]=a,a["s-cn"]=!0))));else if(t&&"style"===t.$tag$){var p=qe(null,a.textContent);p.$elm$=a,p.$index$="0",t.$children$=[p]}},tt=function e(t,n){if(1===t.nodeType){for(var r=0;r<t.childNodes.length;r++)e(t.childNodes[r],n);if(t.shadowRoot)for(r=0;r<t.shadowRoot.childNodes.length;r++)e(t.shadowRoot.childNodes[r],n)}else if(8===t.nodeType){var i=t.nodeValue.split(".");"o"===i[0]&&(n.set(i[1]+"."+i[2],t),t.nodeValue="",t["s-en"]=i[3])}},nt=function(e){return vn.map((function(t){return t(e)})).find((function(e){return!!e}))},rt=function(e){return vn.push(e)},it=function(e){return an(e).$modeName$},ot=function(e,t,n){var r=function(e){return ue?an(e).$hostElement$:e}(e);return{emit:function(e){return oe&&!r.isConnected&&pn('The "'.concat(t,'" event was emitted, but the dispatcher node is no longer connected to the dom.')),at(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}}},at=function(e,t,n){var r=xn.ce(t,n);return e.dispatchEvent(r),r},st=new WeakMap,lt=function(e,t,n){var r=mn.get(e);In&&n?"string"===typeof(r=r||new CSSStyleSheet)?r=t:r.replaceSync(t):r=t,mn.set(e,r)},ct=function(e,t,n,r){var i=dt(t,n),o=mn.get(i);if(!Te)return i;if(e=11===e.nodeType?e:gn,o)if("string"===typeof o){e=e.head||e;var a,s=st.get(e);if(s||st.set(e,s=new Set),!s.has(i)){if(le&&e.host&&(a=e.querySelector("[".concat(Be,'="').concat(i,'"]'))))a.innerHTML=o;else{if(be&&xn.$cssShim$){var l=(a=xn.$cssShim$.createHostStyle(r,i,o,!!(10&t.$flags$)))["s-sc"];l&&(i=l,s=null)}else(a=gn.createElement("style")).innerHTML=o;(se||re)&&a.setAttribute(Be,i),e.insertBefore(a,e.querySelector("link"))}s&&s.add(i)}}else xe&&!e.adoptedStyleSheets.includes(o)&&(e.adoptedStyleSheets=[].concat((0,p.Z)(e.adoptedStyleSheets),[o]));return i},ut=function(e){var t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=Pe("attachStyles",t.$tagName$),o=ct(L&&kn&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);(L||V)&&U&&10&r&&(n["s-sc"]=o,n.classList.add(o+"-h"),V&&2&r&&n.classList.add(o+"-s")),i()},dt=function(e,t){return"sc-"+(C&&t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$)},pt=function(e,t,n,r,i,o){if(n!==r){var a=ln(e,t),s=t.toLowerCase();if($&&"class"===t){var l=e.classList,c=ht(n),u=ht(r);l.remove.apply(l,(0,p.Z)(c.filter((function(e){return e&&!u.includes(e)})))),l.add.apply(l,(0,p.Z)(u.filter((function(e){return e&&!c.includes(e)}))))}else if(K&&"style"===t){if(H)for(var d in n)r&&null!=r[d]||(!se&&d.includes("-")?e.style.removeProperty(d):e.style[d]="");for(var f in r)n&&r[f]===n[f]||(!se&&f.includes("-")?e.style.setProperty(f,r[f]):e.style[f]=r[f])}else if(Y&&"key"===t);else if(Q&&"ref"===t)r&&r(e);else if(!W||(ue?a:e.__lookupSetter__(t))||"o"!==t[0]||"n"!==t[1]){if(J){var h=ze(r);if((a||h&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{var m=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==m||(e[t]=m)}}catch(y){}var v=!1;z&&s!==(s=s.replace(/^xlink\:?/,""))&&(t=s,v=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(z&&v?e.removeAttributeNS(He,t):e.removeAttribute(t)):(!a||4&o||i)&&!h&&(r=!0===r?"":r,z&&v?e.setAttributeNS(He,t,r):e.setAttribute(t,r))}}else t="-"===t[2]?t.slice(3):ln(yn,s)?s.slice(2):s[2]+t.slice(3),n&&xn.rel(e,t,n,!1),r&&xn.ael(e,t,r,!1)}},ft=/\s/,ht=function(e){return e?e.split(ft):[]},mt=function(e,t,n,r){var i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,o=e&&e.$attrs$||Ge,a=t.$attrs$||Ge;if(H)for(r in o)r in a||pt(i,r,o[r],void 0,n,t.$flags$);for(r in a)pt(i,r,o[r],a[r],n,t.$flags$)},vt=function e(t,n,a,s){var l,c,u,d=n.$children$[a],p=0;if(pe&&!Ae&&(Ze=!0,"slot"===d.$tag$&&(r&&s.classList.add(r+"-s"),d.$flags$|=d.$children$?2:1)),oe&&d.$elm$&&dn("The JSX ".concat(null!==d.$text$?'"'.concat(d.$text$,'" text'):'"'.concat(d.$tag$,'" element')," node should not be shared within the same renderer. The renderer caches element lookups in order to improve performance. However, a side effect from this is that the exact same JSX node should not be reused. For more information please see https://stenciljs.com/docs/templating-jsx#avoid-shared-jsx-nodes")),ee&&null!==d.$text$)l=d.$elm$=gn.createTextNode(d.$text$);else if(pe&&1&d.$flags$)l=d.$elm$=ie||se?Zt(d):gn.createTextNode("");else{if(j&&!Ce&&(Ce="svg"===d.$tag$),l=d.$elm$=j?gn.createElementNS(Ce?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",pe&&2&d.$flags$?"slot-fb":d.$tag$):gn.createElement(pe&&2&d.$flags$?"slot-fb":d.$tag$),j&&Ce&&"foreignObject"===d.$tag$&&(Ce=!1),G&&mt(null,d,Ce),(L||V)&&null!=r&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),d.$children$)for(p=0;p<d.$children$.length;++p)(c=e(t,d,p,l))&&l.appendChild(c);j&&("svg"===d.$tag$?Ce=!1:"foreignObject"===l.tagName&&(Ce=!0))}return pe&&(l["s-hn"]=o,3&d.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=d.$name$||"",(u=t&&t.$children$&&t.$children$[a])&&u.$tag$===d.$tag$&&t.$elm$&&yt(t.$elm$,!1))),l},yt=function e(t,n){xn.$flags$|=1;for(var r=t.childNodes,i=r.length-1;i>=0;i--){var a=r[i];a["s-hn"]!==o&&a["s-ol"]&&(Et(a).insertBefore(a,kt(a)),a["s-ol"].remove(),a["s-ol"]=void 0,Ze=!0),n&&e(a,n)}xn.$flags$&=-2},gt=function(e,t,n,r,i,a){var s,l=pe&&e["s-cr"]&&e["s-cr"].parentNode||e;for(L&&l.shadowRoot&&l.tagName===o&&(l=l.shadowRoot);i<=a;++i)r[i]&&(s=vt(null,n,i,e))&&(r[i].$elm$=s,l.insertBefore(s,pe?kt(t):t))},bt=function(e,t,n,r,i){for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,At(r),pe&&(Ne=!0,i["s-ol"]?i["s-ol"].remove():yt(i,!0)),i.remove())},xt=function(e,t,n,r){for(var i,o,a=0,s=0,l=0,c=0,u=t.length-1,d=t[0],p=t[u],f=r.length-1,h=r[0],m=r[f];a<=u&&s<=f;)if(null==d)d=t[++a];else if(null==p)p=t[--u];else if(null==h)h=r[++s];else if(null==m)m=r[--f];else if(wt(d,h))It(d,h),d=t[++a],h=r[++s];else if(wt(p,m))It(p,m),p=t[--u],m=r[--f];else if(wt(d,m))!pe||"slot"!==d.$tag$&&"slot"!==m.$tag$||yt(d.$elm$.parentNode,!1),It(d,m),e.insertBefore(d.$elm$,p.$elm$.nextSibling),d=t[++a],m=r[--f];else if(wt(p,h))!pe||"slot"!==d.$tag$&&"slot"!==m.$tag$||yt(p.$elm$.parentNode,!1),It(p,h),e.insertBefore(p.$elm$,d.$elm$),p=t[--u],h=r[++s];else{if(l=-1,Y)for(c=a;c<=u;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===h.$key$){l=c;break}Y&&l>=0?((o=t[l]).$tag$!==h.$tag$?i=vt(t&&t[s],n,l,e):(It(o,h),t[l]=void 0,i=o.$elm$),h=r[++s]):(i=vt(t&&t[s],n,s,e),h=r[++s]),i&&(pe?Et(d.$elm$).insertBefore(i,kt(d.$elm$)):d.$elm$.parentNode.insertBefore(i,d.$elm$))}a>u?gt(e,null==r[f+1]?null:r[f+1].$elm$,n,r,s,f):H&&s>f&&bt(t,a,u)},wt=function(e,t){return e.$tag$===t.$tag$&&(pe&&"slot"===e.$tag$?e.$name$===t.$name$:!Y||e.$key$===t.$key$)},kt=function(e){return e&&e["s-ol"]||e},Et=function(e){return(e["s-ol"]?e["s-ol"]:e).parentNode},It=function(e,t){var n,r=t.$elm$=e.$elm$,i=e.$children$,o=t.$children$,a=t.$tag$,s=t.$text$;ee&&null!==s?ee&&pe&&(n=r["s-cr"])?n.parentNode.textContent=s:ee&&e.$text$!==s&&(r.data=s):(j&&(Ce="svg"===a||"foreignObject"!==a&&Ce),(G||M)&&(P&&"slot"===a||mt(e,t,Ce)),H&&null!==i&&null!==o?xt(r,i,t,o):null!==o?(H&&ee&&null!==e.$text$&&(r.textContent=""),gt(r,null,t,o,0,o.length-1)):H&&null!==i&&bt(i,0,i.length-1),j&&Ce&&"svg"===a&&(Ce=!1))},Rt=function e(t){var n,r,i,o,a,s,l=t.childNodes;for(r=0,i=l.length;r<i;r++)if(1===(n=l[r]).nodeType){if(n["s-sr"])for(a=n["s-sn"],n.hidden=!1,o=0;o<i;o++)if(s=l[o].nodeType,l[o]["s-hn"]!==n["s-hn"]||""!==a){if(1===s&&a===l[o].getAttribute("slot")){n.hidden=!0;break}}else if(1===s||3===s&&""!==l[o].textContent.trim()){n.hidden=!0;break}e(n)}},Tt=[],_t=function e(t){for(var n,r,i,o,a,s,l=0,c=t.childNodes,u=c.length;l<u;l++){if((n=c[l])["s-sr"]&&(r=n["s-cr"])&&r.parentNode)for(i=r.parentNode.childNodes,o=n["s-sn"],s=i.length-1;s>=0;s--)(r=i[s])["s-cn"]||r["s-nr"]||r["s-hn"]===n["s-hn"]||(St(r,o)?(a=Tt.find((function(e){return e.$nodeToRelocate$===r})),Ne=!0,r["s-sn"]=r["s-sn"]||o,a?a.$slotRefNode$=n:Tt.push({$slotRefNode$:n,$nodeToRelocate$:r}),r["s-sr"]&&Tt.map((function(e){St(e.$nodeToRelocate$,r["s-sn"])&&(a=Tt.find((function(e){return e.$nodeToRelocate$===r})))&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$)}))):Tt.some((function(e){return e.$nodeToRelocate$===r}))||Tt.push({$nodeToRelocate$:r}));1===n.nodeType&&e(n)}},St=function(e,t){return 1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t},At=function e(t){Q&&(t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(e))},Nt=function(e,t){var n=e.$hostElement$,a=e.$cmpMeta$,s=e.$vnode$||qe(null,null),l=We(t)?t:$e(null,null,t);if(o=n.tagName,oe&&Array.isArray(t)&&t.some(We))throw new Error('The <Host> must be the single root component.\nLooks like the render() function of "'.concat(o.toLowerCase(),'" is returning an array that contains the <Host>.\n\nThe render() function should look like this instead:\n\nrender() {\n  // Do not return an array\n  return (\n    <Host>{content}</Host>\n  );\n}\n  '));if(M&&a.$attrsToReflect$&&(l.$attrs$=l.$attrs$||{},a.$attrsToReflect$.map((function(e){var t=(0,d.Z)(e,2),r=t[0],i=t[1];return l.$attrs$[i]=n[r]}))),l.$tag$=null,l.$flags$|=4,e.$vnode$=l,l.$elm$=s.$elm$=L&&n.shadowRoot||n,(V||L)&&(r=n["s-sc"]),pe&&(i=n["s-cr"],Ae=kn&&0!==(1&a.$flags$),Ne=!1),It(s,l),pe){if(xn.$flags$|=1,Ze){var c,u,p,f,h,m;_t(l.$elm$);for(var v=0;v<Tt.length;v++)(u=(c=Tt[v]).$nodeToRelocate$)["s-ol"]||((p=ie||se?Ct(u):gn.createTextNode(""))["s-nr"]=u,u.parentNode.insertBefore(u["s-ol"]=p,u));for(v=0;v<Tt.length;v++)if(u=(c=Tt[v]).$nodeToRelocate$,c.$slotRefNode$){for(f=c.$slotRefNode$.parentNode,h=c.$slotRefNode$.nextSibling,p=u["s-ol"];p=p.previousSibling;)if((m=p["s-nr"])&&m["s-sn"]===u["s-sn"]&&f===m.parentNode&&(!(m=m.nextSibling)||!m["s-nr"])){h=m;break}(!h&&f!==u.parentNode||u.nextSibling!==h)&&u!==h&&(!u["s-hn"]&&u["s-ol"]&&(u["s-hn"]=u["s-ol"].parentNode.nodeName),f.insertBefore(u,h))}else 1===u.nodeType&&(u.hidden=!0)}Ne&&Rt(l.$elm$),xn.$flags$&=-2,Tt.length=0}},Zt=function(e){return gn.createComment("<slot".concat(e.$name$?' name="'+e.$name$+'"':"","> (host=").concat(o.toLowerCase(),")"))},Ct=function(e){return gn.createComment("org-location for "+(e.localName?"<".concat(e.localName,"> (host=").concat(e["s-hn"],")"):"[".concat(e.textContent,"]")))},Ot=function(e,t){Ie&&t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((function(t){return e.$onRenderResolve$=t})))},Dt=function(e,t){if(ne&&H&&(e.$flags$|=16),!(Ie&&4&e.$flags$)){Ot(e,e.$ancestorComponent$);var n=function(){return Mt(e,t)};return ne?Dn(n):n()}e.$flags$|=512},Mt=function(e,t){var n,r=e.$hostElement$,i=Pe("scheduleUpdate",e.$cmpMeta$.$tagName$),o=ue?e.$lazyInstance$:r;return t?(ue&&I&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((function(e){var t=(0,d.Z)(e,2),n=t[0],r=t[1];return Bt(o,n,r)})),e.$queuedListeners$=null)),Ht(r,"componentWillLoad"),g&&(n=Bt(o,"componentWillLoad"))):(Ht(r,"componentWillUpdate"),b&&(n=Bt(o,"componentWillUpdate"))),Ht(r,"componentWillRender"),x&&(n=jt(n,(function(){return Bt(o,"componentWillRender")}))),i(),jt(n,(function(){return Vt(e,o,t)}))},Vt=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t,n,r){var i,o,a,s,l,u;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.$hostElement$,o=Pe("update",t.$cmpMeta$.$tagName$),a=i["s-rc"],B&&r&&ut(t),s=Pe("render",t.$cmpMeta$.$tagName$),oe&&(t.$flags$|=1024),!se){e.next=11;break}return e.next=9,Lt(t,n,i);case 9:e.next=12;break;case 11:Lt(t,n,i);case 12:if(be&&xn.$cssShim$&&xn.$cssShim$.updateHost(i),oe&&(t.$renderCount$++,t.$flags$&=-1025),se)try{zt(i),r&&(1&t.$cmpMeta$.$flags$?i["s-en"]="":2&t.$cmpMeta$.$flags$&&(i["s-en"]="c"))}catch(c){cn(c,i)}Ie&&a&&(a.map((function(e){return e()})),i["s-rc"]=void 0),s(),o(),Ie?(l=i["s-p"],u=function(){return Pt(t)},0===l.length?u():(Promise.all(l).then(u),t.$flags$|=4,l.length=0)):Pt(t);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Lt=function(e,t,n){var r=!!f,i=!!ue,o=!!ne,a=!!H;try{if(t,t=(r||t.render)&&t.render(),a&&o&&(e.$flags$&=-17),(a||i)&&(e.$flags$|=2),E||M)if(X||M){if(se)return Promise.resolve(t).then((function(t){return Nt(e,t)}));Nt(e,t)}else n.textContent=t}catch(s){cn(s,e.$hostElement$)}return null,null},Pt=function(e){var t=e.$cmpMeta$.$tagName$,n=e.$hostElement$,r=Pe("postUpdate",t),i=ue?e.$lazyInstance$:n,o=e.$ancestorComponent$;y&&(oe&&(e.$flags$|=1024),Bt(i,"componentDidRender"),oe&&(e.$flags$&=-1025)),Ht(n,"componentDidRender"),64&e.$flags$?(v&&(oe&&(e.$flags$|=1024),Bt(i,"componentDidUpdate"),oe&&(e.$flags$&=-1025)),Ht(n,"componentDidUpdate"),r()):(e.$flags$|=64,Ie&&U&&Gt(n),h&&(oe&&(e.$flags$|=2048),Bt(i,"componentDidLoad"),oe&&(e.$flags$&=-2049)),Ht(n,"componentDidLoad"),r(),Ie&&(e.$onReadyResolve$(n),o||Ft(t))),re&&n["s-hmr-load"]&&n["s-hmr-load"](),Z&&ue&&e.$onInstanceResolve$(n),Ie&&(e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Cn((function(){return Dt(e,!1)})),e.$flags$&=-517)},Ut=function(e){if(H){var t=an(e),n=t.$hostElement$.isConnected;return n&&2===(18&t.$flags$)&&Dt(t,!1),n}return!1},Ft=function(e){U&&Gt(gn.documentElement),Re&&(xn.$flags$|=2),Cn((function(){return at(yn,"appload",{detail:{namespace:_e}})})),de&&performance.measure&&performance.measure("[Stencil] ".concat(_e," initial load (by ").concat(e,")"),"st:app:start")},Bt=function(e,t,n){if(e&&e[t])try{return e[t](n)}catch(r){cn(r)}},jt=function(e,t){return e&&e.then?e.then(t):t()},Ht=function(e,t){ce&&at(e,"stencil_"+t,{bubbles:!0,composed:!0,detail:{namespace:_e}})},Gt=function(e){return he?e.classList.add("hydrated"):fe?e.setAttribute("hydrated",""):void 0},zt=function e(t){var n=t.children;if(null!=n)for(var r=0,i=n.length;r<i;r++){var o=n[r];"function"===typeof o.connectedCallback&&o.connectedCallback(),e(o)}},$t=function(e,t,n,r){var i,o,a=an(e),s=ue?a.$hostElement$:e,l=a.$instanceValues$.get(t),c=a.$flags$,u=ue?a.$lazyInstance$:s;i=n,o=r.$members$[t][0],n=null==i||ze(i)?i:ve&&4&o?"false"!==i&&(""===i||!!i):ye&&2&o?parseFloat(i):ge&&1&o?String(i):i;var d=Number.isNaN(l)&&Number.isNaN(n);if((!ue||!(8&c)||void 0===l)&&(n!==l&&!d)&&(a.$instanceValues$.set(t,n),oe&&(1024&a.$flags$?pn('The state/prop "'.concat(t,'" changed during rendering. This can potentially lead to infinite-loops and other bugs.'),"\nElement",s,"\nNew value",n,"\nOld value",l):2048&a.$flags$&&pn('The state/prop "'.concat(t,'" changed during "componentDidLoad()", this triggers extra re-renders, try to setup on "componentWillLoad()"'),"\nElement",s,"\nNew value",n,"\nOld value",l)),!ue||u)){if(te&&r.$watchers$&&128&c){var p=r.$watchers$[t];p&&p.map((function(e){try{u[e](n,l,t)}catch(r){cn(r,s)}}))}if(H&&2===(18&c)){if(we&&u.componentShouldUpdate&&!1===u.componentShouldUpdate(n,l,t))return;Dt(a,!1)}}},qt=function(e,t,n){if(N&&t.$members$){te&&e.watchers&&(t.$watchers$=e.watchers);var r=Object.entries(t.$members$),i=e.prototype;if(r.map((function(e){var r=(0,d.Z)(e,2),o=r[0],a=(0,d.Z)(r[1],1)[0];(D||F)&&(31&a||(!ue||2&n)&&32&a)?Object.defineProperty(i,o,{get:function(){return e=o,an(this).$instanceValues$.get(e);var e},set:function(e){if(oe){var r=an(this);0===(1&n)&&0===(8&r.$flags$)&&0!==(31&a)&&0===(1024&a)&&pn('@Prop() "'.concat(o,'" on <').concat(t.$tagName$,"> is immutable but was modified from within the component.\nMore information: https://stenciljs.com/docs/properties#prop-mutability"))}$t(this,o,e,t)},configurable:!0,enumerable:!0}):ue&&Z&&1&n&&64&a&&Object.defineProperty(i,o,{value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=an(this);return r.$onInstancePromise$.then((function(){var e;return(e=r.$lazyInstance$)[o].apply(e,t)}))}})})),O&&(!ue||1&n)){var o=new Map;i.attributeChangedCallback=function(e,t,n){var r=this;xn.jmp((function(){var t=o.get(e);if(r.hasOwnProperty(t))n=r[t],delete r[t];else if(i.hasOwnProperty(t)&&"number"===typeof r[t]&&r[t]==n)return;r[t]=(null!==n||"boolean"!==typeof r[t])&&n}))},e.observedAttributes=r.filter((function(e){var t=(0,d.Z)(e,2);t[0];return 15&t[1][0]})).map((function(e){var n=(0,d.Z)(e,2),r=n[0],i=n[1],a=i[1]||r;return o.set(a,r),M&&512&i[0]&&t.$attrsToReflect$.push([r,a]),a}))}}return e},Yt=function(){var e=(0,u.Z)((0,c.Z)().mark((function e(t,r,i,o,a){var s,l,u,d,p,f,h;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(ue||se||B)||0!==(32&r.$flags$)){e.next=37;break}if(!ue&&!le){e.next=22;break}if(r.$flags$|=32,!(a=hn(i,r,o)).then){e.next=10;break}return s=Ue("st:load:".concat(i.$tagName$,":").concat(r.$modeName$),"[Stencil] Load module for <".concat(i.$tagName$,">")),e.next=8,a;case 8:a=e.sent,s();case 10:if(!oe&&!ie||a){e.next=12;break}throw new Error('Constructor for "'.concat(i.$tagName$,"#").concat(r.$modeName$,'" was not found'));case 12:N&&!a.isProxied&&(te&&(i.$watchers$=a.watchers),qt(a,i,2),a.isProxied=!0),l=Pe("createInstance",i.$tagName$),N&&(r.$flags$|=8);try{new a(r)}catch(c){cn(c)}N&&(r.$flags$&=-9),te&&(r.$flags$|=128),l(),Wt(r.$lazyInstance$),e.next=25;break;case 22:a=t.constructor,r.$flags$|=32,customElements.whenDefined(i.$tagName$).then((function(){return r.$flags$|=128}));case 25:if(!B||!a.style){e.next=37;break}if(u=a.style,C&&"string"!==typeof u&&(u=u[r.$modeName$=nt(t)],se&&r.$modeName$&&t.setAttribute("s-mode",r.$modeName$)),d=dt(i,r.$modeName$),mn.has(d)){e.next=37;break}if(p=Pe("registerStyles",i.$tagName$),!(!se&&L&&me&&8&i.$flags$)){e.next=35;break}return e.next=34,n.e(906).then(n.bind(n,4906)).then((function(e){return e.scopeCss(u,d,!1)}));case 34:u=e.sent;case 35:lt(d,u,!!(1&i.$flags$)),p();case 37:f=r.$ancestorComponent$,h=function(){return Dt(r,!0)},Ie&&f&&f["s-rc"]?f["s-rc"].push(h):h();case 40:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Wt=function(e){ue&&w&&Bt(e,"connectedCallback")},Qt=function(e){if(0===(1&xn.$flags$)){var t=an(e),n=t.$cmpMeta$,r=Pe("connectedCallback",n.$tagName$);if(S&&en(e,t,n.$listeners$,!0),1&t.$flags$)en(e,t,n.$listeners$,!1),Wt(t.$lazyInstance$);else{var i;if(t.$flags$|=1,le&&(i=e.getAttribute(Fe))){if(L&&kn&&1&n.$flags$){var o=C?ct(e.shadowRoot,n,e.getAttribute("s-mode")):ct(e.shadowRoot,n);e.classList.remove(o+"-h",o+"-s")}!function(e,t,n,r){var i=Pe("hydrateClient",t),o=e.shadowRoot,a=[],s=L&&o?[]:null,l=r.$vnode$=qe(t,null);xn.$orgLocNodes$||tt(gn.body,xn.$orgLocNodes$=new Map),e[Fe]=n,e.removeAttribute(Fe),et(l,a,[],s,e,e,n),a.map((function(e){var n=e.$hostId$+"."+e.$nodeId$,r=xn.$orgLocNodes$.get(n),i=e.$elm$;r&&kn&&""===r["s-en"]&&r.parentNode.insertBefore(i,r.nextSibling),o||(i["s-hn"]=t,r&&(i["s-ol"]=r,i["s-ol"]["s-nr"]=i)),xn.$orgLocNodes$.delete(n)})),L&&o&&s.map((function(e){e&&o.appendChild(e)})),i()}(e,n.$tagName$,i,t)}if(pe&&!i&&(se||(P||L)&&12&n.$flags$)&&Jt(e),Ie)for(var a=e;a=a.parentNode||a.host;)if(le&&1===a.nodeType&&a.hasAttribute("s-id")&&a["s-p"]||a["s-p"]){Ot(t,t.$ancestorComponent$=a);break}D&&!se&&n.$members$&&Object.entries(n.$members$).map((function(t){var n=(0,d.Z)(t,2),r=n[0];if(31&(0,d.Z)(n[1],1)[0]&&e.hasOwnProperty(r)){var i=e[r];delete e[r],e[r]=i}})),Ee?Cn((function(){return Yt(e,t,n)})):Yt(e,t,n)}r()}},Jt=function(e){var t=e["s-cr"]=gn.createComment(ie?"content-ref (host=".concat(e.localName,")"):"");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Xt=function(e){if(0===(1&xn.$flags$)){var t=an(e),n=ue?t.$lazyInstance$:e;I&&t.$rmListeners$&&(t.$rmListeners$.map((function(e){return e()})),t.$rmListeners$=void 0),be&&xn.$cssShim$&&xn.$cssShim$.removeHost(e),ue&&k&&Bt(n,"disconnectedCallback"),m&&Bt(n,"componentDidUnload")}},Kt=function(e,t){var n={$flags$:t[0],$tagName$:t[1]};N&&(n.$members$=t[2]),I&&(n.$listeners$=t[3]),te&&(n.$watchers$=e.$watchers$),M&&(n.$attrsToReflect$=[]),L&&!kn&&1&n.$flags$&&(n.$flags$|=8);var r=e.prototype.connectedCallback,i=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost:function(){sn(this,n)},connectedCallback:function(){Qt(this),w&&r&&r.call(this)},disconnectedCallback:function(){Xt(this),k&&i&&i.call(this)},__attachShadow:function(){kn?ke?this.attachShadow({mode:"open",delegatesFocus:!!(16&n.$flags$)}):this.attachShadow({mode:"open"}):this.shadowRoot=this}}),e.is=n.$tagName$,qt(e,n,3)},en=function(e,t,n,r){I&&n&&(S&&(n=r?n.filter((function(e){return 32&(0,d.Z)(e,1)[0]})):n.filter((function(e){return!(32&(0,d.Z)(e,1)[0])}))),n.map((function(n){var r=(0,d.Z)(n,3),i=r[0],o=r[1],a=r[2],s=A?nn(e,i):e,l=tn(t,a),c=rn(i);xn.ael(s,o,l,c),(t.$rmListeners$=t.$rmListeners$||[]).push((function(){return xn.rel(s,o,l,c)}))})))},tn=function(e,t){return function(n){try{ue?256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n]):e.$hostElement$[t](n)}catch(r){cn(r)}}},nn=function(e,t){return T&&4&t?gn:R&&8&t?yn:_&&16&t?gn.body:S&&32&t?e.parentElement:e},rn=function(e){return En?{passive:0!==(1&e),capture:0!==(2&e)}:0!==(2&e)},on=new WeakMap,an=function(e){return on.get(e)},sn=function(e,t){var n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return oe&&(n.$renderCount$=0),Z&&ue&&(n.$onInstancePromise$=new Promise((function(e){return n.$onInstanceResolve$=e}))),Ie&&(n.$onReadyPromise$=new Promise((function(e){return n.$onReadyResolve$=e})),e["s-p"]=[],e["s-rc"]=[]),en(e,n,t.$listeners$,!1),on.set(e,n)},ln=function(e,t){return t in e},cn=function(e,t){return(a||console.error)(e,t)},un=ae?["STENCIL:"]:["%cstencil","color: white;background:#4c47ff;font-weight: bold; font-size:10px; padding:2px 6px; border-radius: 5px"],dn=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).error.apply(e,un.concat(n))},pn=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=console).warn.apply(e,un.concat(n))},fn=new Map,hn=function(e,t,r){var i=e.$tagName$.replace(/-/g,"_"),o=e.$lazyBundleId$;if(!oe||"string"===typeof o){var a=!re&&fn.get(o);return a?a[i]:n(1126)("./".concat(o,".entry.js").concat(re&&r?"?s-hmr="+r:"")).then((function(e){return re||fn.set(o,e),e[i]}),cn)}dn("Trying to lazily load component <".concat(e.$tagName$,'> with style mode "').concat(t.$modeName$,'", but it does not exist.'))},mn=new Map,vn=[],yn="undefined"!==typeof window?window:{},gn=(be&&yn.CSS,yn.document||{head:{}}),bn=yn.HTMLElement||function(){return(0,l.Z)((function e(){(0,s.Z)(this,e)}))}(),xn={$flags$:0,$resourcesUrl$:"",jmp:function(e){return e()},raf:function(e){return requestAnimationFrame(e)},ael:function(e,t,n,r){return e.addEventListener(t,n,r)},rel:function(e,t,n,r){return e.removeEventListener(t,n,r)},ce:function(e,t){return new CustomEvent(e,t)}},wn=function(e){Object.assign(xn,e)},kn=!me||!L||function(){return(gn.head.attachShadow+"").indexOf("[native")>-1}(),En=function(){var e=!1;try{gn.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){e=!0}}))}catch(t){}return e}(),In=!!xe&&function(){try{return new CSSStyleSheet,"function"===typeof(new CSSStyleSheet).replaceSync}catch(e){}return!1}(),Rn=[],Tn=[],_n=[],Sn=function(e,t){return function(n){e.push(n),De||(De=!0,t&&4&xn.$flags$?Cn(Zn):xn.raf(Zn))}},An=function(e){for(var t=0;t<e.length;t++)try{e[t](performance.now())}catch(n){cn(n)}e.length=0},Nn=function(e,t){for(var n=0,r=0;n<e.length&&(r=performance.now())<t;)try{e[n++](r)}catch(i){cn(i)}n===e.length?e.length=0:0!==n&&e.splice(0,n)},Zn=function e(){if(Re&&Oe++,An(Rn),Re){var t=2===(6&xn.$flags$)?performance.now()+14*Math.ceil(.1*Oe):1/0;Nn(Tn,t),Nn(_n,t),Tn.length>0&&(_n.push.apply(_n,Tn),Tn.length=0),(De=Rn.length+Tn.length+_n.length>0)?xn.raf(e):Oe=0}else An(Tn),(De=Rn.length>0)&&xn.raf(e)},Cn=function(e){return Promise.resolve(t).then(e);var t},On=Sn(Rn,!1),Dn=Sn(Tn,!0)},9241:function(e,t,n){"use strict";var r=n(9651),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var g=p(n,y);try{c(t,y,g)}catch(b){}}}}return t}},1905:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},9646:function(e,t,n){var r=n(1905);e.exports=f,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],p=n[1],f=n.index;if(s+=e.slice(a,f),a=f+d.length,p)s+=p[1];else{var h=e[a],m=n[2],v=n[3],y=n[4],g=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=h&&h!==m,k="+"===b||"*"===b,E="?"===b||"*"===b,I=n[2]||u,R=y||g;r.push({name:v||o++,prefix:m||"",delimiter:I,optional:E,repeat:k,partial:w,asterisk:!!x,pattern:R?c(R):x?".*":"[^"+l(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,p=s[u.name];if(null==p){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(d=l(p[f]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(p),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var p=l(c.prefix),f="(?:"+c.pattern+")";t.push(c),c.repeat&&(f+="(?:"+p+f+")*"),a+=f=c.optional?c.partial?p+"("+f+")?":"(?:"+p+"("+f+"))?":p+"("+f+")"}}var h=l(n.delimiter||"/"),m=a.slice(-h.length)===h;return i||(a=(m?a.slice(0,-h.length):a)+"(?:"+h+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+h+"|$)",u(new RegExp("^"+a,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(f(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},2516:function(e,t,n){"use strict";var r=n(9824);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1134:function(e,t,n){e.exports=n(2516)()},9824:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3734:function(e,t,n){"use strict";var r=n(6965),i=n(2656);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var V,L=Object.assign;function P(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function B(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case k:return"Portal";case R:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function K(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ee=null,Ie=null;function Re(e){if(e=bi(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),ke(e.stateNode,e.type,t))}}function Te(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function _e(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Se(e,t){return e(t)}function Ae(){}var Ne=!1;function Ze(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Se(e,t,n)}finally{Ne=!1,(null!==Ee||null!==Ie)&&(Ae(),_e())}}function Ce(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ve=!1,Le=null,Pe=!1,Ue=null,Fe={onError:function(e){Ve=!0,Le=e}};function Be(e,t,n,r,i,o,a,s,l){Ve=!1,Le=null,Me.apply(Fe,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(je(e)!==e)throw Error(o(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,We=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ke=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Et,It,Rt,Tt=!1,_t=[],St=null,At=null,Nt=null,Zt=new Map,Ct=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Zt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function Vt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Rt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Pt(e)&&n.delete(t)}function Ft(){Tt=!1,null!==St&&Pt(St)&&(St=null),null!==At&&Pt(At)&&(At=null),null!==Nt&&Pt(Nt)&&(Nt=null),Zt.forEach(Ut),Ct.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function jt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Bt(St,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Zt.forEach(t),Ct.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Lt(n),null===n.blockedOn&&Ot.shift()}var Ht=x.ReactCurrentBatchConfig,Gt=!0;function zt(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function $t(e,t,n,r){var i=bt,o=Ht.transition;Ht.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Ht.transition=o}}function qt(e,t,n,r){if(Gt){var i=Wt(e,t,n,r);if(null===i)Gr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Vt(St,e,t,n,r,i),!0;case"dragenter":return At=Vt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Vt(Nt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Zt.set(o,Vt(Zt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ct.set(o,Vt(Ct.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Wt(e,t,n,r))&&Gr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Wt(e,t,n,r){if(Yt=null,null!==(e=gi(e=we(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ke:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Kt=null;function en(){if(Kt)return Kt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),pn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),mn=on(L({},fn,{dataTransfer:0})),vn=on(L({},dn,{relatedTarget:0})),yn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(gn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Rn(){return In}var Tn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=on(Tn),Sn=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Nn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Zn=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cn=on(Zn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Vn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Pn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function zn(e,t,n,r){Te(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,qn=null;function Yn(e){Pr(e,0)}function Wn(e){if(q(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Kn="oninput"in document;if(!Kn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Kn="function"===typeof er.oninput}Xn=Kn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),qn=$n=null)}function nr(e){if("value"===e.propertyName&&Wn(qn)){var t=[];zn(t,qn,e,we(e)),Ze(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(qn)}function or(e,t){if("click"===e)return Wn(t)}function ar(e,t){if("input"===e||"change"===e)return Wn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,vr=null,yr=null,gr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==Y(r)||("selectionStart"in(r=vr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=$r(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},Ir={};function Rr(e){if(Er[e])return Er[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Rr("animationend"),_r=Rr("animationiteration"),Sr=Rr("animationstart"),Ar=Rr("transitionend"),Nr=new Map,Zr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Nr.set(e,t),l(t,[e])}for(var Or=0;Or<Zr.length;Or++){var Dr=Zr[Or];Cr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Cr(Tr,"onAnimationEnd"),Cr(_r,"onAnimationIteration"),Cr(Sr,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Be.apply(this,arguments),Ve){if(!Ve)throw Error(o(198));var u=Le;Ve=!1,Le=null,Pe||(Pe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Pe)throw e=Ue,Pe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Vr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var i=zt;break;case 4:i=$t;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=gi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ze((function(){var r=o,i=we(n),a=[];e:{var s=Nr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Tr:case _r:case Sr:l=yn;break;case Ar:l=Nn;break;case"scroll":l=pn;break;case"wheel":l=Cn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Ce(h,p))&&u.push(zr(h,m,f)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(d=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=Sn,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:xi(l),f=null==c?s:xi(c),(s=new u(m,h+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,gi(i)===r&&((u=new u(p,h+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=qr(f))h++;for(f=0,m=p;m;m=qr(m))f++;for(;0<h-f;)u=qr(u),h--;for(;0<f-h;)p=qr(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=qr(u),p=qr(p)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var v=Qn;else if(Gn(s))if(Jn)v=ar;else{v=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=or);switch(v&&(v=v(e,r))?zn(a,v,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(vr=y,yr=r,gr=null);break;case"focusout":gr=yr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Fn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,jn=!0)),0<(y=$r(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Vn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Pn);case"textInput":return(e=t.data)===Pn&&Un?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Dn&&Fn(e,t)?(e=en(),Kt=Xt=Jt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Pr(a,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ce(e,n))&&r.unshift(zr(e,o,i)),null!=(o=Ce(e,t))&&r.push(zr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ce(n,o))&&a.unshift(zr(n,l,s)):i||null!=(l=Ce(n,o))&&a.push(zr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Wr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(o(425))}function Kr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),pi="__reactFiber$"+di,fi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,vi="__reactListeners$"+di,yi="__reactHandles$"+di;function gi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[pi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[pi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var ki=[],Ei=-1;function Ii(e){return{current:e}}function Ri(e){0>Ei||(e.current=ki[Ei],ki[Ei]=null,Ei--)}function Ti(e,t){Ei++,ki[Ei]=e.current,e.current=t}var _i={},Si=Ii(_i),Ai=Ii(!1),Ni=_i;function Zi(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ri(Ai),Ri(Si)}function Di(e,t,n){if(Si.current!==_i)throw Error(o(168));Ti(Si,t),Ti(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,H(e)||"Unknown",i));return L({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ni=Si.current,Ti(Si,e),Ti(Ai,Ai.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ri(Ai),Ri(Si),Ti(Si,e)):Ri(Ai),Ti(Ai,n)}var Pi=null,Ui=!1,Fi=!1;function Bi(e){null===Pi?Pi=[e]:Pi.push(e)}function ji(){if(!Fi&&null!==Pi){Fi=!0;var e=0,t=bt;try{var n=Pi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Pi=null,Ui=!1}catch(i){throw null!==Pi&&(Pi=Pi.slice(e+1)),qe(Ke,ji),i}finally{bt=t,Fi=!1}}return null}var Hi=[],Gi=0,zi=null,$i=0,qi=[],Yi=0,Wi=null,Qi=1,Ji="";function Xi(e,t){Hi[Gi++]=$i,Hi[Gi++]=zi,zi=e,$i=t}function Ki(e,t,n){qi[Yi++]=Qi,qi[Yi++]=Ji,qi[Yi++]=Wi,Wi=e;var r=Qi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Ji=o+e}else Qi=1<<o|n<<i|r,Ji=e}function eo(e){null!==e.return&&(Xi(e,1),Ki(e,1,0))}function to(e){for(;e===zi;)zi=Hi[--Gi],Hi[Gi]=null,$i=Hi[--Gi],Hi[Gi]=null;for(;e===Wi;)Wi=qi[--Yi],qi[Yi]=null,Ji=qi[--Yi],qi[Yi]=null,Qi=qi[--Yi],qi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Zc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Qi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Zc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ci(e.nextSibling)}function ho(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var vo=x.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var go=Ii(null),bo=null,xo=null,wo=null;function ko(){wo=xo=bo=null}function Eo(e){var t=go.current;Ri(go),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ro(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var _o=null;function So(e){null===_o?_o=[e]:_o.push(e)}function Ao(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,So(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Zo=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Sl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return null===(i=r.interleaved)?(t.next=t,So(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Po(e,t,n,r){var i=e.updateQueue;Zo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=m.payload)?h.call(f,d,p):h)||void 0===p)break e;d=L({},d,p);break e;case 2:Zo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Vl|=a,e.lanes=a,e.memoizedState=d}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Fo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var jo={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(nc(t,e,r,n),Vo(t,e,r))}};function Ho(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Go(e,t,n){var r=!1,i=_i,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Ci(t)?Ni:Si.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Zi(e,i):_i),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=jo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function zo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jo.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fo,Co(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Ci(t)?Ni:Si.current,i.context=Zi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&jo.enqueueReplaceState(i,i.state,null),Po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Fo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&Wo(o)===t.type)?((r=i(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case k:return(t=Pc(t,e.mode,n)).return=e,t;case C:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null;case C:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Yo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=v);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,m),null===u?c=y:u.sibling=y,u=y,d=v}if(m===s.length)return n(i,d),io&&Xi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Xi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(v=h(d,i,m,s[m],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach((function(e){return t(i,e)})),io&&Xi(i,m),c}function v(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,v=s=0,y=null,g=l.next();null!==m&&!g.done;v++,g=l.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=f(i,m,g.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b,m=y}if(g.done)return n(i,m),io&&Xi(i,v),u;if(null===m){for(;!g.done;v++,g=l.next())null!==(g=p(i,g.value,c))&&(s=a(g,s,v),null===d?u=g:d.sibling=g,d=g);return io&&Xi(i,v),u}for(m=r(i,m);!g.done;v++,g=l.next())null!==(g=h(m,i,v,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=a(g,s,v),null===d?u=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(i,e)})),io&&Xi(i,v),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&Wo(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=qo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=qo(r,o,a),l.return=r,r=l)}return s(r);case k:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Pc(a,r.mode,l)).return=r,r=o}return s(r);case C:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return v(r,o,a,l);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Jo=Qo(!0),Xo=Qo(!1),Ko={},ea=Ii(Ko),ta=Ii(Ko),na=Ii(Ko);function ra(e){if(e===Ko)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ri(ea),Ti(ea,t)}function oa(){Ri(ea),Ri(ta),Ri(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Ri(ea),Ri(ta))}var la=Ii(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var pa=x.ReactCurrentDispatcher,fa=x.ReactCurrentBatchConfig,ha=0,ma=null,va=null,ya=null,ga=!1,ba=!1,xa=0,wa=0;function ka(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(ha=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,ya=va=null,t.updateQueue=null,pa.current=cs,e=n(r,i)}while(ba)}if(pa.current=as,t=null!==va&&null!==va.next,ha=0,ya=va=ma=null,ga=!1,t)throw Error(o(300));return e}function Ra(){var e=0!==xa;return xa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function _a(){if(null===va){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,va=e;else{if(null===e)throw Error(o(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function Sa(e,t){return"function"===typeof t?t(e):t}function Aa(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((ha&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=p,s=r):c=c.next=p,ma.lanes|=d,Vl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Vl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Na(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Za(){}function Ca(e,t){var n=ma,r=_a(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Ga(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Da.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(o(349));0!==(30&ha)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Da(e,t,n,r){t.value=n,t.getSnapshot=r,Va(t)&&La(e)}function Ma(e,t,n){return n((function(){Va(t)&&La(e)}))}function Va(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=No(e,1);null!==t&&nc(t,e,1,-1)}function Pa(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return _a().memoizedState}function Ba(e,t,n,r){var i=Ta();ma.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function ja(e,t,n,r){var i=_a();r=void 0===r?null:r;var o=void 0;if(null!==va){var a=va.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}ma.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function Ha(e,t){return Ba(8390656,8,e,t)}function Ga(e,t){return ja(2048,8,e,t)}function za(e,t){return ja(4,2,e,t)}function $a(e,t){return ja(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4,4,qa.bind(null,t,e),n)}function Wa(){}function Qa(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=_a();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&ha)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Vl|=n,e.baseState=!0),t)}function Ka(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=n,fa.transition=r}}function es(){return _a().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ao(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,So(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ao(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var as={readContext:To,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Ha,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Pa,useDebugValue:Wa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Pa(!1),t=e[0];return e=Ka.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Al)throw Error(o(349));0!==(30&ha)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ha(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Da.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Al.identifierPrefix;if(io){var n=Ji;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Qa,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useInsertionEffect:za,useLayoutEffect:$a,useMemo:Ja,useReducer:Aa,useRef:Fa,useState:function(){return Aa(Sa)},useDebugValue:Wa,useDeferredValue:function(e){return Xa(_a(),va.memoizedState,e)},useTransition:function(){return[Aa(Sa)[0],_a().memoizedState]},useMutableSource:Za,useSyncExternalStore:Ca,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Qa,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useInsertionEffect:za,useLayoutEffect:$a,useMemo:Ja,useReducer:Na,useRef:Fa,useState:function(){return Na(Sa)},useDebugValue:Wa,useDeferredValue:function(e){var t=_a();return null===va?t.memoizedState=e:Xa(t,va.memoizedState,e)},useTransition:function(){return[Na(Sa)[0],_a().memoizedState]},useMutableSource:Za,useSyncExternalStore:Ca,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,zl=r),ps(0,t)},n}function ms(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Rc.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Jo(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;return Ro(t,i),r=Ia(e,t,n,r,o,i),n=Ra(),null===e||xs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Cc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Is(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=Oc(o,r)).ref=t.ref,e.return=t,t.child=e}function Is(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return _s(e,t,n,r,i)}function Rs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ol,Cl),Cl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ol,Cl),Cl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ol,Cl),Cl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ol,Cl),Cl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _s(e,t,n,r,i){var o=Ci(n)?Ni:Si.current;return o=Zi(t,o),Ro(t,i),n=Ia(e,t,n,r,o,i),r=Ra(),null===e||xs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function Ss(e,t,n,r,i){if(Ci(n)){var o=!0;Vi(t)}else o=!1;if(Ro(t,i),null===t.stateNode)Hs(e,t),Go(t,n,r),$o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Zi(t,c=Ci(n)?Ni:Si.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&zo(t,a,r,c),Zo=!1;var p=t.memoizedState;a.state=p,Po(t,r,a,i),l=t.memoizedState,s!==r||p!==l||Ai.current||Zo?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(s=Zo||Ho(t,n,s,r,p,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,d=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Zi(t,l=Ci(n)?Ni:Si.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||p!==l)&&zo(t,a,r,l),Zo=!1,p=t.memoizedState,a.state=p,Po(t,r,a,i);var h=t.memoizedState;s!==d||p!==h||Ai.current||Zo?("function"===typeof f&&(Bo(t,n,f,r),h=t.memoizedState),(c=Zo||Ho(t,n,c,r,p,h,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Gs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Jo(t,e.child,null,o),t.child=Jo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ia(e,t.containerInfo)}function Zs(e,t,n,r,i){return ho(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Cs,Os,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Vs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Vc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vs(n),t.memoizedState=Ms,e):Ps(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Vc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Jo(t,e.child,null,s),t.child.memoizedState=Vs(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=Al)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,No(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Yi++]=Qi,qi[Yi++]=Ji,qi[Yi++]=Wi,Qi=e.id,Ji=e.overflow,Wi=t),t=Ps(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Oc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Vs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Oc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ps(e,t){return(t=Vc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&mo(r),Jo(t,e.child,null,n),(e=Ps(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function js(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function zs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Ci(t.type)&&Oi(),$s(t),null;case 3:return r=t.stateNode,oa(),Ri(Ai),Ri(Si),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),$s(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $s(t),null}if(e=ra(ea.current),po(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ge(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":$(r),K(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Kr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[fi]=r,Cs(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=W(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ve(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&pe(e,u):"number"===typeof u&&pe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":$(e),K(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return $s(t),null;case 13:if(Ri(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))fo(),ho(),t.flags|=98560,a=!1;else if(a=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pi]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return oa(),null===e&&jr(t.stateNode.containerInfo),$s(t),null;case 10:return Eo(t.type._context),$s(t),null;case 19:if(Ri(la),null===(a=t.memoizedState))return $s(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)zs(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,zs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>jl&&(t.flags|=128,r=!0,zs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),zs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return $s(t),null}else 2*Je()-a.renderingStartTime>jl&&1073741824!==n&&(t.flags|=128,r=!0,zs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=la.current,Ti(la,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Cl)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Ci(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ri(Ai),Ri(Si),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ri(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ri(la),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=W(e,i),r=W(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(u in ge(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ws=!1,Qs=!1,Js="function"===typeof WeakSet?WeakSet:Set,Xs=null;function Ks(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pi],delete t[fi],delete t[mi],delete t[vi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Kr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Ks(n,t);case 6:var r=ul,i=dl;ul=null,pl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),jt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,pl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Qs&&(Ks(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ic(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,pl(e,t,n),Qs=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));fl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ic(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(v){Ic(e,e.return,v)}try{nl(5,e,e.return)}catch(v){Ic(e,e.return,v)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Ks(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Ks(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(v){Ic(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],p=c[s+1];"style"===d?ve(i,p):"dangerouslySetInnerHTML"===d?de(i,p):"children"===d?pe(i,p):b(i,d,p,u)}switch(l){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(v){Ic(e,e.return,v)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Ic(e,e.return,v)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(v){Ic(e,e.return,v)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Je())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xs=e,d=e.child;null!==d;){for(p=Xs=d;null!==Xs;){switch(h=(f=Xs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Ks(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Ic(r,n,v)}}break;case 5:Ks(f,f.return);break;case 22:if(null!==f.memoizedState){wl(p);continue}}null!==h?(h.return=f,Xs=h):wl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{i=p.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(v){Ic(e,e.return,v)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){Ic(e,e.return,v)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),yl(e),4&r&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ic(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gl(e,t,n){Xs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ws;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ws;var c=Qs;if(Ws=a,(Qs=l)&&!c)for(Xs=i;null!==Xs;)l=(a=Xs).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Xs=l):kl(i);for(;null!==o;)Xs=o,bl(o,t,n),o=o.sibling;Xs=i,Ws=s,Qs=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):xl(e)}}function xl(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&jt(p)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&il(t)}catch(f){Ic(t,t.return,f)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function wl(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function kl(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ic(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ic(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ic(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ic(t,a,l)}}}catch(l){Ic(t,t.return,l)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var El,Il=Math.ceil,Rl=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Sl=0,Al=null,Nl=null,Zl=0,Cl=0,Ol=Ii(0),Dl=0,Ml=null,Vl=0,Ll=0,Pl=0,Ul=null,Fl=null,Bl=0,jl=1/0,Hl=null,Gl=!1,zl=null,$l=null,ql=!1,Yl=null,Wl=0,Ql=0,Jl=null,Xl=-1,Kl=0;function ec(){return 0!==(6&Sl)?Je():-1!==Xl?Xl:Xl=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Zl?Zl&-Zl:null!==vo.transition?(0===Kl&&(Kl=mt()),Kl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Jl=null,Error(o(185));yt(e,n,r),0!==(2&Sl)&&e===Al||(e===Al&&(0===(2&Sl)&&(Ll|=n),4===Dl&&sc(e,Zl)),rc(e,r),1===n&&0===Sl&&0===(1&t.mode)&&(jl=Je()+500,Ui&&ji()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Al?Zl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===(6&Sl)&&ji()})),n=null;else{switch(xt(r)){case 1:n=Ke;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xl=-1,Kl=0,0!==(6&Sl))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=pt(e,e===Al?Zl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Sl;Sl|=2;var a=hc();for(Al===e&&Zl===t||(Hl=null,jl=Je()+500,pc(e,t));;)try{gc();break}catch(l){fc(e,l)}ko(),Rl.current=a,Sl=i,null!==Nl?t=0:(Al=null,Zl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=ht(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,pc(e,0),sc(e,r),rc(e,Je()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=ht(e))&&(r=a,t=oc(e,a))),1===t))throw n=Ml,pc(e,0),sc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:wc(e,Fl,Hl);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Je())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Fl,Hl),t);break}wc(e,Fl,Hl);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Fl,Hl),r);break}wc(e,Fl,Hl);break;default:throw Error(o(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fl,Fl=n,null!==t&&ac(t)),e}function ac(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function sc(e,t){for(t&=~Pl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Sl))throw Error(o(327));kc();var t=pt(e,0);if(0===(1&t))return rc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,pc(e,0),sc(e,t),rc(e,Je()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,Hl),rc(e,Je()),null}function cc(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(jl=Je()+500,Ui&&ji())}}function uc(e){null!==Yl&&0===Yl.tag&&0===(6&Sl)&&kc();var t=Sl;Sl|=1;var n=_l.transition,r=bt;try{if(_l.transition=null,bt=1,e)return e()}finally{bt=r,_l.transition=n,0===(6&(Sl=t))&&ji()}}function dc(){Cl=Ol.current,Ri(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:oa(),Ri(Ai),Ri(Si),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ri(la);break;case 10:Eo(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Nl=e=Oc(e.current,null),Zl=Cl=t,Dl=0,Ml=null,Pl=Ll=Vl=0,Fl=Ul=null,null!==_o){for(t=0;t<_o.length;t++)if(null!==(r=(n=_o[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}_o=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(ko(),pa.current=as,ga){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ga=!1}if(ha=0,ya=va=ma=null,ba=!1,xa=0,Tl.current=null,null===n||null===n.return){Dl=1,Ml=t,Nl=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Zl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,p=d.tag;if(0===(1&d.mode)&&(0===p||11===p||15===p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ys(s);if(null!==h){h.flags&=-257,gs(h,s,l,0,t),1&h.mode&&vs(a,u,t),c=u;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(c),t.updateQueue=v}else m.add(c);break e}if(0===(1&t)){vs(a,u,t),mc();break e}c=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gs(y,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,hs(0,c,t));break e;case 1:l=c;var g=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===$l||!$l.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function hc(){var e=Rl.current;return Rl.current=as,null===e?as:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Al||0===(268435455&Vl)&&0===(268435455&Ll)||sc(Al,Zl)}function vc(e,t){var n=Sl;Sl|=2;var r=hc();for(Al===e&&Zl===t||(Hl=null,pc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(ko(),Sl=n,Rl.current=r,null!==Nl)throw Error(o(261));return Al=null,Zl=0,Dl}function yc(){for(;null!==Nl;)bc(Nl)}function gc(){for(;null!==Nl&&!We();)bc(Nl)}function bc(e){var t=El(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,null===t?xc(e):Nl=t,Tl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Cl)))return void(Nl=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=_l.transition;try{_l.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Yl);if(0!==(6&Sl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Al&&(Nl=Al=null,Zl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Ac(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var s=bt;bt=1;var l=Sl;Sl|=4,Tl.current=null,function(e,t){if(ei=Gt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(l=s+i),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++u===i&&(l=s),f===a&&++d===r&&(c=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,y=m.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:yo(t.type,v),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}m=tl,tl=!1}(e,n),vl(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,gl(n,e,i),Qe(),Sl=l,bt=s,_l.transition=a}else e.current=n;if(ql&&(ql=!1,Yl=e,Wl=i),a=e.pendingLanes,0===a&&($l=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=zl,zl=null,e;0!==(1&Wl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,ji()}(e,t,n,r)}finally{_l.transition=i,bt=r}return null}function kc(){if(null!==Yl){var e=xt(Wl),t=_l.transition,n=bt;try{if(_l.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Wl=0,0!==(6&Sl))throw Error(o(331));var i=Sl;for(Sl|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Xs=u;null!==Xs;){var d=Xs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Xs=p;else for(;null!==Xs;){var f=(d=Xs).sibling,h=d.return;if(ol(d),d===u){Xs=null;break}if(null!==f){f.return=h,Xs=f;break}Xs=h}}}var m=a.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(null!==v)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Xs=g;break e}Xs=a.return}}var b=e.current;for(Xs=b;null!==Xs;){var x=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Xs=x;else e:for(s=b;null!==Xs;){if(0!==(2048&(l=Xs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Ic(l,l.return,k)}if(l===s){Xs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Xs=w;break e}Xs=l.return}}if(Sl=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(k){}r=!0}return r}finally{bt=n,_l.transition=t}}return!1}function Ec(e,t,n){e=Mo(e,t=hs(0,t=us(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Mo(t,e=ms(t,e=us(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Zl&n)===n&&(4===Dl||3===Dl&&(130023424&Zl)===Zl&&500>Je()-Bl?pc(e,0):Pl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=No(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tc(e,n)}function Ac(e,t){return qe(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zc(e,t,n,r){return new Nc(e,t,n,r)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Zc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Cc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Mc(n.children,i,a,t);case I:s=8,i|=8;break;case R:return(e=Zc(12,n,t,2|i)).elementType=R,e.lanes=a,e;case A:return(e=Zc(13,n,t,i)).elementType=A,e.lanes=a,e;case N:return(e=Zc(19,n,t,i)).elementType=N,e.lanes=a,e;case O:return Vc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case _:s=9;break e;case S:s=11;break e;case Z:s=14;break e;case C:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Zc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Zc(7,e,r,t)).lanes=n,e}function Vc(e,t,n,r){return(e=Zc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Zc(6,e,null,t)).lanes=n,e}function Pc(e,t,n){return(t=Zc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,o,a,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Zc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Co(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function jc(e){if(!e)return _i;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ci(n))return Mi(e,n,t)}return t}function Hc(e,t,n,r,i,o,a,s,l){return(e=Fc(n,r,!0,e,0,o,0,s,l)).context=jc(null),n=e.current,(o=Do(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Gc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=jc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(nc(e,i,a,o),Vo(e,i,a)),a}function zc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),ho();break;case 5:aa(t);break;case 1:Ci(t.type)&&Vi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(go,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ti(la,1&la.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ti(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return js(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Rs(e,t,n)}return Gs(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Ki(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hs(e,t),e=t.pendingProps;var i=Zi(t,Si.current);Ro(t,n),i=Ia(null,t,r,e,i,n);var a=Ra();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(a=!0,Vi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Co(t),i.updater=jo,t.stateNode=i,i._reactInternals=t,$o(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Cc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===Z)return 14}return 2}(r),e=yo(r,e),i){case 0:t=_s(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=Es(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),Po(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Zs(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Zs(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Gs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ls(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Jo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(go,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ai.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Do(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Io(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Io(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ro(t,n),r=r(i=To(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Es(e,t,r,i=yo(r.type,i),n);case 15:return Is(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),Hs(e,t),t.tag=1,Ci(r)?(e=!0,Vi(t)):e=!1,Ro(t,n),Go(t,r,i),$o(t,r,i,n),As(null,t,r,!0,e,n);case 19:return js(e,t,n);case 22:return Rs(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=zc(a);s.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=zc(a);o.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",Kc);return e._reactRootContainer=a,e[hi]=a.current,jr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=zc(l);s.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[hi]=l.current,jr(8===e.nodeType?e.parentNode:e),uc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return zc(a)}Qc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Qc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Gc(null,e,null,null)})),t[hi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Je()),0===(6&Sl)&&(jl=Je()+500,ji()))}break;case 13:uc((function(){var t=No(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},kt=function(e){if(13===e.tag){var t=No(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},Et=function(e){if(13===e.tag){var t=tc(e),n=No(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},It=function(){return bt},Rt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));q(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,Ae=uc;var tu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Te,_e,cc]},nu={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[hi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},912:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(3734)},1260:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case v:case m:case l:return e;default:return t}}case i:return t}}}function k(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return k(e)||w(e)===u},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b||e.$$typeof===x||e.$$typeof===y)},t.typeOf=w},9651:function(e,t,n){"use strict";e.exports=n(1260)},9996:function(e,t,n){"use strict";var r=n(6965),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4873:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var x=b.prototype=new g;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+S(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),A(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+S(s=e[c],c);l+=A(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,u=o+S(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function Z(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},O={transition:null},D={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:Z}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,n){return C.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,n){return C.current.useReducer(e,t,n)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return C.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return C.current.useTransition()},t.version="18.2.0"},6965:function(e,t,n){"use strict";e.exports=n(4873)},9500:function(e,t,n){"use strict";e.exports=n(9996)},1232:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,f=3,h=!1,m=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(v=!1,x(e),!m)if(null!==r(c))m=!0,O(k);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function k(e,n){m=!1,v&&(v=!1,g(T),T=-1),h=!0;var o=f;try{for(x(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!A());){var a=p.callback;if("function"===typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&i(c),x(n)}else i(c);p=r(c)}if(null!==p)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{p=null,f=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,R=null,T=-1,_=5,S=-1;function A(){return!(t.unstable_now()-S<_)}function N(){if(null!==R){var e=t.unstable_now();S=e;var n=!0;try{n=R(!0,e)}finally{n?E():(I=!1,R=null)}}else I=!1}if("function"===typeof b)E=function(){b(N)};else if("undefined"!==typeof MessageChannel){var Z=new MessageChannel,C=Z.port2;Z.port1.onmessage=N,E=function(){C.postMessage(null)}}else E=function(){y(N,0)};function O(e){R=e,I||(I=!0,E())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(v?(g(T),T=-1):v=!0,D(w,o-a))):(e.sortIndex=s,n(c,e),m||h||(m=!0,O(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},2656:function(e,t,n){"use strict";e.exports=n(1232)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{145:"646ab977",251:"0e80ebdf",421:"9163f6eb",613:"1619659e",615:"9e1b62e8",766:"7fe2b8ab",798:"dc10dbf9",883:"09ae7fd4",906:"20599401"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="@airport/ui-react-main:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var p=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk_airport_ui_react_main=self.webpackChunk_airport_ui_react_main||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(9126);function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){(0,e.Z)(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}var i,o=n(4709),a=n(5247),s=n(4741),l=n(6948),c=n(5101),u=n(9155),d=n(778),p=n(9548),f=n(8636),h=n(374);function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,h.Z)(e)););return e}function v(){return v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=m(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},v.apply(this,arguments)}function y(e){var t,n=globalThis.CLASSES,r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value.prototype.constructor.name;if(n[i])throw new Error("Class ".concat(i," is defined more than once!"))}}catch(o){r.e(o)}finally{r.f()}}globalThis.CLASSES||(globalThis.CLASSES={}),function(e){e.DB="DB",e.UI="UI"}(i||(i={})),globalThis.ContextType=i;var g=(0,u.Z)((function e(t,n){(0,c.Z)(this,e),this.id=t,this.type=n}));y([g]);var b=(0,u.Z)((function e(){(0,c.Z)(this,e)}));y([b]);var x,w=function(){function e(t){(0,c.Z)(this,e),this.name=t,this.applicationMap={}}return(0,u.Z)(e,[{key:"app",value:function(e){if(this.applicationMap[e])throw new Error("\n\t\t\tApplication already defined.\n\t\t\tDomain:      ".concat(this.name,"\n\t\t\tApplication: ").concat(e,"\n\t\t\t"));var t=new T(e,this);return t.getDomain=E,this.applicationMap[e]=t,t}},{key:"getApp",value:function(e){return this.applicationMap[e]}}]),e}();y([w]),globalThis.AIRPORT_DOMAIN?x=globalThis.AIRPORT_DOMAIN:(x=E("airport"),globalThis.AIRPORT_DOMAIN=x);var k=x;function E(e){globalThis.AIRPORT_DOMAIN_MAP||(globalThis.AIRPORT_DOMAIN_MAP={});var t=globalThis.AIRPORT_DOMAIN_MAP;if(t[e])return t[e];var n=new w(e);return t[e]=n,n}function I(e){return globalThis.domain(e.domain.name).app(e.name)}globalThis.domain=E;var R=function(){function e(t,n){(0,c.Z)(this,e),this.application=t,this.descriptor=n}return(0,u.Z)(e,[{key:"dependencyConfiguration",get:function(){return this.getInheritedDependencyConfiguration(this.descriptor.class)}},{key:"getPath",value:function(){return e.getPath(this)}},{key:"setDependencies",value:function(t){var n={};for(var i in t){var o=t[i],a=o.prototype;if(a&&a.constructor){var s=o;if(!s.token){var l=s.application;if(!l||!l.name||!l.domain||!l.domain.name)throw new Error("Did not find application descriptor on a @Injected() constructor");this.application.getDomain(l.domain.name).app(l.name).register(s)}o=s.token}if(n[i]=o,!(o instanceof e))throw new Error("Property dependency is not a DependencyInjectionToken or a @Injected() class\n\tToken:    ".concat(this.getPath,"\n\tProperty: ").concat(i))}this._dependencyConfiguration?this._dependencyConfiguration=r(r({},this._dependencyConfiguration),n):this._dependencyConfiguration=n,this.descriptor.class&&(this.descriptor.class.dependencyConfiguration?this.descriptor.class.dependencyConfiguration=r(r({},this.descriptor.class.dependencyConfiguration),t):this.descriptor.class.dependencyConfiguration=t)}},{key:"setClass",value:function(e){var t=e.prototype;if(t&&t.constructor){var n=e;n.application={domain:{name:this.application.domain.name},name:this.application.name},n.token=this,this.descriptor.class=e,n.dependencyConfiguration=this._dependencyConfiguration}}},{key:"getInheritedDependencyConfiguration",value:function(e){var t={};if(!e)return t;var n=Object.getPrototypeOf(e);n&&(t=this.getInheritedDependencyConfiguration(n));var i=e.dependencyConfiguration;return i&&(t=r(r({},t),i)),t}},{key:"getClass",value:function(){return this.descriptor.class}}],[{key:"getPath",value:function(e){return e.application.domain.name+":"+e.application.name+":"+e.descriptor.interface}}]),e}();y([R]);var T=function(){function e(t,n){(0,c.Z)(this,e),this.name=t,this.domain=n,this.tokenMap=new Map}return(0,u.Z)(e,[{key:"register",value:function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i],s=this.token(a);e[s.descriptor.interface]=s}return e}},{key:"setDependencies",value:function(e,t){e.token.setDependencies(t)}},{key:"getFullName",value:function(){return"".concat(this.domain.name,"/").concat(this.name)}},{key:"token",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.getTokenDescriptor(t),i=this.tokenMap.get(r.interface);if(i){if(n)throw new Error("Token with interface '".concat(r.interface,"' has already been created"));return i}var o=new R(this,r);return o.setClass(t),this.tokenMap.set(r.interface,o),r.class&&o.setClass(r.class),o}},{key:"getDomain",value:function(e){return null}}],[{key:"getTokenDescriptor",value:function(e){var t=e;if("string"===typeof e)t={interface:e};else{var n=e.prototype;n&&n.constructor&&(t={class:e,interface:n.constructor.name})}return t.class||(t.class=null),t}}]),e}();function _(e){return k.app(e)}y([T]);var S=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).rootContainer=e,i.context=r,i.objectMap=new Map,i}return(0,u.Z)(n,[{key:"getToken",value:function(e){return globalThis.domain(e.application.domain.name).getApp(e.application.name).tokenMap.get(e.descriptor.interface)}},{key:"setToken",value:function(e){return globalThis.domain(e.application.domain.name).getApp(e.application.name).tokenMap.set(e.descriptor.interface,e)}},{key:"getObject",value:function(e){var t=this.objectMap.get(e.application.domain.name);if(!t)return null;var n=t.get(e.application.name);return n?n.get(e.descriptor.interface):null}},{key:"setObject",value:function(e,t){var n=this.objectMap.get(e.application.domain.name);n||(n=new Map,this.objectMap.set(e.application.domain.name,n));var r=n.get(e.application.name);r||(r=new Map,n.set(e.application.name,r)),r.set(e.descriptor.interface,t)}},{key:"doEventuallyGet",value:function(e,t,n){var r=this,i=this.normalizeTokens(e),o=this.doGetCore(i),a=o.firstDiNotSetClass,s=o.firstMissingClassToken,l=o.objects;s||a?setTimeout((function(){r.doEventuallyGet(e,t,n)}),100):l.length>1?t(l):t(l[0])}},{key:"doGet",value:function(e,t,n){var r=this,i=this.normalizeTokens(e),o=this.doGetCore(i),a=o.firstDiNotSetClass,s=o.firstMissingClassToken,l=o.objects;if(a)return console.log("Dependency Injection is not ready for token ".concat(s.getPath(),"\n\t\t\t, class: ").concat(a.name,". Delaying injection by 100ms")),void setTimeout((function(){r.doGet(e,t,n)}),100);if(l.filter((function(e){return e&&!e.__initialized__})).length){var c,u=l.map((function(e,t){return e.__initialized__?-1:t})).filter((function(e){return-1!==e})),d=[],p=(0,f.Z)(u);try{for(p.s();!(c=p.n()).done;){var h=c.value,m=R.getPath(i[h]);d.push(m)}}catch(y){p.e(y)}finally{p.f()}return console.log("Dependency Injection is not ready for tokens:\n\t\t\t\t ".concat(d.join("\n"),"\n\t\t\t, these classes are not yet initialized, delaying injection by 100ms")),void setTimeout((function(){r.doGet(e,t,n)}),100)}if(s){var v="Dependency Injection could not find class for token: "+s.getPath();console.log(v),n(v)}else l.length>1?t(l):t(l[0])}},{key:"normalizeTokens",value:function(e){var t,n=[],r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.prototype;o&&o.constructor&&(i={application:i.application,descriptor:{class:i,interface:o.constructor.name}});var a=i;if(!i.dependencyConfiguration&&!(a=this.getToken(i))){var s=i;a=globalThis.domain(s.application.domain.name).getApp(s.application.name).token(s.descriptor),this.setToken(a)}n.push(a)}}catch(l){r.e(l)}finally{r.f()}return n}},{key:"doGetCore",value:function(e){var t,n,r=this,i=e.map((function(e){if(!t&&!n){var i=r.getObject(e);if(!i){if(!(e instanceof R))throw new Error("Non-API token lookups must be done\n                            with an instance of a DependencyInjectionToken.");var o=e.descriptor.class;if(!o)return void(t=e);if(o.diSet&&!o.diSet())return t=e,void(n=o);if(i=new o,r.setDependencyGetters(i,e),i.__container__=r,r.setObject(e,i),i.init){var a=i.init();a instanceof Promise?a.then((function(t){i.__initialized__=!0,console.log("".concat(e.getPath()," initialized."))})):(i.__initialized__=!0,console.log("".concat(e.getPath()," initialized.")))}else i.__initialized__=!0}return i}}));return{firstDiNotSetClass:n,firstMissingClassToken:t,objects:i}}},{key:"manualInject",value:function(e,t,n,r){var i=T.getTokenDescriptor(r);e.__container__=this,this.setDependencyGetter(e,t,{application:n,descriptor:i})}},{key:"setDependencyGetters",value:function(e,t){if(t.dependencyConfiguration){var n=t.dependencyConfiguration;for(var r in n){var i=n[r];this.setDependencyGetter(e,r,i)}}}},{key:"setDependencyGetter",value:function(e,t,n){delete e[t],Object.defineProperty(e,t,{get:function(){return this.__container__.getSync(n)}}),e["get"+t+"Async"]=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.__container__.get(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getByNames",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(globalThis.domain(t)){e.next=3;break}throw new Error("Could nof find\n\tDomain:\n\t\t".concat(t,"\n\t\t"));case 3:if(i=globalThis.domain(t).getApp(n)){e.next=6;break}throw new Error("Could not find\n\tDomain:\n\t\t".concat(t,"\n\tApplication:\n\t\t").concat(n,"\n\t\t"));case 6:if(o=i.tokenMap.get(r)){e.next=9;break}throw new Error("Could not find token: ".concat(r,"\n\tin Domain:\n\t\t").concat(t,"\n \tApplication:\n\t\t\t").concat(n,"\n\t\t"));case 9:return e.next=11,this.get(o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t,r){e.doGet(n,t,r)}))}},{key:"eventuallyGet",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new Promise((function(t,r){e.doEventuallyGet(n,t,r)}))}},{key:"getSync",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=this.normalizeTokens(t),i=this.doGetCore(r),o=i.firstDiNotSetClass,a=i.firstMissingClassToken,s=i.objects;if(a)throw new Error("Dependency Injection could not find class for token: "+a.getPath());if(o)throw new Error("Dependency Injection is not ready for class: "+o.name);return s.length>1?s:s[0]}}]),n}(b);y([S]);var A=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).dbContainerMap=new Map,e.uiContainers=new Set,e}return(0,u.Z)(n,[{key:"db",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.dbContainerMap.get(e);return t||(t=new S(this,new g(e,i.DB)),this.dbContainerMap.set(e,t)),t}},{key:"remove",value:function(e){e&&(this.dbContainerMap.get(e.context.id)?this.dbContainerMap.delete(e.context.id):this.uiContainers.delete(e))}},{key:"ui",value:function(e){var t=new g(e,i.UI),n=new S(this,t);return this.uiContainers.add(n),n}}]),n}(b);y([A]);var N=globalThis.DEPENDENCY_INJECTION?globalThis.DEPENDENCY_INJECTION:new A,Z=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getContainer",value:function(e){var t=e.__container__;if(!t)throw new Error('"container" is not set on injectable object.');if(!(t instanceof b))throw new Error('"container" property of injectable is not aninstance of @airport/direction-indicator Container');return t}}]),e}();_("direction-indicator").register(Z);var C=_("aviation-communication").token("AirEntityUtils");globalThis.AIR_ENTITY_UTILS=C;var O=_("pressurization");globalThis.OPERATION_SERIALIZER=O.token("OperationSerializer");var D=O.token("QueryResultsDeserializer");globalThis.QUERY_RESULTS_DESERIALIZER=D,globalThis.SERIALIZATION_STATE_MANAGER=O.token("SerializationStateManager");var M=_("autopilot"),V=M.token("AutopilotApiLoader");globalThis.AUTOPILOT_API_LOADER=V;var L=M.token("InterAppAPIClient");globalThis.API_CLIENT=L;var P=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"get",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=N.db()).get.apply(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"eventuallyGet",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=N.db()).eventuallyGet.apply(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSync",value:function(){var e;return(e=N.db()).getSync.apply(e,arguments)}},{key:"getAutopilotApiLoader",value:function(){return this.getSync(V)}}]),e}();y([P]);var U;function F(e,t,n){for(var r in t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.base=e.prototype,n)t.prototype[r]=n[r];return t}globalThis.extend=F,globalThis.IOC?U=globalThis.IOC:(U=new P,globalThis.IOC=U);var B,j,H,G,z,$,q,Y,W,Q,J,X,K,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,de,pe,fe,he,me,ve,ye,ge,be,xe=U;!function(e){var t;e.NAME="name",(t=e.type||(e.type={})).ANY="any",t.BOOLEAN="boolean",t.DATE="Date",t.NUMBER="number",t.STRING="string"}(B||(B={})),function(e){e.ENTITY="Entity",e.TABLE="Table"}(j||(j={})),function(e){e.DATABASES="databases"}(H||(H={})),function(e){e.DEFINITION="foreignKeyDefinition",e.NAME="name",e.VALUE="value"}(G||(G={})),function(e){e.COLUMN_LIST="columnList",e.NAME="name",e.UNIQUE="unique"}(z||(z={})),function(e){e.FOREIGN_KEY="foreignKey",e.REFERENCED_COLUMN_NAME="referencedColumnName",e.VALUE="value"}($||($={})),function(e){e.COLUMN="Column",e.ENUM_TYPE="Enum",e.ID="Id",e.JOIN_COLUMN="JoinColumn",e.JOIN_COLUMNS="JoinColumns",e.JSON_TYPE="Json",e.MANY_TO_ONE="ManyToOne",e.ONE_TO_MANY="OneToMany",e.SUB_QUERY="SubQuery"}(q||(q={})),function(e){e.MAPPED_BY="mappedBy"}(Y||(Y={})),function(e){e.INDEXES="indexes",e.NAME="name",e.PRIMARY_KEY="primaryKey",e.APPLICATION="application"}(W||(W={})),function(e){e.ACTOR_LID="ACTOR_LID",e.ACTOR_RECORD_ID="ACTOR_RECORD_ID",e.ENTITY_NAME="AirEntity",e.FOREIGN_KEY="REPOSITORY_LID",e.LOCAL_ENTITY_NAME="LocalAirEntity",e.REPOSITORY_LID="REPOSITORY_LID",e.SOURCE_ACTOR_ID="SOURCE_ACTOR_LID",e.SOURCE_ACTOR_RECORD_ID="SOURCE_ACTOR_RECORD_ID",e.SOURCE_REPOSITORY_ID="SOURCE_REPOSITORY_LID",e.SYS_WIDE_OP_ID_APPLICATION="airport____at_airport_slash_airport_dash_code",e.SYS_WIDE_OP_ID_ENTITY="SystemWideOperationId",e.systemWideOperationId="systemWideOperationId",e.SYSTEM_WIDE_OPERATION_ID="SYSTEM_WIDE_OPERATION_LID"}(Q||(Q={})),function(e){e.FULL_JOIN="FULL_JOIN",e.INNER_JOIN="INNER_JOIN",e.LEFT_JOIN="LEFT_JOIN",e.RIGHT_JOIN="RIGHT_JOIN"}(J||(J={})),function(e){e.ONE_TO_MANY="ONE_TO_MANY",e.MANY_TO_ONE="MANY_TO_ONE"}(X||(X={})),function(e){e.ENTITY_JOIN_ON="ENTITY_JOIN_ON",e.ENTITY_APPLICATION_RELATION="ENTITY_APPLICATION_RELATION",e.ENTITY_ROOT="ENTITY_ROOT",e.SUB_QUERY_JOIN_ON="SUB_QUERY_JOIN_ON",e.SUB_QUERY_ROOT="SUB_QUERY_ROOT"}(K||(K={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(ee||(ee={})),function(e){e.ABS="ABS",e.AVG="AVG",e.COUNT="COUNT",e.MAX="MAX",e.MIN="MIN",e.SUM="SUM",e.UCASE="UCASE",e.LCASE="LCASE",e.MID="MID",e.LEN="LEN",e.ROUND="ROUND",e.NOW="NOW",e.FORMAT="FORMAT",e.REPLACE="REPLACE",e.TRIM="TRIM",e.DISTINCT="DISTINCT",e.EXISTS="EXISTS",e.DIVIDE="DIVIDE",e.MINUS="MINUS",e.MODULUS="MODULUS",e.MULTIPLY="MULTIPLY",e.PLUS="PLUS",e.CONCATENATE="CONCATENATE",e.COALESCE="COALESCE"}(te||(te={})),function(e){e.FIELD="FIELD",e.FIELD_FUNCTION="FIELD_FUNCTION",e.FIELD_QUERY="FIELD_QUERY",e.DISTINCT_FUNCTION="DISTINCT_FUNCTION",e.EXISTS_FUNCTION="EXISTS_FUNCTION",e.MANY_TO_ONE_RELATION="MANY_TO_ONE_RELATION"}(ne||(ne={})),function(e){e.ANY="ANY",e.BOOLEAN="BOOLEAN",e.DATE="DATE",e.JSON="JSON",e.NUMBER="NUMBER",e.STRING="STRING"}(re||(re={})),function(e){e.CREATE="CREATE",e.DATE="DATE",e.DELETE="DELETE",e.PARENT_SCHEMA_ID="PARENT_SCHEMA_LID",e.PASS_THROUGH="PASS_THROUGH",e.STUB="STUB",e.UPDATE="UPDATE"}(ie||(ie={})),function(e){e.BOOLEAN="BOOLEAN",e.DATE="DATE",e.FUNCTION="FUNCTION",e.LOGICAL="LOGICAL",e.NUMBER="NUMBER",e.STRING="STRING",e.UNTYPED="UNTYPED"}(oe||(oe={})),function(e){e.AND="AND",e.EQUALS="EQUALS",e.EXISTS="EXISTS",e.GREATER_THAN="GREATER_THAN",e.GREATER_THAN_OR_EQUALS="GREATER_THAN_OR_EQUALS",e.IN="IN",e.IS_NOT_NULL="IS_NOT_NULL",e.IS_NULL="IS_NULL",e.LESS_THAN="LESS_THAN",e.LESS_THAN_OR_EQUALS="LESS_THAN_OR_EQUALS",e.LIKE="LIKE",e.OR="OR",e.NOT="NOT",e.NOT_EQUALS="NOT_EQUALS",e.NOT_IN="NOT_IN"}(ae||(ae={})),function(e){e.CREATE="CREATE",e.READ="READ",e.UPDATE="UPDATE",e.DELETE="DELETE"}(se||(se={})),function(e){e.LOCAL="LOCAL",e.REMOTE_SYNC="REMOTE_SYNC"}(le||(le={})),function(e){e.DELETE_ROWS="DELETE_ROWS",e.INSERT_VALUES="INSERT_VALUES",e.UPDATE_ROWS="UPDATE_ROWS"}(ce||(ce={})),function(e){e.S3_SECURE_POLL="S3_SECURE_POLL",e.S3_DISTIBUTED_PUSH="S3_DISTIBUTED_PUSH"}(ue||(ue={})),function(e){e.DDL="DDL",e.SELECT="SELECT",e.MUTATE="MUTATE"}(de||(de={})),function(e){e.GOOGLE_DOCS="GOOGLE_DOCS",e.IN_MEMORY="IN_MEMORY",e.OFFLINE="OFFLINE",e.STUB="STUB"}(pe||(pe={})),function(e){e.COCKROACHDB="COCKROACHDB",e.MYSQL="MYSQL",e.POSTGRESQL="POSTGRESQL",e.REMOTE="REMOTE",e.SQLITE="SQLITE",e.SQLJS="SQLJS",e.WEB_SQL="WEB_SQL"}(fe||(fe={})),function(e){e.ENTITY_CHANGE_ID="ENTITY_CHANGE_LID"}(he||(he={})),function(e){e.ENTITY_QUERY="ENTITY_QUERY",e.NON_ENTITY_QUERY="NON_ENTITY_QUERY"}(me||(me={})),function(e){e.ENTITY_GRAPH="ENTITY_GRAPH",e.ENTITY_TREE="ENTITY_TREE",e.TREE="TREE",e.SHEET="SHEET",e.FIELD="FIELD",e.RAW="RAW"}(ve||(ve={})),function(e){e.DELETE="DELETE",e.FIND_ONE_GRAPH="FIND_ONE_GRAPH",e.FIND_ONE_TREE="FIND_ONE_TREE",e.FIND_GRAPH="FIND_GRAPH",e.FIND_TREE="FIND_TREE",e.SAVE="SAVE",e.SEARCH_ONE_GRAPH="SEARCH_ONE_GRAPH",e.SEARCH_ONE_TREE="SEARCH_ONE_TREE",e.SEARCH_GRAPH="SEARCH_GRAPH",e.SEARCH_TREE="SEARCH_TREE"}(ye||(ye={})),function(e){e.PARAMETER="PARAMETER",e.Q="Q",e.QENTITY="QENTITY"}(ge||(ge={})),function(e){e.BOOLEAN="BOOLEAN",e.DATE="DATE",e.NUMBER="NUMBER",e.STRING="STRING"}(be||(be={}));var we;!function(e){e.CURRENT="CURRENT",e.MISSING="MISSING",e.NEEDS_UPGRADES="NEEDS_UPGRADES",e.STUB="STUB"}(we||(we={}));var ke,Ee,Ie,Re,Te="internal://domain",_e=[Te,"airport"],Se="A",Ae=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,c.Z)(this,e),this.applicationVersionId=t,this.tableMap=n}return(0,u.Z)(e,[{key:"ensure",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne,r=this.tableMap[e];return r||(r=new n(e,t),this.tableMap[e]=r),r}},{key:"existsByStructure",value:function(e,t){var n=this.tableMap[e];return!!n&&!!n.columnMap[t]}}]),e}(),Ne=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,c.Z)(this,e),this.tableIndex=t,this.columnMap={},n&&(this.columnMap[Se]=!0)}return(0,u.Z)(e,[{key:"ensure",value:function(e){this.columnMap[e]=!0}}]),e}(),Ze=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getFullApplication_Name",value:function(e){var t=e.domain,n=e.name;return t.name&&(t=t.name),this.getFullApplication_NameFromDomainAndName(t,n)}},{key:"getFullApplication_NameFromDomainAndName",value:function(e,t){if(e.indexOf("___")>-1)throw new Error('Domain Name cannot contain "___" (3 consecutive underscores) in it.');if(e.endsWith(".")||e.endsWith("-")||e.endsWith(":")||e.endsWith("__"))throw new Error('Domain Name cannot end with ".", "-", ":" or "__"');var n=e.replace(/\./g,"_dot_").replace(/-/g,"_dash_").replace(/:/g,"_colon_");if(n.indexOf("___")>-1)throw new Error('Domain Name cannot have with ".", "-", ":", or "_" right next to each other.');if(t.indexOf("_")>-1)throw new Error('Application Name cannot contain "_" in it.');if(t.indexOf("@")!==t.lastIndexOf("@"))throw new Error('Application Name cannot have more than one "@" in it.');if(t.indexOf("@")>0)throw new Error('Application Name cannot contain "@" after the first character in it.');if(t.indexOf("/")!==t.lastIndexOf("/"))throw new Error('Application Name cannot have more than one "/" in it.');var r=t.replace(/@/g,"_at_").replace(/\//g,"_slash_").replace(/-/g,"_dash_");if(r.endsWith("_"))throw new Error('Application Name cannot end with "@", "/" or "."');if(r.indexOf("___")>-1)throw new Error('Application Name cannot have with "@", "/", "." or "_" right next to each other.');var i="".concat(n,"___").concat(r);return i.endsWith("_dash_runtime")&&(i=i.substring(0,i.length-13)),i}},{key:"getSequenceName",value:function(e,t){return"".concat(e,"_").concat(t,"__SEQUENCE")}}]),e}(),Ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,c.Z)(this,e),this.applicationMap=t}return(0,u.Z)(e,[{key:"ensureEntity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae;return this.ensure(e.applicationVersion._localId,e.index,t,n)}},{key:"ensure",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ae,i=this.applicationMap[e];return i||(i=new r(e),this.applicationMap[e]=i),i.ensure(t,n)}},{key:"existsByStructure",value:function(e,t,n){var r=this.applicationMap[e];return!!r&&r.existsByStructure(t,n)}}]),e}(),Oe=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.Z)(this,n),t.call(this,e,r)}return(0,u.Z)(n)}(Ne),De=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){return(0,c.Z)(this,n),t.call(this,e,r)}return(0,u.Z)(n,[{key:"ensureEntity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v((0,h.Z)(n.prototype),"ensure",this).call(this,e,t,Oe)}},{key:"intersects",value:function(e){for(var t in this.tableMap)if(e.tableMap[t]){var n=this.tableMap[t],r=e.tableMap[t];if(n[Se]||n[Se])return!0;for(var i in n.columnMap)if(r.columnMap[i])return!0}return!1}}]),n}(Ae),Me=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"ensureEntity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v((0,h.Z)(n.prototype),"ensureEntity",this).call(this,e,t,De)}},{key:"intersects",value:function(e){for(var t in this.applicationMap){if(e.applicationMap[t])if(new De(parseInt(t),this.applicationMap[t].tableMap).intersects(e.applicationMap[t]))return!0}return!1}}]),n}(Ce);function Ve(e,t){var n;return(n=e instanceof Map?e.get(t):e[t])||(n=[],e instanceof Map?e.set(t,n):e[t]=n),n}function Le(e,t){var n;return e instanceof Map?(n=e.get(t))||(n={},e.set(t,n)):(n=e[t])||(n={},e[t]=n),n}function Pe(e,t){var n=e.get(t);return n||(n=new Map,e.set(t,n)),n}function Ue(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}function Fe(e){return void 0===e?null:e}function Be(e){Re=e}globalThis.SyncApplicationMap=Me,function(e){e.SYNCHRONIZING="SYNCHRONIZING",e.SYNCHRONIZED="SYNCHRONIZED",e.REQUESTING_SYNC_STATUS="REQUESTING_SYNC_STATUS",e.RESYNC_REQUESTED="RESYNC_REQUESTED"}(ke||(ke={})),function(e){e.ACTIVE="ACTIVE",e.PENDING="PENDING",e.DELAYED="DELAYED",e.SUSPENDED="SUSPENDED",e.TEMPORARILY_REROUTED="TEMPORARILY_REROUTED",e.PERMANENTLY_REROUTED="PERMANENTLY_REROUTED"}(Ee||(Ee={})),function(e){e.ACTIVE="ACTIVE",e.SUSPENDED="SUSPENDED"}(Ie||(Ie={}));var je=_("ground-control");je.register(Ze);var He=je.token("EntityStateManager"),Ge=je.token("SequenceGenerator"),ze=je.token("TransactionalConnector"),$e=je.token("UpdateCacheManager");ze.setDependencies({dbApplicationUtils:Ze});var qe={airportSelectField:!0,insert:!0,update:!1},Ye={__allFields__:!0};function We(e){e.airportSelectField=!0}function Qe(e){return e&&!0===e.airportSelectField}function Je(e){return e&&!1===e.airportSelectField}function Xe(e){for(var t in e){var n=e[t];if(n instanceof Object)if(n.hasOwnProperty("airportSelectField"))switch(n.airportSelectField){case"LID":e[t]="LID";break;case!0:e[t]="Y";break;case!1:e[t]="N"}else Xe(n)}}function Ke(e){var t=JSON.parse(JSON.stringify(e));return Xe(t),JSON.stringify(t,null,4)}var et=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],tt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";(0,c.Z)(this,e),this.aliasPrefix=t,this.reset()}return(0,u.Z)(e,[{key:"getFollowingAlias",value:function(){for(var e=this.lastAlias,t=2;t>=0;t--){var n=e[t];if(n=(n+1)%26,e[t]=n,0!==n)break}var r=this.aliasPrefix;for(t=0;t<3;t++)r+=et[e[t]];return"add"===r&&(r=this.getFollowingAlias()),r}},{key:"reset",value:function(){this.lastAlias=[-1,-1,-1]}}]),e}(),nt=function(){function e(t){(0,c.Z)(this,e),this.aliasCache=t,this.aliasMap=new Map}return(0,u.Z)(e,[{key:"getNextAlias",value:function(e){if(this.hasAliasFor(e))return this.getExistingAlias(e);var t=this.aliasCache.getFollowingAlias();return this.aliasMap.set(e,t),t}},{key:"hasAliasFor",value:function(e){return this.aliasMap.has(e)}}]),e}(),rt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new tt("E"),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new tt("C"),o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new tt("P");return(0,c.Z)(this,n),(e=t.call(this,r)).columnAliasCache=i,e.parameterAliases=new it(o),e}return(0,u.Z)(n,[{key:"getParams",value:function(){return this.parameterAliases}},{key:"getNewFieldColumnAliases",value:function(){return new ot(this,this.columnAliasCache)}},{key:"getExistingAlias",value:function(e){if(!this.hasAliasFor(e))throw new Error("No alias found for entity ".concat(e.__driver__.dbEntity.name));return this.aliasMap.get(e)}},{key:"getOnlyAlias",value:function(){return 1!==this.aliasMap.size?"Expecting only 1 entry in Field's alias map":this.aliasMap.get(this.aliasMap.keys().next().value)}}]),n}(nt),it=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"getNextAlias",value:function(e){if(this.hasAliasFor(e))return this.getExistingAlias(e).alias;var t=this.aliasCache.getFollowingAlias(),n={alias:t,value:e.value};return this.aliasMap.set(e,n),t}},{key:"getExistingAlias",value:function(e){if(!this.hasAliasFor(e))throw new Error("No alias found for a parameter");return this.aliasMap.get(e)}},{key:"getParameters",value:function(){var e={};return this.aliasMap.forEach((function(t,n){e[t.alias]=t})),e}}]),n}(nt),ot=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this,r))._entityAliases=e,i}return(0,u.Z)(n,[{key:"entityAliases",get:function(){return this._entityAliases}},{key:"getExistingAlias",value:function(e){if(!this.hasAliasFor(e)){var t=e;throw new Error("No alias found for property ".concat(t.dbProperty.entity.name,".").concat(t.dbProperty.name))}return this.aliasMap.get(e)}}]),n}(nt),at=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.category=t})),st=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).category=e,r}return(0,u.Z)(n,[{key:"equals",value:function(e,t){return{c:this.category,l:e,o:ae.EQUALS,r:t}}},{key:"greaterThan",value:function(e,t){return{c:this.category,l:e,o:ae.GREATER_THAN,r:t}}},{key:"greaterThanOrEquals",value:function(e,t){return{c:this.category,l:e,o:ae.GREATER_THAN_OR_EQUALS,r:t}}},{key:"IS_NOT_NULL",value:function(e){return{c:this.category,l:e,o:ae.IS_NOT_NULL}}},{key:"IS_NULL",value:function(e){return{c:this.category,l:e,o:ae.IS_NULL}}},{key:"IN",value:function(e,t){return{c:this.category,l:e,o:ae.IN,r:t}}},{key:"lessThan",value:function(e,t){return{c:this.category,l:e,o:ae.LESS_THAN,r:t}}},{key:"lessThanOrEquals",value:function(e,t){return{c:this.category,l:e,o:ae.LESS_THAN_OR_EQUALS,r:t}}},{key:"notEquals",value:function(e,t){return{c:this.category,l:e,o:ae.NOT_EQUALS,r:e}}},{key:"NOT_IN",value:function(e,t){return{c:this.category,l:e,o:ae.NOT_IN,r:t}}}]),n}(at),lt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(new ut).AND(t)},ct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(new ut).OR(t)},ut=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,null)}return(0,u.Z)(n,[{key:"AND",value:function(e){return{c:oe.LOGICAL,o:ae.AND,v:e}}},{key:"OR",value:function(e){return{c:oe.LOGICAL,o:ae.OR,v:e}}},{key:"NOT",value:function(e){return{c:oe.LOGICAL,o:ae.NOT,v:e}}}],[{key:"verifyChildOps",value:function(e){if(!e||!e.length)throw new Error("No child operations provided")}}]),n}(at);function dt(e,t,n,r){this.dbRelation=e,this.parentQ=t,this.applicationUtils=n,this.relationManager=r}function pt(e,t,n,r){pt.base.constructor.call(this,e,t,n,r)}dt.prototype.INNER_JOIN=function(){var e=this.getNewQEntity(J.INNER_JOIN);return this.parentQ.__driver__.childQEntities.push(e),e},dt.prototype.LEFT_JOIN=function(){var e=this.getNewQEntity(J.LEFT_JOIN);return this.parentQ.__driver__.childQEntities.push(e),e},dt.prototype.IS_NULL=function(){return this.nullOrNot(!0)},dt.prototype.IS_NOT_NULL=function(){return this.nullOrNot(!1)},dt.prototype.nullOrNot=function(e){var t,n=this.dbRelation,r=xe.getSync(Mt),i=[],o=(0,f.Z)(n.property.propertyColumns);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=r.getColumnQField(n.entity,n.property,this.parentQ,a.column);i.push(e?s.IS_NULL():s.IS_NOT_NULL())}}catch(l){o.e(l)}finally{o.f()}return i.length>1?e?ct.apply(void 0,i):lt.apply(void 0,i):i[0]},dt.prototype.getNewQEntity=function(e){var t=this.dbRelation.relationEntity,n=new(this.applicationUtils.getQEntityConstructor(this.dbRelation.relationEntity))(t,this.applicationUtils,this.relationManager,this.relationManager.getNextChildJoinPosition(this.parentQ.__driver__),this.dbRelation,e,this.applicationUtils,this.relationManager);return n.__driver__.parentJoinEntity=this.parentQ,n};function ft(e,t,n,r){pt.base.constructor.call(this,e,t,n,r)}F(dt,pt,{});var ht={equals:function(e){return xe.getSync(Pt).equals(e,this)},IN:function(e){return xe.getSync(Pt).in(e,this)}};function mt(e,t,n,r){pt.base.constructor.call(this,e,t,n,r)}function vt(e,t,n,r){vt.base.constructor.call(this,e,t,n,r)}F(pt,ft,ht),F(dt,mt,{equals:function(e){return xe.getSync(Pt).equalsInternal(e,this)},IN:function(e){return xe.getSync(Pt).inInternal(e,this)}});function yt(e,t,n,r){yt.base.constructor.call(this,e,t,n,r)}F(dt,vt,{});F(pt,yt,{});var gt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,oe.BOOLEAN)}return(0,u.Z)(n)}(st),bt=function(){function e(t,n){(0,c.Z)(this,e),this.field=t,this.sortOrder=n}return(0,u.Z)(e,[{key:"toJSON",value:function(e){if(!e.hasAliasFor(this.field))throw new Error("Field used in ORDER_BY clause is not present in SELECT clause");return{fa:e.getExistingAlias(this.field),so:this.sortOrder}}},{key:"toEntityJSON",value:function(){var e=this.field;return{fa:void 0,ci:e.dbColumn.index,pi:e.dbProperty.index,ti:e.dbProperty.entity.index,si:e.dbProperty.entity.applicationVersion._localId,so:this.sortOrder}}}]),e}(),xt=function(){function e(t,n,r,i){(0,c.Z)(this,e),this.dbColumn=t,this.dbProperty=n,this.q=r,this.objectType=i,this.__appliedFunctions__=[]}return(0,u.Z)(e,[{key:"applySqlFunction",value:function(e){var t=this.getInstance();return t.__appliedFunctions__.push(e),t}},{key:"toJSON",value:function(e,t,n,r,i){var o,a;t&&(o=e.getNextAlias(this)),a=this.__fieldSubQuery__?e.entityAliases.getOnlyAlias():e.entityAliases.getExistingAlias(this.q.__driver__.getRootJoinEntity());var s={appliedFunctions:this.appliedFunctionsToJson(this.__appliedFunctions__,e,n,r,i),si:this.dbProperty.entity.applicationVersion._localId,ti:this.dbProperty.entity.index,fa:o,pi:this.dbProperty.index,ci:this.dbColumn.index,ta:i.getPositionAlias(a,this.q.__driver__.fromClausePosition),ot:this.objectType,dt:this.dbColumn.type};return this.__fieldSubQuery__&&(s.fieldSubQuery=r.getFieldQueryJson(this.__fieldSubQuery__,e.entityAliases,n),s.ot=ne.FIELD_QUERY),s}},{key:"asc",value:function(){return new bt(this,ee.ASCENDING)}},{key:"desc",value:function(){return new bt(this,ee.DESCENDING)}},{key:"addSubQuery",value:function(e){var t=this.getInstance();return t.__fieldSubQuery__=e,t}},{key:"operableFunctionToJson",value:function(e,t,n,r,i,o){var a;return n&&(a=t.getNextAlias(this)),{appliedFunctions:this.appliedFunctionsToJson(this.__appliedFunctions__,t,r,i,o),fa:a,ot:this.objectType,dt:this.dbColumn.type,v:this.valueToJSON(e,t,!1,!0,r,i,o)}}},{key:"copyFunctions",value:function(e){return e.__appliedFunctions__=this.__appliedFunctions__.slice(),e}},{key:"appliedFunctionsToJson",value:function(e,t,n,r,i){var o=this;return e?e.map((function(e){return o.functionCallToJson(e,t,n,r,i)})):e}},{key:"functionCallToJson",value:function(e,t,n,r,i){var o,a=this;return e.p&&(o=e.p.map((function(e){return a.valueToJSON(e,t,!1,!1,n,r,i)}))),{ft:e.ft,p:o}}},{key:"valueToJSON",value:function(t,n,r,i,o,a,s){if(!t)throw new Error("Function object must be provided to valueToJSON function.");if(!i&&t instanceof e)return t.toJSON(n,r,o,a,s);var l=t.value;switch(typeof l){case"boolean":case"number":case"string":return n.entityAliases.getParams().getNextAlias(t);case"object":if(l instanceof Date)return n.entityAliases.getParams().getNextAlias(t);if(l instanceof Array)return n.entityAliases.getParams().getNextAlias(t);if(null===l)return n.entityAliases.getParams().getNextAlias(t);throw new Error("Unexpected query parameter type allowed types are:\nboolean | Date | Date[] | number | number[] | string | string[]\n");case"undefined":throw new Error("Undefined is not allowed as a query parameter");default:throw new Error("Unexpected query parameter type allowed types are:\nboolean | Date | Date[] | number | number[] | string | string[]\n")}}}]),e}(),wt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a){var s;return(0,c.Z)(this,n),(s=t.call(this,e,r,i,o)).operation=a,s}return(0,u.Z)(n,[{key:"equals",value:function(e){return e instanceof Function&&(e=e()),this.operation.equals(this,e)}},{key:"greaterThan",value:function(e){return e instanceof Function&&(e=e()),this.operation.greaterThan(this,e)}},{key:"greaterThanOrEquals",value:function(e){return e instanceof Function&&(e=e()),this.operation.greaterThanOrEquals(this,e)}},{key:"IS_NOT_NULL",value:function(){return this.operation.IS_NOT_NULL(this)}},{key:"IS_NULL",value:function(){return this.operation.IS_NULL(this)}},{key:"IN",value:function(e){return e instanceof Function&&(e=e()),this.operation.IN(this,e)}},{key:"lessThan",value:function(e){return e instanceof Function&&(e=e()),this.operation.lessThan(this,e)}},{key:"lessThanOrEquals",value:function(e){return e instanceof Function&&(e=e()),this.operation.lessThanOrEquals(this,e)}},{key:"notEquals",value:function(e){return e instanceof Function&&(e=e()),this.operation.notEquals(this,e)}},{key:"NOT_IN",value:function(e){return e=e.map((function(e){return e instanceof Function?e():e})),this.operation.NOT_IN(this,e)}}]),n}(xt),kt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.FIELD;return(0,c.Z)(this,n),t.call(this,e,r,i,o,new gt)}return(0,u.Z)(n,[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.q;return this.copyFunctions(new n(this.dbColumn,this.dbProperty,e,this.objectType))}}]),n}(wt),Et=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.Z)(this,n),(r=t.call(this,{type:re.BOOLEAN},null,null,ne.FIELD_FUNCTION)).value=e,r.isQueryParameter=i,r}return(0,u.Z)(n,[{key:"getInstance",value:function(){return this.copyFunctions(new n(this.value))}},{key:"toJSON",value:function(e,t,n,r,i){var o=this.operableFunctionToJson(this,e,t,n,r,i);return this.isQueryParameter&&(this.parameterAlias=o.v),o}}]),n}(kt),It=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,oe.DATE)}return(0,u.Z)(n)}(st),Rt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.FIELD;return(0,c.Z)(this,n),t.call(this,e,r,i,o,new It)}return(0,u.Z)(n,[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.q;return this.copyFunctions(new n(this.dbColumn,this.dbProperty,e,this.objectType))}}]),n}(wt),Tt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.Z)(this,n),(r=t.call(this,{type:re.DATE},null,null,ne.FIELD_FUNCTION)).value=e,r.isQueryParameter=i,r}return(0,u.Z)(n,[{key:"getInstance",value:function(){return this.copyFunctions(new n(this.value,this.isQueryParameter))}},{key:"toJSON",value:function(e,t,n,r,i){var o=this.operableFunctionToJson(this,e,t,n,r,i);return this.isQueryParameter&&(this.parameterAlias=o.v),o}}]),n}(Rt),_t=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,oe.NUMBER)}return(0,u.Z)(n)}(st),St=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.FIELD;return(0,c.Z)(this,n),t.call(this,e,r,i,o,new _t)}return(0,u.Z)(n,[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.q;return this.copyFunctions(new n(this.dbColumn,this.dbProperty,e,this.objectType))}}]),n}(wt),At=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.Z)(this,n),(r=t.call(this,{type:re.NUMBER},null,null,ne.FIELD_FUNCTION)).value=e,r.isQueryParameter=i,r}return(0,u.Z)(n,[{key:"getInstance",value:function(){return this.copyFunctions(new n(this.value,this.isQueryParameter))}},{key:"toJSON",value:function(e,t,n,r,i){var o=this.operableFunctionToJson(this,e,t,n,r,i);return this.isQueryParameter&&(this.parameterAlias=o.v),o}}]),n}(St),Nt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,oe.STRING)}return(0,u.Z)(n,[{key:"LIKE",value:function(e,t){return{c:this.category,l:e,o:ae.LIKE,r:t}}}]),n}(st),Zt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.FIELD;return(0,c.Z)(this,n),t.call(this,e,r,i,o,new Nt)}return(0,u.Z)(n,[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.q;return this.copyFunctions(new n(this.dbColumn,this.dbProperty,e,this.objectType))}},{key:"LIKE",value:function(e){return e instanceof Function&&(e=e()),this.operation.LIKE(this,e)}}]),n}(wt),Ct=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c.Z)(this,n),(r=t.call(this,{type:re.STRING},null,null,ne.FIELD_FUNCTION)).value=e,r.isQueryParameter=i,r}return(0,u.Z)(n,[{key:"getInstance",value:function(){return this.copyFunctions(new n(this.value,this.isQueryParameter))}},{key:"toJSON",value:function(e,t,n,r,i){var o=this.operableFunctionToJson(this,e,t,n,r,i);return this.isQueryParameter&&(this.parameterAlias=o.v),o}}]),n}(Zt),Ot=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,oe.UNTYPED)}return(0,u.Z)(n,[{key:"LIKE",value:function(e,t){return{c:this.category,l:e,o:ae.LIKE,r:t}}}]),n}(st),Dt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ne.FIELD;return(0,c.Z)(this,n),t.call(this,e,r,i,o,new Ot)}return(0,u.Z)(n,[{key:"getInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.q;return this.copyFunctions(new n(this.dbColumn,this.dbProperty,e,this.objectType))}},{key:"like",value:function(e){return e instanceof Function&&(e=e()),this.operation.LIKE(this,e)}}]),n}(wt),Mt=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getColumnQField",value:function(e,t,n,r){switch(r.type){case re.ANY:return new Dt(r,t,n);case re.BOOLEAN:return new kt(r,t,n);case re.DATE:return new Rt(r,t,n);case re.NUMBER:return new St(r,t,n);case re.JSON:case re.STRING:return new Zt(r,t,n);default:throw new Error("Unsupported data type for property ".concat(e.applicationVersion.application.name,".").concat(e.name,".").concat(t.name))}}},{key:"getQRelation",value:function(e,t,n,r,i,o){var a=t.relation[0];switch(a.relationType){case X.MANY_TO_ONE:var s=a.relationEntity;return new(0,r[s.applicationVersion.application.index].__qIdRelationConstructors__[s.index])(a.relationEntity,a,n,i,o);case X.ONE_TO_MANY:return e.isAirEntity?new yt(a,n,i,o):new vt(a,n,i,o);default:throw new Error("Unknown EntityRelationType: ".concat(a.relationType,"."))}}},{key:"getQEntityConstructor",value:function(t){var n=function n(r,i,o,a,s,l){var c=this;n.base.constructor.call(this,r,i,o,a,s,l);var u=xe.getSync(e);r.properties.forEach((function(e){var n;if(e.relation&&e.relation.length){n=u.getQRelation(r,e,c,t,i,o);var a,s=(0,f.Z)(e.propertyColumns);try{for(s.s();!(a=s.n()).done;){var l=a.value;u.addColumnQField(r,e,c,l.column)}}catch(d){s.e(d)}finally{s.f()}}else n=u.addColumnQField(r,e,c,e.propertyColumns[0].column);c[e.name]=n}))};return F(Ht,n,{}),n}},{key:"addColumnQField",value:function(e,t,n,r){var i=this.getColumnQField(e,t,n,r);return n.__driver__.allColumns[r.index]=i,(r.idIndex||0===r.idIndex)&&(n.__driver__.idColumns[r.idIndex]=i),i}},{key:"getQEntityIdRelationConstructor",value:function(t){function n(t,r,i,o,a){n.base.constructor.call(this,r,i,o,a),xe.getSync(e).getQEntityIdFields(this,t,i,r.property)}var r={};return t.isAirEntity?F(ft,n,r):F(mt,n,r),n}},{key:"getQEntityIdFields",value:function(e,t,n,r,i){var o=this;if(!i){var a=r.relation[0].manyRelationColumns;i=new Map;var s,l=(0,f.Z)(a);try{for(l.s();!(s=l.n()).done;){var c=s.value;i.set(c.oneColumn,c.manyColumn)}}catch(u){l.e(u)}finally{l.f()}}return t.properties.forEach((function(a){if(a.isId||!t.isAirEntity){var s;if(a.relation&&a.relation.length){var l,c=a.relation[0],d=c.manyRelationColumns,p=!1,h=(0,f.Z)(d);try{for(h.s();!(l=h.n()).done;){var m=l.value;if(i.has(m.manyColumn)){p=!0;var v=i.get(m.manyColumn);i.delete(m.manyColumn),i.set(m.oneColumn,v)}}}catch(u){h.e(u)}finally{h.f()}if(!p)return;s=o.getQEntityIdFields({},c.relationEntity,n,r,i)}else{if(!i.has(a.propertyColumns[0].column))return;var y=i.get(a.propertyColumns[0].column);s=o.getColumnQField(t,r,n,y)}e[a.name]=s}})),e}}]),e}(),Vt=_("tarmaq-query");Vt.register(Mt);var Lt=Vt.token("EntityUtils"),Pt=Vt.token("QueryUtils");function Ut(e){var t;t=e instanceof Function?e():e;var n=xe.getSync(Lt).getQTree([],t);return n=Ft(t.SELECT,t,n,n,"f")}function Ft(e,t,n,r,i){var o=0;for(var a in e){var s="".concat(i).concat(++o),l=e[a];if(xe.getSync(Lt).isQField(l)){var c=l.getInstance(n);c.alias=s,c.q=n,r[a]=c}else{if(!(l instanceof Object)||l instanceof Date)throw new Error("All SELECT clause entries of a Mapped query must be Fields or Functions");r[l]=Ft(l,t,n,{},"".concat(s,"_"))}}return n}function Bt(e){var t,n=(t=e instanceof Function?e():e).SELECT;return n=n.addSubQuery(t)}var jt=function(){function e(t,n){if((0,c.Z)(this,e),this.joinFrom=t,this.joinTo=n,!xe.getSync(Lt).isQEntity(this.joinTo))throw new Error("Right value in join must be a View or an Entity")}return(0,u.Z)(e,[{key:"ON",value:function(e){return this.joinFrom.__driver__.joinWhereClause=e(this.joinFrom,this.joinTo),this.joinFrom}}]),e}();function Ht(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Gt;this.__driver__=new a(e,t,n,r,i,o,this)}Ht.prototype.FULL_JOIN=function(e){return this.__driver__.join(e,J.FULL_JOIN)},Ht.prototype.INNER_JOIN=function(e){return this.__driver__.join(e,J.INNER_JOIN)},Ht.prototype.LEFT_JOIN=function(e){return this.__driver__.join(e,J.LEFT_JOIN)},Ht.prototype.RIGHT_JOIN=function(e){return this.__driver__.join(e,J.RIGHT_JOIN)},Ht.prototype.equals=function(e){return xe.getSync(Pt).equals(e,this)},Ht.prototype.in=function(e){return xe.getSync(Pt).in(e,this)};var Gt=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0;(0,c.Z)(this,e),this.dbEntity=t,this.applicationUtils=n,this.relationManager=r,this.fromClausePosition=i,this.dbRelation=o,this.joinType=a,this.qEntity=s,this.childQEntities=[],this.entityFieldMap={},this.entityRelations=[],this.idColumns=[],this.allColumns=[],this.relations=[],this.currentChildIndex=-1}return(0,u.Z)(e,[{key:"getInstance",value:function(){var e=new(this.applicationUtils.getQEntityConstructor(this.dbEntity))(this.dbEntity,this.applicationUtils,this.relationManager,this.fromClausePosition,this.dbRelation,this.joinType);return e.__driver__.currentChildIndex=this.currentChildIndex,e.__driver__.joinWhereClause=this.joinWhereClause,e.__driver__.entityFieldMap=this.entityFieldMap,e.__driver__.entityRelations=this.entityRelations,e}},{key:"getRelationJson",value:function(e,t,n,r){var i={currentChildIndex:this.currentChildIndex,ti:this.dbEntity.index,fromClausePosition:this.fromClausePosition,jt:this.joinType,rt:null,rep:e.entityAliases.getNextAlias(this.getRootJoinEntity()),si:this.dbEntity.applicationVersion.application.index};return this.joinWhereClause?this.getJoinRelationJson(i,e,t,n,r):this.dbRelation?this.getEntityRelationJson(i):this.getRootRelationJson(i,e,t,n,r),i}},{key:"getJoinRelationJson",value:function(e,t,n,r,i){return e.rt=K.ENTITY_JOIN_ON,e.joinWhereClause=n.whereClauseToJSON(this.joinWhereClause,t),e}},{key:"getEntityRelationJson",value:function(e){return e.rt=K.ENTITY_APPLICATION_RELATION,e.ri=this.dbRelation.index,e}},{key:"getRootRelationJson",value:function(e,t,n,r,i){return e.rt=xe.getSync(Lt).isQTree(this)?K.SUB_QUERY_ROOT:K.ENTITY_ROOT,e}},{key:"getQ",value:function(){return this.qEntity}},{key:"join",value:function(e,t){var n=e.__driver__.getInstance();n.__driver__.currentChildIndex=0;var r=this.relationManager.getNextChildJoinPosition(this);return n.__driver__.fromClausePosition=r,n.__driver__.joinType=t,n.__driver__.parentJoinEntity=this.qEntity,this.qEntity.__driver__.childQEntities.push(n),new jt(this.qEntity,n)}},{key:"isRootEntity",value:function(){return!this.parentJoinEntity}},{key:"getRootJoinEntity",value:function(){for(var e=this.qEntity;e.__driver__.parentJoinEntity;)e=e.__driver__.parentJoinEntity;return e}}]),e}(),zt=function(){function e(t,n,r){(0,c.Z)(this,e),this.jsonRelation=t,this.childNodes=n,this.parentNode=r}return(0,u.Z)(e,[{key:"addChildNode",value:function(e){var t=e.jsonRelation.fromClausePosition,n=t[t.length-1];this.childNodes[n]=e}},{key:"getEntityRelationChildNode",value:function(e){return this.getEntityRelationChildNodeByIndexes(e.property.entity.applicationVersion._localId,e.property.entity.index,e.index)}},{key:"getEntityRelationChildNodeByIndexes",value:function(t,n,r){var i=this.childNodes.filter((function(e){return e.jsonRelation.ri===r}));switch(i.length){case 0:break;case 1:return i[0];default:throw new Error("More than one child node matched relation property index '".concat(r,"'"))}var o,a=this.jsonRelation.fromClausePosition.slice();a.push(this.childNodes.length),o=this.parentNode?this.parentNode.jsonRelation.rep:this.jsonRelation.rep;var s=new e({currentChildIndex:0,fromClausePosition:a,ti:n,jt:J.LEFT_JOIN,rt:K.ENTITY_APPLICATION_RELATION,rep:o,ri:r,si:t},[],this);return this.addChildNode(s),s}}]),e}();function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;$t.base.constructor.call(this,null,e,null,null,qt),this.__driver__.subQuery=t}F(Ht,$t,{});var qt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getInstance",value:function(){var e=v((0,h.Z)(n.prototype),"getInstance",this).call(this);return e.__driver__.subQuery=this.subQuery,e}},{key:"getJoinRelationJson",value:function(e,t,r,i,o){return(e=v((0,h.Z)(n.prototype),"getJoinRelationJson",this).call(this,e,t,r,i,o)).rt=K.SUB_QUERY_JOIN_ON,e.subQuery=xe.getSync(Lt).getTreeQuery(this.subQuery,t.entityAliases).toJSON(r,i,o),e}},{key:"getRootRelationJson",value:function(e,t,r,i,o){return(e=v((0,h.Z)(n.prototype),"getJoinRelationJson",this).call(this,e,t,r,i,o)).rt=K.SUB_QUERY_ROOT,e.subQuery=xe.getSync(Lt).getTreeQuery(this.subQuery,t.entityAliases).toJSON(r,i,o),e}}]),n}(Gt),Yt=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this,null,null,null,ne.FIELD_FUNCTION)).value=null,e}return(0,u.Z)(n,[{key:"getInstance",value:function(){return this.copyFunctions(new n)}},{key:"toJSON",value:function(e,t,n,r,i){return this.operableFunctionToJson(this,e,t,n,r,i)}}]),n}(xt),Wt=function(e){if("boolean"!==typeof e)throw new Error("bool() accepts booleans only.");return new Et(e)},Qt=function(e){if(!(e instanceof Date))throw new Error("date() accepts Dates only.");return new Tt(e)},Jt=function(e){if("number"!==typeof e)throw new Error("num() accepts numbers only.");return new At(e)},Xt=function(e){if("string"!==typeof e)throw new Error("str() accepts strings only.");return new Ct(e)};function Kt(e){switch(typeof e){case"boolean":return Wt(e);case"number":return Jt(e);case"string":return Xt(e);case"undefined":throw new Error("Cannot use an 'undefined' value in an operation.")}return null===e?new Yt:e instanceof Date?Qt(e):e}function en(e,t,n,r){if(e.indexOf(typeof r)<-1){var i=e.join(", ");throw new Error("Unexpected typeof value for row: ".concat(n+1,", column: ").concat(tn(t),".  Expecting: ").concat(i))}}function tn(e){return e.name?e.name:e.propertyColumns[0].property.name}function nn(e,t){return t&&(t=t.map((function(e){switch(typeof e){case"boolean":return Wt(e);case"number":return Jt(e);case"string":return Xt(e);case"undefined":throw new Error("'undefined' cannot be used as a function parameter")}return e instanceof Date?Qt(e):e}))),{ft:e,p:t}}function rn(e){switch(typeof e){case"boolean":return new Et(e);case"number":return new At(e);case"string":return new Ct(e)}if(e instanceof Date)return new Tt(e);var t=e.SELECT;if(t instanceof ln&&(t=t.getSelectClause()),t instanceof kt)return new Et(e);if(t instanceof Rt)return new Tt(e);if(t instanceof St)return new At(e);if(t instanceof Zt)return new Ct(e);throw new Error("Function rValue must be a primitive, Date, Field or Field query")}var on=function(e){return e instanceof wt?e.applySqlFunction(nn(te.MAX)):rn(e).applySqlFunction(nn(te.MAX))},an=function(e,t){return e instanceof St?e.applySqlFunction(nn(te.PLUS,[t])):new At(e).applySqlFunction(nn(te.PLUS,[t]))};var sn=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ln=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).selectClause=e,r.__appliedFunctions__=[],r}return(0,u.Z)(n,[{key:"applySqlFunction",value:function(e){return this.__appliedFunctions__.push(e),this}},{key:"getSelectClause",value:function(){return this.selectClause}},{key:"toJSON",value:function(e){if(1!=this.__appliedFunctions__.length)throw new Error('Not expecting and parent or child functions on "distinct"');if(!this.selectClause)throw new Error('SELECT clause is missing in "distinct" function.');return{appliedFunctions:[nn(te.DISTINCT)],dt:null,fa:null,ot:ne.DISTINCT_FUNCTION,v:e}}}],[{key:"getSelect",value:function(e){return e.__appliedFunctions__[0].p[0]}}]),n}(sn),cn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).subQuery=e,r.__appliedFunctions__=[],r.operator=ae.EXISTS,r.o=ae.EXISTS,r.category=oe.FUNCTION,r.c=oe.FUNCTION,r}return(0,u.Z)(n,[{key:"applySqlFunction",value:function(e){return this.__appliedFunctions__.push(e),this}},{key:"getQuery",value:function(){return this.subQuery}},{key:"toJSON",value:function(e){if(1!=this.__appliedFunctions__.length)throw new Error('Not expecting and parent or child functions on "exists"');if(!this.subQuery)throw new Error('Subquery is not defined in "exists" function.');var t=[nn(te.EXISTS)];return{c:this.category,ob:{appliedFunctions:t,dt:null,ot:ne.EXISTS_FUNCTION,v:e},o:this.operator}}}]),n}(sn),un=function(){throw new Error("not implemented")},dn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new rt,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.getNewFieldColumnAliases();(0,c.Z)(this,e),this.entityAliases=t,this.columnAliases=n,this.isEntityQuery=!1}return(0,u.Z)(e,[{key:"getParameters",value:function(){return this.entityAliases.getParams().getParameters()}},{key:"getNonEntityQuery",value:function(e,t,n,r,i,o){var a=this.fromClauseToJSON(e.FROM,r,i,o);return t.F=a,n&&n(t),t.W=r.whereClauseToJSON(e.WHERE,this.columnAliases),t.GB=this.groupByClauseToJSON(e.GROUP_BY),t.H=r.whereClauseToJSON(e.HAVING,this.columnAliases),t.OB=this.orderByClauseToJSON(e.ORDER_BY),t.L=e.LIMIT,t.O=e.OFFSET,t}},{key:"fromClauseToJSON",value:function(e,t,n,r){var i=this;if(!e){if(this.isEntityQuery)return[];throw new Error("From clause must be present in a non-Entity based query.")}return e.map((function(e){if(!xe.getSync(Lt).isQEntity(e))throw new Error("FROM clause can contain only Views or Entities.");if(i.isEntityQuery&&xe.getSync(Lt).isQTree(e))throw new Error("Entity FROM clauses can contain only Entities.");return e.__driver__.getRelationJson(i.columnAliases,t,n,r)}))}},{key:"groupByClauseToJSON",value:function(e){var t=this;return e&&e.length?e.map((function(e){if(!t.columnAliases.hasAliasFor(e))throw new Error("Field used in group by clause is not present in SELECT clause");return{fa:t.columnAliases.getExistingAlias(e)}})):null}},{key:"orderByClauseToJSON",value:function(e){var t=this;return e&&e.length?e.map((function(e){return e.toJSON(t.columnAliases)})):null}}]),e}(),pn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i;return(0,c.Z)(this,n),(i=t.call(this)).rawInsertValues=e,i.columnIndexes=r,i}return(0,u.Z)(n,[{key:"validateColumn",value:function(e,t,n){if(!e)throw new Error("\n\t\tCould not find column ".concat(n," in entity: ").concat(t.name,"\n\t\t\t\t(table: ").concat(t.tableConfig.name,")\n\t\t\t\t\t\t"));if(e.entity.applicationVersion.application.index!==t.applicationVersion.application.index||e.entity.index!==t.index){var r=e.entity.applicationVersion.application,i=t.applicationVersion.application;throw new Error("Unexpected entity for column ".concat(e.name,".\n\t\t\tExpecting:\n\t\t\t\tDomain: ").concat(i.domain.name,"\n\t\t\t\tApplication: ").concat(i.name,"\n\t\t\t\tEntity: ").concat(t.name,"\n\t\t\tFound:\n\t\t\t\tDomain: ").concat(r.domain.name,"\n\t\t\t\tApplication: ").concat(r.name,"\n\t\t\t\tEntity: ").concat(e.entity.name))}}},{key:"valuesToJSON",value:function(e,t,n,r,i){var o=this;return e.map((function(e,a){return e.map((function(e,s){if(void 0===e)throw new Error("Cannot use 'undefined' in VALUES clause.");return e instanceof xt?e.toJSON(o.columnAliases,!1,n,r,i):function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];switch(t.type){case re.ANY:en(["boolean","number","object","string"],t,n,e);break;case re.BOOLEAN:en(["boolean"],t,n,e);break;case re.DATE:en(["number","object"],t,n,e);break;case re.JSON:en(["object"],t,n,e);break;case re.NUMBER:en(["number"],t,n,e);break;case re.STRING:en(["string"],t,n,e);break;default:throw new Error("Unexpected SQLDataType: "+t.type)}switch(typeof e){case"boolean":return e?1:0;case"number":case"string":return e;case"object":if(null===e)return e;if(e instanceof Date){if(t.type!==re.DATE)throw new Error("Unexpected Date object for row: ".concat(n+1,", column: ").concat(tn(t)));return r?e.getTime():e}if(t.type!==re.JSON)throw new Error("Unexpected Json object for row: ".concat(n+1,", column: ").concat(tn(t)));return JSON.stringify(e);case"undefined":throw new Error("Cannot use an 'undefined' value in an operation.");default:throw new Error("Unexpected object in operation.")}}(e,t[s],a)}))}))}}]),n}(dn),fn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).rawUpdate=e,r}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){return{U:this.rawUpdate.UPDATE.__driver__.getRelationJson(this.columnAliases,e,t,n),S:this.setToJSON(this.rawUpdate.SET,e,t,n),W:e.whereClauseToJSON(this.rawUpdate.WHERE,this.columnAliases)}}}]),n}(dn),hn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).rawDelete=e,r}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){return{DF:this.rawDelete.DELETE_FROM.__driver__.getRelationJson(this.columnAliases,e,t,n),W:e.whereClauseToJSON(this.rawDelete.WHERE,this.columnAliases)}}}]),n}(dn),mn='Unsupported entry in Non-Entity SELECT clause, must be a(n): Entity Field | ManyToOne Relation | primitive wrapped by "bool","date","num","str" | query wrapped by "field"',vn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).isHierarchicalEntityQuery=!1,r}return(0,u.Z)(n,[{key:"selectClauseToJSON",value:function(e,t,n,r){if(e instanceof ln){if(this.isHierarchicalEntityQuery)throw new Error("Distinct cannot be used in SELECT of Hierarchical/Bridged Entity queries.");var i=e.getSelectClause(),o=this.nonDistinctSelectClauseToJSON(i,t,n,r);return e.toJSON(o)}return this.nonDistinctSelectClauseToJSON(e,t,n,r)}}]),n}(dn),yn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"nonDistinctSelectClauseToJSON",value:function(e,t,n,r){var i={};for(var o in e){var a=e[o];if(a instanceof xt){if(this.isEntityQuery)throw new Error("Entity SELECT clauses can only contain fields assigned: null | undefined | boolean | Date | number | string | Relation SELECT");i[o]=a.toJSON(this.columnAliases,!0,t,n,r)}else{if(a instanceof vt||a instanceof yt)throw new Error("@OneToMany relation objects can cannot be used in SELECT clauses");var s=!1;try{switch(typeof a){case"boolean":case"number":case"string":case"undefined":continue;case"object":a instanceof Date||null===a||(s=!0,i[o]=this.nonDistinctSelectClauseToJSON(a,t,n,r))}}finally{if(!s&&!this.isEntityQuery)throw new Error(mn)}}}return i}}]),n}(vn),gn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).rawQuery=e,r.isEntityQuery=!0,r.isHierarchicalEntityQuery=!0,r}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){return{S:this.selectClauseToJSON(this.rawQuery.SELECT,e,t,n),F:this.fromClauseToJSON(this.rawQuery.FROM,e,t,n),forUpdate:this.rawQuery.FOR_UPDATE,W:e.whereClauseToJSON(this.rawQuery.WHERE,this.columnAliases),OB:this.orderByClauseToJSON(this.rawQuery.ORDER_BY)}}},{key:"nonDistinctSelectClauseToJSON",value:function(e){for(var t in e){var n=e[t];if(n instanceof xt)throw new Error("Field References cannot be used in Entity Queries");n instanceof Object&&!(n instanceof Date)&&this.nonDistinctSelectClauseToJSON(n)}return e}},{key:"orderByClauseToJSON",value:function(e){return e&&e.length?e.map((function(e){return e.toEntityJSON()})):null}}]),n}(yn),bn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rt;return(0,c.Z)(this,n),(r=t.call(this,i)).rawQuery=e,r}return(0,u.Z)(n,[{key:"nonDistinctSelectClauseToJSON",value:function(e,t,n,r){if(!(this.rawQuery.SELECT instanceof xt))throw new Error(mn);return this.columnAliases.entityAliases.getNextAlias(this.rawQuery.SELECT.q.__driver__.getRootJoinEntity()),this.rawQuery.SELECT.toJSON(this.columnAliases,!0,t,n,r)}},{key:"toJSON",value:function(e,t,n){var r={S:this.selectClauseToJSON(this.rawQuery.SELECT,e,t,n),forUpdate:this.rawQuery.FOR_UPDATE,ot:ne.FIELD_QUERY,dt:this.getClauseDataType()};return this.getNonEntityQuery(this.rawQuery,r,null,e,t,n)}},{key:"getClauseDataType",value:function(){var e=this.rawQuery.SELECT;if(e instanceof ln&&(e=e.getSelectClause()),e instanceof kt)return re.BOOLEAN;if(e instanceof Rt)return re.DATE;if(e instanceof St)return re.NUMBER;if(e instanceof Zt)return re.STRING;if(e instanceof Dt)return re.ANY;throw new Error("Unsupported type of SELECT field in Field Query")}}]),n}(vn),xn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){var r=this,i=this.rawInsertValues.INSERT_INTO.__driver__,o=i.getRelationJson(this.columnAliases,e,t,n),a=i.dbEntity.columnMap,s=[];return{II:o,C:this.columnIndexes?this.columnIndexes:this.rawInsertValues.columns.map((function(e){var t=a[e];return r.validateColumn(t,i.dbEntity,e),s.push(t),t.index})),V:this.valuesToJSON(this.rawInsertValues.VALUES,s,e,t,n)}}}]),n}(pn),wn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){var r,i=this,o=this.rawInsertValues.INSERT_INTO.__driver__,a=o.getRelationJson(this.columnAliases,e,t,n),s=[];if(this.columnIndexes){r=this.columnIndexes;for(var l=0;l<r.length;l++){var c=o.dbEntity.columns[r[l]];this.validateColumn(c,o.dbEntity),s.push(c)}}else r=this.rawInsertValues.columns.map((function(e){var t=e.dbColumn;return i.validateColumn(t,o.dbEntity),s.push(t),t.index}));return{II:a,C:r,V:this.valuesToJSON(this.rawInsertValues.VALUES,s,e,t,n)}}}]),n}(pn),kn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).rawQuery=e,r}return(0,u.Z)(n,[{key:"nonDistinctSelectClauseToJSON",value:function(e,t,n,r){var i=this;if(!(e instanceof Array))throw new Error("Flat Queries an array of fields in SELECT clause.");return e.map((function(e){if(!(e instanceof xt))throw new Error(mn);return i.columnAliases.entityAliases.getNextAlias(e.q.__driver__.getRootJoinEntity()),e.toJSON(i.columnAliases,!0,t,n,r)}))}},{key:"toJSON",value:function(e,t,n){var r={S:this.selectClauseToJSON(this.rawQuery.SELECT,e,t,n),forUpdate:this.rawQuery.FOR_UPDATE};return this.getNonEntityQuery(this.rawQuery,r,null,e,t,n)}}]),n}(vn),En=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rt;return(0,c.Z)(this,n),(r=t.call(this,i)).rawQuery=e,r}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){var r=this;return this.getNonEntityQuery(this.rawQuery,{},(function(i){i.S=r.selectClauseToJSON(r.rawQuery.SELECT,e,t,n),i.forUpdate=r.rawQuery.FOR_UPDATE}),e,t,n)}}]),n}(yn),In=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"setToJSON",value:function(e,t,n,r){var i={},o=this.rawUpdate.UPDATE.__driver__.dbEntity,a=o.columnMap,s=o.idColumnMap;for(var l in e){var c=e[l];if(void 0!==c){if(!a[l])throw new Error("\n\tUnknown column: '".concat(l,"' for entity: '").concat(o.name,"'\n\t\t\t(table: '").concat(o.tableConfig.name,"').\n\t\t\t\t"));if(s[l])throw new Error("\n\tCannot update @Id columns:\n\tColumn: '".concat(l,"' for entity: '").concat(o.name,"'\n\t\t\t(table: '").concat(o.tableConfig.name,"').\n\t\t\t\t"));if(!(c=Kt(c)).toJSON)throw"Unexpected value ".concat(JSON.stringify(c)," for property ").concat(l," of entity ").concat(o.name);i[l]=c.toJSON(this.columnAliases,!1,t,n,r)}else delete e[l]}return i}}]),n}(fn),Rn=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"toJSON",value:function(e,t,n){return{U:this.rawUpdate.UPDATE.__driver__.getRelationJson(this.columnAliases,e,t,n),S:this.setToJSON(this.rawUpdate.SET,e,t,n),W:e.whereClauseToJSON(this.rawUpdate.WHERE,this.columnAliases)}}},{key:"setToJSON",value:function(e,t,n,r){var i={},o=this.rawUpdate.UPDATE.__driver__.dbEntity.propertyMap;return this.setEntityFragmentsToJSON(e,i,[],o,[],t,n,r),i}},{key:"setEntityFragmentsToJSON",value:function(e,t,n,r,i,o,a,s){var l=!r.length;for(var c in e){var u=r[c],p=u.entity;if(!u)throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\tUnknown property: '").concat(c,"' for entity: '").concat(p.name,"'\n\t\t\t(table: '").concat(p.tableConfig.name,"').\n\t\t\t\t"));if(l&&u.isId)throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\tCannot update @Id properties:\n\tProperty: '").concat(c,"' for entity: '").concat(p.name,"'\n\t\t\t(table: '").concat(p.tableConfig.name,"').\n\t\t\t\t"));if(!l&&!u.isId)throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\tUpdated properties of nested entities must be @Id properties:\n\tProperty: '").concat(c,"' for entity: '").concat(p.name,"'\n\t\t\t(table: '").concat(p.tableConfig.name,"').\n\t\t\t\t"));var f=(0,d.Z)(n);f.push(u),this.setFragmentToJSON(e,t,f,c,i,o,a,s)}}},{key:"setFragmentToJSON",value:function(e,t,n,r,i,o,a,s){var l=n[n.length-1],c=l.entity,u=e[r];if(void 0!==u)if((u=Kt(u)).toJSON){if(1!==l.propertyColumns.length)throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\tCannot update multi-column property to a single value:\n\tProperty: '").concat(r,"' for entity: '").concat(c.name,"'\n\t\t\t(table: '").concat(c.tableConfig.name,"')\n\t\t\thas ").concat(l.propertyColumns.length+1," columns \n\t\t\tbut is being updates to a single value.\n\t\t\t\t"));var p=l.propertyColumns[0].column;if(i.length)for(var f=i.length-1;f>=0;f--){var h=i[f].manyRelationColumns.filter((function(e){return e.manyColumn.index===p.index}))[0];p=h.oneColumn}if(t[p.name]){var m=n[0];throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\tCannot update the same column multiple times in the same statement:\n\tProperty: '").concat(r,"' for entity: '").concat(c.name,"'\n\t\t\t(table: '").concat(c.tableConfig.name,"')\n\tmaps to table: ").concat(m.entity.tableConfig.name,", column: ").concat(p.name,"\n\t\twhich has already been set in this update statement (above).\n\t\t\t\t"))}t[p.name]=u.toJSON(this.columnAliases,!1,o,a,s)}else{if("object"!==typeof u)throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\t\t\t\tUnexpected value ").concat(JSON.stringify(u)," \n\t\t\t\t\tfor property: '").concat(r,"' of entity: '").concat(this.rawUpdate.UPDATE.__driver__.dbEntity.name,"'\n\t\t\t\tExpecting a nested property definition.\n\t\t\t\t"));var v=l.relation[0],y=(0,d.Z)(i);switch(y.push(v),v.relationType){case X.MANY_TO_ONE:this.setEntityFragmentsToJSON(u,t,n,v.relationEntity.propertyMap,y,o,a,s);break;case X.ONE_TO_MANY:throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\t\t\t\tCannot update @OneToMany properties:\n\t\t\t\t\tProperty: '").concat(r,"' of entity: '").concat(this.rawUpdate.UPDATE.__driver__.dbEntity.name,"\n\t\t\t\t\tis a @OneToMany relation and cannot be updated since it is\n\t\t\t\t\tassumed to be based on @Id columns (which cannot be updated).'\n\t\t\t\t"));default:throw new Error("\n".concat(this.getPropertyChainDesription(n),"\n\n\t\t\t\tUndefined relation type: \n\t\t\t\t\tProperty: '").concat(r,"' of entity: '").concat(this.rawUpdate.UPDATE.__driver__.dbEntity.name,"'\n\t\t\t\t\tis defined with an unknown type of a relation.  Expecting either\n\t\t\t\t\t@ManyToOne(...)\n\t\t\t\t\tor\n\t\t\t\t\t@OneToMany(...)\n\t\t\t\t"))}}else delete e[r]}},{key:"getPropertyChainDesription",value:function(e){for(var t=e[0].entity,n="    ",r="",i="...\n}",o="\nUpdated Entity: ".concat(t.name,", property chain:\n{"),a=e.length,s=0;s<a;s++){var l=e[s];o+="".concat(n).concat(l.name,": "),o+=s+1<a?": {\n":"VALUE",i=n+"...\n".concat(r,"}"),r=n,n+="    "}return"".concat(o,"\n").concat(i)}}]),n}(fn),Tn=function(e,t){return Tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Tn(e,t)};function _n(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Tn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Sn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function An(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function Nn(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zn(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Cn(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function On(e){return this instanceof On?(this.v=e,this):new On(e)}function Dn(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof On?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(r){u(o[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Nn(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;var Vn=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function Ln(e){return"function"===typeof e}function Pn(e){return Ln(null===e||void 0===e?void 0:e.then)}function Un(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fn=Un((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function Bn(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var jn=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._teardowns=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Nn(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(f){e={error:f}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(Ln(l))try{l()}catch(h){i=h instanceof Fn?h.errors:[h]}var c=this._teardowns;if(c){this._teardowns=null;try{for(var u=Nn(c),d=u.next();!d.done;d=u.next()){var p=d.value;try{zn(p)}catch(m){i=null!==i&&void 0!==i?i:[],m instanceof Fn?i=Cn(Cn([],Zn(i)),Zn(m.errors)):i.push(m)}}}catch(v){n={error:v}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new Fn(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)zn(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Bn(t,e)},e.prototype.remove=function(t){var n=this._teardowns;n&&Bn(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Hn=jn.EMPTY;function Gn(e){return e instanceof jn||e&&"closed"in e&&Ln(e.remove)&&Ln(e.add)&&Ln(e.unsubscribe)}function zn(e){Ln(e)?e():e.unsubscribe()}var $n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qn={setTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=qn.delegate;return((null===n||void 0===n?void 0:n.setTimeout)||setTimeout).apply(void 0,Cn([],Zn(e)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=qn.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function Yn(e){qn.setTimeout((function(){var t=$n.onUnhandledError;if(!t)throw e;t(e)}))}function Wn(){}var Qn=Jn("C",void 0,void 0);function Jn(e,t,n){return{kind:e,value:t,error:n}}var Xn=null;function Kn(e){if($n.useDeprecatedSynchronousErrorHandling){var t=!Xn;if(t&&(Xn={errorThrown:!1,error:null}),e(),t){var n=Xn,r=n.errorThrown,i=n.error;if(Xn=null,r)throw i}}else e()}function er(e){$n.useDeprecatedSynchronousErrorHandling&&Xn&&(Xn.errorThrown=!0,Xn.error=e)}var tr=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Gn(t)&&t.add(n)):n.destination=ar,n}return _n(t,e),t.create=function(e,t,n){return new nr(e,t,n)},t.prototype.next=function(e){this.isStopped?or(function(e){return Jn("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?or(Jn("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?or(Qn,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(jn),nr=function(e){function t(t,n,r){var i,o=e.call(this)||this;if(Ln(t))i=t;else if(t){var a;i=t.next,n=t.error,r=t.complete,o&&$n.useDeprecatedNextContext?(a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()}:a=t,i=null===i||void 0===i?void 0:i.bind(a),n=null===n||void 0===n?void 0:n.bind(a),r=null===r||void 0===r?void 0:r.bind(a)}return o.destination={next:i?rr(i,o):Wn,error:rr(null!==n&&void 0!==n?n:ir,o),complete:r?rr(r,o):Wn},o}return _n(t,e),t}(tr);function rr(e,t){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{e.apply(void 0,Cn([],Zn(t)))}catch(r){$n.useDeprecatedSynchronousErrorHandling?er(r):Yn(r)}}}function ir(e){throw e}function or(e,t){var n=$n.onStoppedNotification;n&&qn.setTimeout((function(){return n(e,t)}))}var ar={closed:!0,next:Wn,error:ir,complete:Wn},sr="function"===typeof Symbol&&Symbol.observable||"@@observable";function lr(e){return e}function cr(e){return 0===e.length?lr:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var ur=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof tr||function(e){return e&&Ln(e.next)&&Ln(e.error)&&Ln(e.complete)}(e)&&Gn(e)}(e)?e:new nr(e,t,n);return Kn((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=dr(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),null===i||void 0===i||i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[sr]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return cr(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=dr(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function dr(e){var t;return null!==(t=null!==e&&void 0!==e?e:$n.Promise)&&void 0!==t?t:Promise}function pr(e){return Ln(e[sr])}function fr(e){return Symbol.asyncIterator&&Ln(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function hr(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var mr="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function vr(e){return Ln(null===e||void 0===e?void 0:e[mr])}function yr(e){return Dn(this,arguments,(function(){var t,n,r;return An(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,On(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,On(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,On(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function gr(e){return Ln(null===e||void 0===e?void 0:e.getReader)}function br(e){if(e instanceof ur)return e;if(null!=e){if(pr(e))return i=e,new ur((function(e){var t=i[sr]();if(Ln(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Vn(e))return r=e,new ur((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Pn(e))return n=e,new ur((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,Yn)}));if(fr(e))return xr(e);if(vr(e))return t=e,new ur((function(e){var n,r;try{for(var i=Nn(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(gr(e))return xr(yr(e))}var t,n,r,i;throw hr(e)}function xr(e){return new ur((function(t){(function(e,t){var n,r,i,o;return Sn(this,void 0,void 0,(function(){var a,s;return An(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=Mn(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function wr(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function kr(e){return function(t){if(function(e){return Ln(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Er=function(e){function t(t,n,r,i,o){var a=e.call(this,t)||this;return a.onFinalize=o,a._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return _n(t,e),t.prototype.unsubscribe=function(){var t,n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))},t}(tr);function Ir(e,t){return void 0===t&&(t=0),kr((function(n,r){n.subscribe(new Er(r,(function(n){return wr(r,e,(function(){return r.next(n)}),t)}),(function(){return wr(r,e,(function(){return r.complete()}),t)}),(function(n){return wr(r,e,(function(){return r.error(n)}),t)})))}))}function Rr(e,t){return void 0===t&&(t=0),kr((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function Tr(e,t){if(!e)throw new Error("Iterable cannot be null");return new ur((function(n){wr(n,t,(function(){var r=e[Symbol.asyncIterator]();wr(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function _r(e,t){if(null!=e){if(pr(e))return function(e,t){return br(e).pipe(Rr(t),Ir(t))}(e,t);if(Vn(e))return function(e,t){return new ur((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(Pn(e))return function(e,t){return br(e).pipe(Rr(t),Ir(t))}(e,t);if(fr(e))return Tr(e,t);if(vr(e))return function(e,t){return new ur((function(n){var r;return wr(n,t,(function(){r=e[mr](),wr(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(o){return void n.error(o)}i?n.complete():n.next(t)}),0,!0)})),function(){return Ln(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(gr(e))return function(e,t){return Tr(yr(e),t)}(e,t)}throw hr(e)}function Sr(e,t){return t?_r(e,t):br(e)}var Ar={setQApp:function(e){},dS:function(e,t){return!0},ddS:function(e,t){return!0}};globalThis.airApi=Ar;var Nr=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getCreatedBy",value:function(e){return e.actor.userAccount}},{key:"encodeId",value:function(e){if(!e.repository||!e.repository.GUID||!e.actor||!e.actor.GUID||!e._actorRecordId)return null;if("string"!==typeof e.repository.GUID)throw Error('Type of "repository.GUID" property is not a string.');if("string"!==typeof e.actor.GUID)throw Error('Type of "actor.GUID" property is not a string.');if("number"!==typeof e._actorRecordId)throw Error('Type of "_actorRecordId" property is not a number.');return e.repository.GUID+"-"+e.actor.GUID+"-"+e._actorRecordId}},{key:"parseEGUID",value:function(e){var t=e.split("-");if(11!==t.length)throw new Error("Invalid Entity Id, expecting ${repository.GUID}-${actor.GUID}-${_actorRecordId}");for(var n=[],r=0;r<5;r++)n.push(t[r]);for(var i=[],o=5;o<10;o++)i.push(t[o]);return{repository:{GUID:n.join("-")},actor:{GUID:i.join("-")},_actorRecordId:parseInt(t[10])}}},{key:"setId",value:function(e,t){if(e){var n=this.parseEGUID(e);t.repository?t.repository.GUID=n.repository.GUID:t.repository={GUID:n.repository.GUID},t.actor?t.actor.GUID=n.actor.GUID:t.actor={GUID:n.repository.GUID},t._actorRecordId=n._actorRecordId}}}]),e}();globalThis.AIR_ENTITY_UTILS&&globalThis.AIR_ENTITY_UTILS.setClass(Nr);var Zr=function(){function e(t){(0,c.Z)(this,e),this.dao=t}return(0,u.Z)(e,[{key:"ensureContext",value:function(e){return Or(e)}},{key:"lookup",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dao.lookup.lookup(t,n,r,i,o,a,l);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}()}]),e}(),Cr=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureContext",value:function(e){return Or(e)}},{key:"lookup",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a){var l,c,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=this.entityUtils.getRawQuery(t),this.entityUtils.ensureAllQEntitiesInFromClause(c),o?(u=this.entityUtils.getQuery(c),l=new o(u)):l=this.entityUtils.getEntityQuery(c),d=r?i?this.queryFacade.searchOne:this.queryFacade.search:i?this.queryFacade.findOne:this.queryFacade.find,e.next=6,d.call(this.queryFacade,l,n,a);case 6:return p=e.sent,i||p||(p=[]),e.abrupt("return",p);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()}]),e}();function Or(e){return e||(e={}),e.startedAt||(e.startedAt=new Date),e}var Dr=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.mapResults;return(0,c.Z)(this,n),(i=t.call(this,r)).dbEntity=e,i.mapResults=o,i}return(0,u.Z)(n,[{key:"setNoCache",value:function(e){return new e(this.dbEntity,this.dao,this.mapResults)}},{key:"entityLookup",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.dbEntity=this.dbEntity,t=xe.getSync(Lt).ensureId(t),e.next=4,this.lookup(t,n,r,i,null,o,this.mapResults);case 4:if(a=e.sent,!r){e.next=9;break}throw new Error("Search operations are not yet supported");case 9:this.dao.updateCacheManager.saveOriginalValues(a,o.dbEntity);case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()}]),n}(Zr);Dr.mapResults=!1;var Mr=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"graph",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.find(t,ve.ENTITY_GRAPH,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tree",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.find(t,ve.ENTITY_TREE,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.entityLookup(t,n,!1,!1,this.ensureContext(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"noCache",value:function(){return this.setNoCache(n)}}]),n}(Dr),Vr=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"graph",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findOne(t,ve.ENTITY_GRAPH,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tree",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findOne(t,ve.ENTITY_TREE,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.entityLookup(t,n,!1,!0,this.ensureContext(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"noCache",value:function(){return this.setNoCache(n)}}]),n}(Dr),Lr=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"field",value:function(e,t){return this.find(e,ve.FIELD,bn,t)}},{key:"sheet",value:function(e,t,n,r){if(t||n)throw new Error("Implement!");return this.find(e,ve.SHEET,kn,r)}},{key:"tree",value:function(e,t){return this.find(e,ve.TREE,En,t)}},{key:"find",value:function(e,t,n,r){return this.lookup(e,t,!1,!1,n,this.ensureContext(r))}}]),n}(Cr),Pr=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"field",value:function(e,t){return this.findOne(e,ve.FIELD,bn,t)}},{key:"sheet",value:function(e,t){return this.findOne(e,ve.SHEET,kn,t)}},{key:"tree",value:function(e,t){return this.findOne(e,ve.TREE,En,t)}},{key:"findOne",value:function(e,t,n,r){return this.lookup(e,t,!1,!0,n,this.ensureContext(r))}}]),n}(Cr),Ur=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"field",value:function(e,t){return Sr(this.search(e,ve.FIELD,bn,t))}},{key:"sheet",value:function(e,t){return Sr(this.search(e,ve.SHEET,kn,t))}},{key:"tree",value:function(e,t){return Sr(this.search(e,ve.TREE,En,t))}},{key:"search",value:function(e,t,n,r){return this.lookup(e,t,!0,!1,n,this.ensureContext(r))}}]),n}(Cr),Fr=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"field",value:function(e,t){return Sr(this.searchOne(e,ve.FIELD,bn,t))}},{key:"sheet",value:function(e,t){return Sr(this.searchOne(e,ve.SHEET,kn,t))}},{key:"tree",value:function(e,t){return Sr(this.searchOne(e,ve.TREE,En,t))}},{key:"searchOne",value:function(e,t,n,r){return this.lookup(e,t,!0,!0,n,this.ensureContext(r))}}]),n}(Cr),Br=function(){function e(t,n,r){(0,c.Z)(this,e),this.dbEntity=t,this.Q=n,this.dao=r,this.find=new Mr(this.dbEntity,r),this.findOne=new Vr(this.dbEntity,r)}return(0,u.Z)(e,[{key:"FROM",get:function(){return this.Q[this.dbEntity.name]}},{key:"insertColumnValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.insertColumnValues(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.insertValues(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertColumnValuesGenerateIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.insertColumnValuesGenerateIds(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValuesGenerateIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.insertValuesGenerateIds(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateColumnsWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateColumnsWhere(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.updateWhere(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.deleteWhere(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(n,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.save(t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveToDestination",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.withDbEntity(r,function(){var e=(0,l.Z)((0,s.Z)().mark((function e(r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.saveToDestination(t,n,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"withDbEntity",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(t={}),t.startedAt||(t.startedAt=new Date),r=t.dbEntity,t.dbEntity=this.dbEntity,e.prev=4,e.next=7,n(this.dao.databaseFacade,t);case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,t.dbEntity=r,e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),jr=function(){function e(t){(0,c.Z)(this,e),this.dbEntity=t}return(0,u.Z)(e,[{key:"ids",get:function(){var e=this.dbEntity.properties.filter((function(e){return e.isId})).map((function(e){return e.name}));return this.getSelect(e,!1)}},{key:"fields",get:function(){var e=this.dbEntity.properties.filter((function(e){return!e.relation||!e.relation.length})).map((function(e){return e.name}));return this.getSelect(e,!1)}},{key:"manyToOnes",get:function(){return this.getRelationSelect(X.MANY_TO_ONE)}},{key:"oneToManys",get:function(){return this.getRelationSelect(X.ONE_TO_MANY)}},{key:"getRelationSelect",value:function(e){var t=this.dbEntity.properties.filter((function(t){return t.relation&&t.relation.length&&t.relation[0].relationType===e})).map((function(e){return e.name}));return this.getSelect(t,!0)}},{key:"getSelect",value:function(e,t){var n,r={},i=(0,f.Z)(e);try{for(i.s();!(n=i.n()).done;){r[n.value]=t?{}:qe}}catch(o){i.e(o)}finally{i.f()}return r}}]),e}(),Hr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,c.Z)(this,e),this.internal=r;var i=n.__dbApplication__.currentVersion[0].applicationVersion.entities[t];this.db=new Br(i,n,this),this.SELECT=new jr(i)}return(0,u.Z)(e,[{key:"mapById",value:function(e){var t,n=new Map,r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.set(i.id,i)}}catch(o){r.e(o)}finally{r.f()}return n}},{key:"count",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not Implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"exists",value:function(e,t){throw new Error("Not Implemented")}},{key:"findAll",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>2&&void 0!==r[2]&&r[2],!t){e.next=3;break}throw new Error("Not implemented");case 3:return e.next=5,this.db.find.graph({SELECT:{},FROM:[this.db.FROM]},n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findAllAsTrees",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.length>2&&void 0!==r[2]&&r[2],!t){e.next=3;break}throw new Error("Not implemented");case 3:return e.next=5,this.db.find.tree({SELECT:{},FROM:[this.db.FROM]},n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=a.length>2?a[2]:void 0,this.db.dbEntity.isAirEntity){e.next=4;break}throw new Error("Dao.findOne can only be called for Repository Entities.");case 4:return i=t,e.next=7,this.db.findOne.graph({SELECT:{"*":qe},FROM:[o=this.db.FROM],WHERE:o.equals(i),FOR_UPDATE:n},r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.db.dbEntity.isAirEntity){e.next=2;break}throw new Error("Dao.findIn can only be called for Repository Entities.");case 2:return e.next=4,this.db.find.graph({SELECT:{"*":qe},FROM:[i=this.db.FROM],WHERE:i.IN(t),FOR_UPDATE:n},r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.save(t,this.ensureContext(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"markForDeletion",value:function(e,t){if(e instanceof Array){var n,r=(0,f.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.entityStateManager.markForDeletion(i)}}catch(o){r.e(o)}finally{r.f()}}else this.entityStateManager.markForDeletion(e)}},{key:"_repositoryId",value:function(){return{actor:{_localId:qe},_actorRecordId:qe,ageSuitability:qe,repository:{_localId:qe}}}},{key:"_find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.graph(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_findUnique",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.graph(t,n);case 2:if((r=e.sent).length){e.next=5;break}return e.abrupt("return",null);case 5:if(!(r.length>1)){e.next=10;break}for(r.sort((function(e,t){return t.createdAt.getTime()-e.createdAt.getTime()})),i=1;i<r.length;i++)this.markForDeletion(r[i]);return e.next=10,this.save(r);case 10:return e.abrupt("return",r[0]);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.graph(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_search",value:function(e,t){throw new Error("Not implemented")}},{key:"_searchOne",value:function(e,t){throw new Error("Not implemented")}},{key:"ensureContext",value:function(e){return Or(e)}}],[{key:"BaseSave",value:function(e){return function(e,t){}}}]),e}(),Gr=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"Graph",value:function(e){return function(e,t){}}},{key:"Tree",value:function(e){return function(e,t){}}}]),e}(),zr=_("tarmaq-dao");zr.register(Hr,Cr,Lr,Pr,Ur,Fr);var $r=zr.token("DatabaseFacade"),qr=zr.token("QueryFacade");zr.setDependencies(Hr,{databaseFacade:$r,entityStateManager:He,lookup:Cr,updateCacheManager:$e});var Yr=!1;Ar.dS=function(e,t){if(!Yr&&!Re||!e)return!1;var n=e.currentVersion[0].applicationVersion.entities[t];return Yr?!!n:Re.exists(n)},Ar.ddS=function(e,t){return e&&e.currentVersion[0].applicationVersion.entities[t]};var Wr="actor",Qr="repository",Jr=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getDbEntity",value:function(e,t){return this.airportDatabase.applications[e].currentVersion[0].applicationVersion.entities[t]}},{key:"isActorId",value:function(e){return e===Q.ACTOR_LID}},{key:"isActorRecordId",value:function(e){return e===Q.ACTOR_RECORD_ID}},{key:"isRepositoryId",value:function(e){return e===Q.REPOSITORY_LID}},{key:"doCascade",value:function(e,t){if(e.relationType!==X.ONE_TO_MANY)return!1;if(!e.oneToManyElems)return!1;switch(t){case se.CREATE:case se.UPDATE:case se.DELETE:return!0;default:throw new Error("Unsupported CRUDOperation '".concat(t,"' for cascade check."))}}},{key:"getQEntityConstructor",value:function(e){return this.airportDatabase.qApplications[e.applicationVersion.application.index].__qConstructors__[e.index]}},{key:"getEntityConstructor",value:function(e){return this.airportDatabase.qApplications[e.applicationVersion.application.index].__constructors__[e.name]}},{key:"getNewEntity",value:function(e){var t=this.getEntityConstructor(e);return t?new t:{}}},{key:"isIdEmpty",value:function(e){return!e&&0!==e}},{key:"isEmpty",value:function(e){return this.isIdEmpty(e)&&!1!==e&&""!==e}},{key:"isRelationColumn",value:function(e){return this.isManyRelationColumn(e)||this.isOneRelationColumn(e)}},{key:"isManyRelationColumn",value:function(e){return!(!e.manyRelationColumns||!e.manyRelationColumns.length)}},{key:"isOneRelationColumn",value:function(e){return!(!e.oneRelationColumns||!e.oneRelationColumns.length)}},{key:"getIdKey",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.getIdKeyInfo(e,t,n,r);return i.arrayByIdColumnIndex.join("|")}},{key:"getIdKeyInfo",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;if(!t.idColumns.length){if(n)throw new Error("@Id is not defined on entity '".concat(t.name,"'."));return null}var i,o={arrayByIdColumnIndex:[],mapByIdColumnName:{}},a=(0,f.Z)(t.idColumns);try{for(a.s();!(i=a.n()).done;){var s=i.value,l=this.getColumnPropertyNameChainsAndValue(t,s,e,!0,n),c=(0,p.Z)(l,2),u=c[0],d=c[1];r&&r(s,d,u),o.arrayByIdColumnIndex.push(d),o.mapByIdColumnName[s.name]=d}}catch(h){a.e(h)}finally{a.f()}return o}},{key:"getColumnPropertyNameChainsAndValue",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=this.getColumnValuesAndPaths(t,n,[],i,o),s=a[0],l=[s.path],c=s.value;return a.reduce((function(n,i){if(!r.utils.valuesEqual(n.value,i.value,!0))throw new Error("Values differ for ".concat(e.name,".").concat(t.name,":\n\t\t\t\t\t\t'").concat(n.path.join("."),"' = ").concat(n.value,"\n\t\t\t\t\t\t'").concat(i.path.join("."),"' = ").concat(i.value));return l.push(i.path),i})),[l,c]}},{key:"addRelationToEntitySelectClause",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.forEachColumnTypeOfRelation(e,(function(i,o){var a=!0,s=t,l=o[0];l.forEach((function(t,i){var o=s[t];if(o)if(i<l.length-1){if(!(o instanceof Object)||o instanceof Date)throw new Error("Invalid entry:\n\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t\t".concat(t,": ").concat(o,"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tin '").concat(e.property.entity.name,".").concat(e.property.name,"',\n\t\t\t\t\t\t\t\tProperty must be an Object."))}else{if(!r&&!Qe(o)){var c=e.property.isId?"'".concat(e.property.entity.name,".").concat(e.property.name,"' is an @Id property"):"'".concat(e.property.entity.name,"' has no @Id - all properties are treated as @Ids");throw new Error("Defaults are not allowed in:\n\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t...\n\t\t\t\t\t\t\t\t\t".concat(t,": ").concat(o,"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t").concat(c,"."))}a=!1}else o={},n.entityStateManager.markAsStub(o),s[t]=o;s=o})),a&&We(s)}))}},{key:"forEachColumnOfRelation",value:function(e,t,n){var r,i=e.property.entity,o=(0,f.Z)(e.manyRelationColumns);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=a.manyColumn,l=this.getColumnPropertyNameChainsAndValue(i,s,t),c=(0,p.Z)(l,2),u=c[0],d=c[1];if(n(s,d,u))return}}catch(h){o.e(h)}finally{o.f()}}},{key:"forEachColumnTypeOfRelation",value:function(e,t){var n,r=(0,f.Z)(e.manyRelationColumns);try{for(r.s();!(n=r.n()).done;){var i=n.value.manyColumn;if(t(i,this.getColumnPaths(i,[])))return}}catch(o){r.e(o)}finally{r.f()}}},{key:"getSheetSelectFromSetClause",value:function(e,t,n,r){var i,o,a,s,l=this,c=[],u=function(){var u,p=e.columns[d],f=!1;if(p.propertyColumns.some((function(e){return(u=e.property).isId}))){if(n[p.name])throw new Error(r+"Cannot update @Id column '".concat(p.name,"' \nof property '").concat(e.name,".").concat(u.name,"'."));l.addColumnToSheetSelect(p,t,c)}else n[p.name]&&(f=!0,l.addColumnToSheetSelect(p,t,c));var h=c.length-1;switch(p.name){case Q.ACTOR_LID:i=h;break;case Q.ACTOR_RECORD_ID:o=h;break;case Q.REPOSITORY_LID:a=h;break;case Q.SYSTEM_WIDE_OPERATION_ID:if(f)throw new Error(r+"Cannot update 'systemWideOperationId' of Repository Entities.");s=p}};for(var d in e.columns)u();return{actorIdColumnIndex:i,actorRecordIdColumnIndex:o,repositoryIdColumnIndex:a,selectClause:c,systemWideOperationIdColumn:s}}},{key:"getColumnValuesAndPaths",value:function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.isManyRelationColumn(t)){var a,s=[],l=(0,f.Z)(t.manyRelationColumns);try{for(l.s();!(a=l.n()).done;){var c=a.value,u=c.manyRelation.property,p=(0,d.Z)(r),h=u.name;p.push(h);var m=n[h];if(m){var v=c.oneColumn,y=this.getColumnValuesAndPaths(v,m,p,i);s=s.concat(y)}else{if(i)throw new Error("Cannot retrieve composite Id value, value chain '".concat(p.join("."),"' is : ").concat(m,"."));s.push({path:p,value:m})}}}catch(k){l.e(k)}finally{l.f()}return s}var g=t.propertyColumns[0].property,b=(0,d.Z)(r),x=g.name;b.push(x);var w=n[x];if(i&&this.isIdEmpty(w)){if(!t.isGenerated)throw new Error("Cannot retrieve composite Id value, value chain '".concat(b.join("."),"' is : ").concat(w,"."));w=o?--e.TEMP_ID:null,n[x]=w}return[{path:b,value:w}]}},{key:"getColumnPaths",value:function(e,t){var n=[];if(this.isManyRelationColumn(e)){var r,i=(0,f.Z)(e.manyRelationColumns);try{for(i.s();!(r=i.n()).done;){var o=r.value,a=o.manyRelation.property,s=(0,d.Z)(t);s.push(a.name);var l=o.oneColumn,c=this.getColumnPaths(l,s);n=n.concat(c)}}catch(h){i.e(h)}finally{i.f()}}else{var u=e.propertyColumns[0].property,p=(0,d.Z)(t);p.push(u.name),n.push(p)}return n}},{key:"addColumnToSheetSelect",value:function(e,t,n){if(this.isManyRelationColumn(e)){var r=this.getColumnPaths(e,[])[0],i=t[r[0]];r.reduce((function(e,t){return i=i[t],t})),n.push(i)}else n.push(t[e.propertyColumns[0].property.name])}},{key:"handleNoId",value:function(e,t,n,r,i){if(!i)throw new Error("Cannot retrieve composite Id value, value chain '".concat(n.join("."),"' is : ").concat(r,"."));return!i(e,r,n)}}]),e}();Jr.TEMP_ID=0;var Xr=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getObjectClassName",value:function(e){if("object"!=typeof e||null===e)throw new Error("Not an object instance");return this.getClassName(e.constructor)}},{key:"getClassName",value:function(e){if("function"!=typeof e)throw new Error("Not a constructor function");return e.name}},{key:"exists",value:function(e){return this.utils.objectExists(e)}},{key:"isAppliable",value:function(e){return e instanceof wt}},{key:"getQuery",value:function(e){return this.getRawQuery(e)}},{key:"ensureId",value:function(e){var t=this.getRawQuery(e);return this.ensureIdAtLevel(t.SELECT,t.FROM[0]),t}},{key:"ensureIdAtLevel",value:function(e,t){for(var n in e){var r=e[n];if(r instanceof Object&&"boolean"!==typeof r.airportSelectField&&!r.__allFields__){var i,o=void 0,a=(0,f.Z)(t.__driver__.childQEntities);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.__driver__.dbRelation.property.name===n){o=s;break}}}catch(u){a.e(u)}finally{a.f()}o&&o.__driver__.dbEntity.isAirEntity&&this.ensureIdAtLevel(r,o)}}if(t.__driver__.dbEntity.isAirEntity&&e.id){var l=e.repository;if(l){if(!(l instanceof Object))throw new Error("id queries must include a repository object in the SELECT clause.\nIt must be an Object with the id property.");l.GUID=qe}var c=e.actor;if(c){if(!(c instanceof Object))throw new Error("id queries must include an actor object in the SELECT clause.\nIt must be an Object with the id property.");c.GUID=qe}e._actorRecordId=qe,this.ensureRepositoryAndActorJoin(t)}}},{key:"ensureRepositoryAndActorJoin",value:function(e){var t,n,r,i=!1,o=!1,a=(0,f.Z)(e.__driver__.childQEntities);try{for(a.s();!(r=a.n()).done;){var s=r.value;s.__driver__.dbRelation.property.name===Wr&&(o=!0,t=s),s.__driver__.dbRelation.property.name===Qr&&(i=!0,n=s)}}catch(l){a.e(l)}finally{a.f()}return o||(t=e.actor.LEFT_JOIN()),i||(n=e.repository.LEFT_JOIN()),{qActor:t,qRepository:n}}},{key:"ensureAllQEntitiesInFromClause",value:function(e){var t,n=new Set,r=(0,f.Z)(e.FROM);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.add(i)}}catch(l){r.e(l)}finally{r.f()}var o,a=(0,f.Z)(e.FROM);try{for(a.s();!(o=a.n()).done;){var s=o.value;this.doEnsureAllQEntitiesInFromClause(s,e.FROM,n)}}catch(l){a.e(l)}finally{a.f()}}},{key:"doEnsureAllQEntitiesInFromClause",value:function(e,t,n){if(e.__driver__&&(n.has(e)||(n.add(e),t.push(e)),e.__driver__.childQEntities)){var r,i=(0,f.Z)(e.__driver__.childQEntities);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.doEnsureAllQEntitiesInFromClause(o,t,n)}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getRawQuery",value:function(e){return e instanceof Function?e():e}},{key:"getEntityQuery",value:function(e){return new gn(this.getRawQuery(e))}},{key:"getTreeQuery",value:function(e,t){return new En(e,t)}},{key:"isQEntity",value:function(e){return e instanceof Ht}},{key:"isQTree",value:function(e){return e instanceof qt}},{key:"getQTree",value:function(e,t){return new $t(e,t)}},{key:"isQField",value:function(e){return e instanceof xt}}]),e}();Lt.setClass(Xr);var Kr=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getFieldQueryJson",value:function(e,t,n){return new bn(e,t).toJSON(n,this,this.relationManager)}}]),e}(),ei=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"setQAppEntities",value:function(e,t,n,r,i){var o=this;t.__qIdRelationConstructors__=[],t.__qConstructors__={},e.currentVersion[0].applicationVersion.entities.forEach((function(e){var a,s=(0,f.Z)(e.idColumns);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.manyRelationColumns&&l.manyRelationColumns.length){var c=l.manyRelationColumns[0].oneColumn,u=c.entity;if(!n[u.applicationVersion.application.index])throw new Error("QApp not yet initialized for ID relation:\n\t\t\t\t\t\t".concat(e.name,".").concat(c.name,"\n\t\t\t\t\t\t"))}}}catch(h){s.e(h)}finally{s.f()}var d=o.qEntityUtils.getQEntityIdRelationConstructor(e);t.__qIdRelationConstructors__[e.index]=d;var p=o.qEntityUtils.getQEntityConstructor(n);t.__qConstructors__[e.index]=p,Object.getOwnPropertyNames(t).filter((function(t){return t===e.name})).length||Object.defineProperty(t,e.name,{get:function(){return new this.__qConstructors__[e.index](e,r,i)}})}))}},{key:"orderApplicationsInOrderOfPrecedence",value:function(e){var t,n=this,r=new Map,i=e.map((function(e){var t,n=new Set,i=(0,f.Z)(e.currentVersion[0].applicationVersion.references);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.add({index:o.referencedApplicationVersion.application.index})}}catch(s){i.e(s)}finally{i.f()}var a={application:e,dependencies:n};return r.set(e.index,a),a})),o=(0,f.Z)(e);try{for(o.s();!(t=o.n()).done;){var a,s=t.value,l=r.get(s.index),c=(0,f.Z)(l.dependencies);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.appWithDependencies=r.get(u.index)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return i.sort((function(e,t){return n.applicationDependsOn(e,t.application.index)?1:n.applicationDependsOn(t,e.application.index)?-1:0})),i.map((function(e){return e.application}))}},{key:"applicationDependsOn",value:function(e,t){var n,r=(0,f.Z)(e.dependencies);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.index==t)return!0;if(i.appWithDependencies.dependencies.size&&this.applicationDependsOn(i.appWithDependencies,t))return!0}}catch(o){r.e(o)}finally{r.f()}return!1}}]),e}(),ti=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getAllColumns",value:function(e){return e.__driver__.allColumns}},{key:"getAllNonGeneratedColumns",value:function(e){return this.getAllColumns(e).filter((function(e){return!e.dbColumn.isGenerated}))}},{key:"getAllInsertableColumns",value:function(e){return this.getAllColumns(e).filter((function(t){return!t.dbColumn.isGenerated&&(!e.__driver__.dbEntity.isAirEntity||t.dbColumn.name!==Q.SYSTEM_WIDE_OPERATION_ID)}))}},{key:"getDbEntity",value:function(e){return e.__driver__.dbEntity}},{key:"getNewEntity",value:function(e,t){var n=e.__driver__.dbEntity,r=t.qApplications[n.applicationVersion.application.index].__constructors__[n.name];return r?new r:{}}}]),e}(),ni=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"equals",value:function(e,t){if(!e)throw new Error("null entity/Id is passed into 'equals' method");var n=this.entityUtils.ensureRepositoryAndActorJoin(t),r=n.qActor,i=n.qRepository;if(e instanceof Ht){var o=this.entityUtils.ensureRepositoryAndActorJoin(e);return lt(i.GUID.equals(o.qRepository.repository.GUID),r.GUID.equals(o.qActor.actor.GUID),t._actorRecordId.equals(e._actorRecordId))}var a=this.validateEntityId(e);return lt(i.GUID.equals(a.repository.GUID),r.GUID.equals(a.actor.GUID),t._actorRecordId.equals(a._actorRecordId))}},{key:"in",value:function(e,t){var n=this;if(!e||!e.length)throw new Error("null entity/Id array is passed into 'IN' method");var r,i=e.map((function(e){return n.validateEntityId(e)})),o=this.entityUtils.ensureRepositoryAndActorJoin(t),a=o.qActor,s=o.qRepository,l=[],c=(0,f.Z)(i);try{for(c.s();!(r=c.n()).done;){var u=r.value;l.push(lt(s.GUID.equals(u.repository.GUID),a.GUID.equals(u.actor.GUID),t._actorRecordId.equals(u._actorRecordId)))}}catch(d){c.e(d)}finally{c.f()}return ct.apply(void 0,l)}},{key:"equalsInternal",value:function(e,t){return this.getGetSingleColumnRelationField(t).equals(e)}},{key:"inInternal",value:function(e,t){if(!e||!e.length)throw new Error("null or empty Id array is passed into 'IN' method");return this.getGetSingleColumnRelationField(t).IN(e)}},{key:"getGetSingleColumnRelationField",value:function(e){var t=e;if(t.__driver__.dbRelation.manyRelationColumns.length>1)throw new Error("\nCurrently IN operation on internal (non AirEntity) entities\nis supported only for single columm relations\n\t\t\t");t.__driver__.dbRelation.property;var n=t.__driver__.dbRelation.manyRelationColumns[0];return this.qEntityUtils.getColumnQField(t.__driver__.dbEntity,t.__driver__.dbRelation.property,t,n.manyColumn)}},{key:"validateEntityId",value:function(e){if("string"===typeof e)return this.airEntityUtils.parseEGUID(e);if(!e.repository||!e.repository.GUID||"string"!==typeof e.repository.GUID||!e.actor||!e.actor.GUID||"number"!==typeof e.actor.GUID||!e._actorRecordId||"number"!==typeof e._actorRecordId)throw new Error("Passed in AirEntity does not have\n\t\t\t\tthe necessary fields to query by id.  Expecting:\n\t\t\t\t\tinterface AnInterface extends AirEntity {\n\t\t\t\t\t\trepository: {\n\t\t\t\t\t\t\tGUID: string\n\t\t\t\t\t\t},\n\t\t\t\t\t\tactor: {\n\t\t\t\t\t\t\tGUID: string\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_actorRecordId: number\n\t\t\t\t\t}\n\t\t\t\t\t");return e}},{key:"whereClauseToJSON",value:function(e,t){var n=this;if(!e)return null;var r=e,i={c:r.c,o:r.o};switch(r.c){case oe.LOGICAL:var o=r,a=i;switch(r.o){case ae.NOT:a.v=this.whereClauseToJSON(o.v,t);break;case ae.AND:case ae.OR:a.v=o.v.map((function(e){return n.whereClauseToJSON(e,t)}));break;default:throw new Error("Unsupported logical operation '".concat(r.o,"'"))}break;case oe.FUNCTION:var s=r,l=s.getQuery(),c=xe.getSync(Lt).getTreeQuery(l,t.entityAliases).toJSON(this,this.fieldUtils,this.relationManager);i=s.toJSON(c);break;case oe.BOOLEAN:case oe.DATE:case oe.NUMBER:case oe.STRING:case oe.UNTYPED:var u=r,d=i;if(d.l=this.convertLRValue(u.l,t),r.o===ae.IS_NOT_NULL||r.o===ae.IS_NULL)break;var p=u.r;d.r=p instanceof Array?p.map((function(e){return n.convertLRValue(e,t)})):this.convertLRValue(p,t)}return i}},{key:"convertLRValue",value:function(e,t){if("undefined"===typeof(e=Kt(e)))throw new Error("'undefined' is not a valid L or R value");if(e instanceof wt)return e.toJSON(t,!1,this,this.fieldUtils,this.relationManager);var n=e;return this.fieldUtils.getFieldQueryJson(n,t.entityAliases,this)}}]),e}(),ri={applications:[],entityMap:new Map,functions:{ABS:function(e){return e instanceof St?e.applySqlFunction(nn(te.AVG)):new At(e).applySqlFunction(nn(te.ABS))},ADD:function(e,t){return e instanceof St?e.applySqlFunction(nn(te.PLUS,[t])):new At(e).applySqlFunction(nn(te.PLUS,[t]))},AVG:function(e){return e instanceof St?e.applySqlFunction(nn(te.AVG)):new At(e).applySqlFunction(nn(te.AVG))},CONCAT:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>2)throw new Error("Less than two operands passed to 'concat' function.");var r=t[0],i=t.slice(1);return r instanceof Zt?r.applySqlFunction(nn(te.CONCATENATE,i)):new Ct(r).applySqlFunction(nn(te.CONCATENATE,i))},COUNT:function(e){return e instanceof wt?e.applySqlFunction(nn(te.COUNT)):rn(e).applySqlFunction(nn(te.COUNT))},DISTINCT:function(e){var t=new ln(e);return t.applySqlFunction(nn(te.DISTINCT)),t},DIVIDE:function(e,t){return e instanceof St?e.applySqlFunction(nn(te.DIVIDE,[t])):new At(e).applySqlFunction(nn(te.DIVIDE,[t]))},EXISTS:function(e){if(!e.SELECT)throw new Error("Sub-Query must have SELECT clause defined to be used in EXITS function");return new cn(e).applySqlFunction(nn(te.EXISTS))},FORMAT:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e instanceof Zt?e.applySqlFunction(nn(te.FORMAT,n)):new Ct(e).applySqlFunction(nn(te.FORMAT,n))},INTERSECT:function(){throw new Error("not implemented")},LCASE:function(e){return e instanceof Zt?e.applySqlFunction(nn(te.LCASE)):new Ct(e).applySqlFunction(nn(te.LCASE))},LEN:function(e){return e instanceof Zt?e.applySqlFunction(nn(te.LEN)):new Ct(e).applySqlFunction(nn(te.LEN))},ROUND:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e instanceof St?e.applySqlFunction(nn(te.ROUND,[t])):new At(e).applySqlFunction(nn(te.ROUND,[t]))},MAX:on,MID:function(e,t,n){return e instanceof Zt?e.applySqlFunction(nn(te.MID,[t,n])):new Ct(e).applySqlFunction(nn(te.MID,[t,n]))},MIN:function(e){return e instanceof wt?e.applySqlFunction(nn(te.MIN)):rn(e).applySqlFunction(nn(te.MIN))},MINUS:un,MODULUS:function(e,t){return e instanceof St?e.applySqlFunction(nn(te.MODULUS,[t])):new At(e).applySqlFunction(nn(te.MODULUS,[t]))},MULTIPLY:function(e,t){return e instanceof St?e.applySqlFunction(nn(te.MULTIPLY,[t])):new At(e).applySqlFunction(nn(te.MULTIPLY,[t]))},NOW:function(){return new Tt(null).applySqlFunction(nn(te.NOW))},REPLACE:function(e,t,n){return e instanceof Zt?e.applySqlFunction(nn(te.REPLACE,[t,n])):new Ct(e).applySqlFunction(nn(te.REPLACE,[t,n]))},SUBTRACT:function(e,t){return e instanceof St?e.applySqlFunction(nn(te.MINUS,[t])):new At(e).applySqlFunction(nn(te.MINUS,[t]))},SUM:function(e){return e instanceof St?e.applySqlFunction(nn(te.SUM)):new At(e).applySqlFunction(nn(te.SUM))},TRIM:function(e){return e instanceof Zt?e.applySqlFunction(nn(te.TRIM)):new Ct(e).applySqlFunction(nn(te.TRIM))},UCASE:function(e){return e instanceof Zt?e.applySqlFunction(nn(te.UCASE)):new Ct(e).applySqlFunction(nn(te.UCASE))},UNION:function(){throw new Error("not implemented")},UNION_ALL:function(){throw new Error("not implemented")},AND:lt,NOT:function(e){return(new ut).NOT(e)},OR:ct,bool:Wt,date:Qt,num:Jt,str:Xt,wrapPrimitive:Kt},qApplications:[],QM:{}},ii=function(){function e(){(0,c.Z)(this,e),this.databaseState=ri}return(0,u.Z)(e,[{key:"applications",get:function(){return this.databaseState.applications}},{key:"entityMap",get:function(){return this.databaseState.entityMap}},{key:"functions",get:function(){return this.databaseState.functions}},{key:"qApplications",get:function(){return this.databaseState.qApplications}},{key:"QM",get:function(){return this.databaseState.QM}}]),e}(),oi=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getPositionAlias",value:function(e,t){return"".concat(e,"_").concat(t.join("_"))}},{key:"getAlias",value:function(e){return this.getPositionAlias(e.rep,e.fromClausePosition)}},{key:"getParentAlias",value:function(e){var t=e.fromClausePosition;if(0===t.length)throw new Error("Cannot find alias of a parent entity for the root entity");return this.getPositionAlias(e.rep,t.slice(0,t.length-1))}},{key:"createRelatedQEntity",value:function(e,t){var n=this.applicationUtils.getDbEntity(e.si,e.ti);return new(this.applicationUtils.getQEntityConstructor(n))(n,this.applicationUtils,this,e.fromClausePosition,n.relations[e.ri],e.jt)}},{key:"getNextChildJoinPosition",value:function(e){var t=e.fromClausePosition.slice();return t.push(++e.currentChildIndex),t}}]),e}();function ai(e,t){return si.apply(this,arguments)}function si(){return(si=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(1,t,n);case 2:return r=e.sent,e.abrupt("return",r[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t,n){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return i=n.QM[Q.SYS_WIDE_OP_ID_APPLICATION].__dbApplication__.currentVersion[0].applicationVersion.entityMapByName[Q.SYS_WIDE_OP_ID_ENTITY].columnMap.SYSTEM_WIDE_OPERATION_LID,e.next=5,r.generateSequenceNumbers([i],[t]);case 5:return o=e.sent,e.abrupt("return",o[0]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ui=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"strsToNums",value:function(e){return e.map((function(e){return parseInt(e)}))}},{key:"objectExists",value:function(e){return null!==e&&void 0!==e}},{key:"valuesEqual",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"===typeof e){if(e instanceof Date)return t instanceof Date&&e.getTime()===t.getTime();if("object"!==typeof t)return!1;if(!n)return!0;var r={};for(var i in e)if(r[i]=!0,!this.valuesEqual(e[i],t[i],n))return!1;for(var o in t)if(!r[o])return!1;return!0}return e?!!t&&e===t:""===e?""===t:!1===e?!1===t:0===e?0===t:""!==t&&!1!==t&&0!==t&&!t}},{key:"compareNumbers",value:function(e,t){return e<t?-1:e>t?1:0}}]),e}(),di=_("air-traffic-control");di.register(ui),Lt.setDependencies({utils:ui}),Pt.setClass(ni),di.register(Jr,ii,Kr,ei,ti,oi);var pi=di.token("AirportDatabase"),fi=di.token("RepositoryLoader");pi.setDependencies({appliationUtils:Jr,databaseFacade:$r,databaseStore:ii,dbApplicationUtils:Ze,find:Lr,findOne:Pr,qApplicationBuilderUtils:ei,relationManager:oi,search:Ur,searchOne:Fr}),di.setDependencies(Jr,{airportDatabase:pi,entityStateManager:He,qEntityUtils:Mt,utils:ui}),$r.setDependencies({applicationUtils:Jr,entityStateManager:He,transactionalConnector:ze,updateCacheManager:$e}),di.setDependencies(Kr,{relationManager:oi}),di.setDependencies(Cr,{entityUtils:Lt,queryFacade:qr}),di.setDependencies(ei,{qEntityUtils:Mt}),qr.setDependencies({fieldUtils:Kr,queryUtils:Pt,relationManager:oi,transactionalConnector:ze}),Pt.setDependencies({entityUtils:Lt,fieldUtils:Kr,relationManager:oi,airEntityUtils:C}),di.setDependencies(oi,{applicationUtils:Jr}),$e.setDependencies({applicationUtils:Jr,entityStateManager:He}),Ar.setQApp=function(e){xe.eventuallyGet(pi).then((function(t){t.setQApp(e)}))};var hi={__constructors__:{Sequence:(0,u.Z)((function e(){(0,c.Z)(this,e)})),SystemWideOperationId:(0,u.Z)((function e(){(0,c.Z)(this,e)})),TerminalRun:(0,u.Z)((function e(){(0,c.Z)(this,e)}))},domain:"airport",name:"@airport/airport-code"};function mi(e){return globalThis.airApi.dS(hi.__dbApplication__,e)}globalThis.airApi&&globalThis.airApi.setQApp(hi);var vi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,hi)}return(0,u.Z)(n)}(Hr),yi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,0)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return mi(0)}}]),n}(vi);yi.Find=new Gr,yi.FindOne=new Gr,yi.Search=new Gr,yi.SearchOne=new Gr;var gi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,1)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return mi(1)}}]),n}(vi);gi.Find=new Gr,gi.FindOne=new Gr,gi.Search=new Gr,gi.SearchOne=new Gr;var bi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,2)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return mi(2)}}]),n}(vi);bi.Find=new Gr,bi.FindOne=new Gr,bi.Search=new Gr,bi.SearchOne=new Gr;var xi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(bi),wi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"incrementCurrentValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hi.Sequence,e.next=3,this.db.updateWhere({UPDATE:n,SET:{currentValue:an(n.currentValue,n.incrementBy)}},t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"incrementSequence",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hi.Sequence,e.next=3,this.db.updateWhere({UPDATE:n,SET:{currentValue:an(n.currentValue,n.incrementBy)}},t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"diSet",value:function(){return hi.__dbApplication__&&hi.__dbApplication__.currentVersion[0].applicationVersion.entities[0]}}]),n}(yi);_("@airport/airport-code").register(wi,xi);var ki=(0,u.Z)((function e(){(0,c.Z)(this,e)})),Ei=(0,u.Z)((function e(){(0,c.Z)(this,e),this.versions=[],this.currentVersion=[]})),Ii=(0,u.Z)((function e(){(0,c.Z)(this,e)})),Ri=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).propertyColumns=[],e.manyRelationColumns=[],e.oneRelationColumns=[],e}return(0,u.Z)(n)}(Ii),Ti=(0,u.Z)((function e(){(0,c.Z)(this,e)})),_i=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).columns=[],e.operations=[],e.properties=[],e.relations=[],e.relationReferences=[],e.columnMap={},e.idColumns=[],e.idColumnMap={},e.propertyMap={},e}return(0,u.Z)(n)}(Ii),Si=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Ii),Ai=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).propertyColumns=[],e.relation=[],e}return(0,u.Z)(n)}(Ii),Ni=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Ii),Zi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Ii),Ci=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).manyRelationColumns=[],e.oneRelationColumns=[],e}return(0,u.Z)(n)}(Ii),Oi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Ii),Di={__constructors__:{Application:Ei,ApplicationColumn:Ri,ApplicationCurrentVersion:Ti,ApplicationEntity:_i,ApplicationOperation:Si,ApplicationProperty:Ai,ApplicationPropertyColumn:Ni,ApplicationReference:Zi,ApplicationRelation:Ci,ApplicationRelationColumn:Oi,ApplicationVersion:(0,u.Z)((function e(){(0,c.Z)(this,e),this.entities=[],this.references=[],this.referencedBy=[],this.entityMapByName={},this.referencesMapByName={},this.referencedByMapByName={}})),Domain:ki,VersionedApplicationObject:Ii},domain:"airport",name:"@airport/airspace"};function Mi(e){return globalThis.airApi.dS(Di.__dbApplication__,e)}globalThis.airApi&&globalThis.airApi.setQApp(Di);var Vi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,Di)}return(0,u.Z)(n)}(Hr),Li=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,10)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(10)}}]),n}(Vi);Li.Find=new Gr,Li.FindOne=new Gr,Li.Search=new Gr,Li.SearchOne=new Gr;var Pi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,4)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(4)}}]),n}(Vi);Pi.Find=new Gr,Pi.FindOne=new Gr,Pi.Search=new Gr,Pi.SearchOne=new Gr;var Ui=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,9)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(9)}}]),n}(Vi);Ui.Find=new Gr,Ui.FindOne=new Gr,Ui.Search=new Gr,Ui.SearchOne=new Gr;var Fi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,6)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(6)}}]),n}(Vi);Fi.Find=new Gr,Fi.FindOne=new Gr,Fi.Search=new Gr,Fi.SearchOne=new Gr;var Bi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,5)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(5)}}]),n}(Vi);Bi.Find=new Gr,Bi.FindOne=new Gr,Bi.Search=new Gr,Bi.SearchOne=new Gr;var ji=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,2)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(2)}}]),n}(Vi);ji.Find=new Gr,ji.FindOne=new Gr,ji.Search=new Gr,ji.SearchOne=new Gr;var Hi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,3)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(3)}}]),n}(Vi);Hi.Find=new Gr,Hi.FindOne=new Gr,Hi.Search=new Gr,Hi.SearchOne=new Gr;var Gi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,7)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(7)}}]),n}(Vi);Gi.Find=new Gr,Gi.FindOne=new Gr,Gi.Search=new Gr,Gi.SearchOne=new Gr;var zi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,1)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(1)}}]),n}(Vi);zi.Find=new Gr,zi.FindOne=new Gr,zi.Search=new Gr,zi.SearchOne=new Gr;var $i=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,0)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(0)}}]),n}(Vi);$i.Find=new Gr,$i.FindOne=new Gr,$i.Search=new Gr,$i.SearchOne=new Gr;var qi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,8)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(8)}}]),n}(Vi);qi.Find=new Gr,qi.FindOne=new Gr,qi.Search=new Gr,qi.SearchOne=new Gr;var Yi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,11)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Mi(11)}}]),n}(Vi);Yi.Find=new Gr,Yi.FindOne=new Gr,Yi.Search=new Gr,Yi.SearchOne=new Gr;var Wi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findByIdIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Di.Domain],WHERE:n._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findMapByNameWithNames",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Di.Domain],WHERE:n.name.IN(t)});case 2:r=e.sent,i=new Map,o=(0,f.Z)(r);try{for(o.s();!(a=o.n()).done;)l=a.value,i.set(l.name,l)}catch(s){o.e(s)}finally{o.f()}return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findOneByName",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.tree({SELECT:{},FROM:[n=Di.Domain],WHERE:n.name.equals(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findByNames",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Di.Domain],WHERE:n.name.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findByName",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.tree({SELECT:{},FROM:[n=Di.Domain],WHERE:n.name.equals(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkAndInsertIfNeeded",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h,m,v,y,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findByIdIn(t.map((function(e){return e._localId})));case 2:r=e.sent,i=new Map,o=(0,f.Z)(r);try{for(o.s();!(a=o.n()).done;)l=a.value,i.set(l._localId,l)}catch(s){o.e(s)}finally{o.f()}c=[],u=(0,f.Z)(t);try{for(u.s();!(d=u.n()).done;)p=d.value,i.has(p._localId)||c.push(p)}catch(s){u.e(s)}finally{u.f()}if(c.length){e.next=11;break}return e.abrupt("return");case 11:for(m=[],v=0,y=c;v<y.length;v++)g=y[v],m.push([g._localId,g.name]);return e.next=15,this.db.insertValuesGenerateIds({INSERT_INTO:h=Di.Domain,columns:[h._localId,h.name],VALUES:m},n);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=(0,f.Z)(t);try{for(i.s();!(o=i.n()).done;)a=o.value,r.push([a.name])}catch(s){i.e(s)}finally{i.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:n=Di.Domain,columns:[n.name],VALUES:r});case 5:for(l=e.sent,c=0;c<t.length;c++)t[c]._localId=l[c][0];case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Yi),Qi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForEntities",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationColumn],WHERE:n.entity._localId.IN(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l._localId,l.index,Fe(l.idIndex),l.isGenerated,Fe(l.allocationSize),l.name,l.notNull,Fe(l.precision),Fe(l.scale),l.type,l.entity._localId,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationColumn,columns:[r._localId,r.index,r.idIndex,r.isGenerated,r.allocationSize,r.name,r.notNull,r.precision,r.scale,r.type,r.entity._localId,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Pi),Ji=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllActive",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:{},FROM:[Di.Application]}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findAllWithJson",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:r(r({},Ye),{},{versions:{_localId:qe,jsonApplication:qe}}),FROM:[t=Di.Application,t.versions.INNER_JOIN()]}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findMapByVersionIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,e.next=3,this.db.find.tree({SELECT:{index:qe,domain:{_localId:qe,name:qe},name:qe,fullName:qe,versions:{_localId:qe,majorVersion:qe,minorVersion:qe,patchVersion:qe}},FROM:[r=Di.Application,i=r.versions.INNER_JOIN()],WHERE:i._localId.IN(t)});case 3:o=e.sent,a=(0,f.Z)(o);try{for(a.s();!(l=a.n()).done;){c=l.value,u=(0,f.Z)(c.versions);try{for(u.s();!(d=u.n()).done;)p=d.value,n.set(p._localId,c)}catch(s){u.e(s)}finally{u.f()}}}catch(s){a.e(s)}finally{a.f()}return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findMaxIndex",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Di.Application,e.next=3,this.airportDatabase.findOne.field({SELECT:on(t.index),FROM:[t]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findMaxVersionedMapByApplicationAndDomain_Names",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Map,e.next=3,this.airportDatabase.find.tree({FROM:[c=Ut({FROM:[l=Ut({FROM:[o=Di.Application,i=o.versions.INNER_JOIN(),a=o.domain.INNER_JOIN()],SELECT:{index:o.index,domainId:a._localId,domainName:a.name,name:o.name,majorVersion:on(i.majorVersion),minorVersion:i.minorVersion,patchVersion:i.patchVersion},WHERE:lt(a.name.IN(t),o.name.IN(n)),GROUP_BY:[o.index,a._localId,a.name,o.name,i.minorVersion,i.patchVersion]})],SELECT:{index:l.index,domainId:l.domainId,domainName:l.domainName,name:l.name,majorVersion:l.majorVersion,minorVersion:on(l.minorVersion),patchVersion:l.patchVersion},GROUP_BY:[l.index,l.domainId,l.domainName,l.name,l.majorVersion,l.patchVersion]})],SELECT:{index:c.index,domain:{_localId:c.domainId,name:c.domainName},name:c.name,majorVersion:c.majorVersion,minorVersion:c.minorVersion,patchVersion:on(c.patchVersion)},GROUP_BY:[c.index,c.domainId,c.domainName,c.name,c.majorVersion,c.minorVersion]});case 3:u=e.sent,d=(0,f.Z)(u);try{for(d.s();!(p=d.n()).done;)h=p.value,Pe(r,h.domain.name).set(h.name,h)}catch(s){d.e(s)}finally{d.f()}return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setStatusByIndexes",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.updateWhere({UPDATE:r=Di.Application,SET:{status:n},WHERE:r.index.IN(t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findMapByFullNames",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,e.next=3,this.db.find.tree({SELECT:{},FROM:[r=Di.Application],WHERE:r.fullName.IN(t)});case 3:i=e.sent,o=(0,f.Z)(i);try{for(o.s();!(a=o.n()).done;)l=a.value,n.set(l.fullName,l)}catch(s){o.e(s)}finally{o.f()}return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findByDomain_NamesAndApplication_Names",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{index:qe,domain:{_localId:qe,name:qe},fullName:qe,name:qe},FROM:[r=Di.Application,i=r.domain.INNER_JOIN()],WHERE:lt(i.name.IN(t),r.name.IN(n))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findOneByDomain_NameAndApplication_Name",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.tree({SELECT:{domain:{name:qe},fullName:qe,index:qe,name:qe},FROM:[r=Di.Application,i=r.domain.INNER_JOIN()],WHERE:lt(i.name.equals(t),r.name.equals(n))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findByIndex",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.tree({SELECT:r(r({},Ye),{},{domain:{}}),FROM:[n=Di.Application,n.domain.INNER_JOIN()],WHERE:n.index.equals(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.index,l.domain._localId,l.scope,l.fullName,l.name,l.status,l.signature])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.Application,columns:[r.index,r.domain._localId,r.scope,r.fullName,r.name,r.status,r.signature],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Li),Xi=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForApplicationVersions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationEntity],WHERE:n.applicationVersion._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l._localId,l.index,l.isLocal,l.isAirEntity,l.name,l.tableConfig,l.applicationVersion._localId,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationEntity,columns:[r._localId,r.index,r.isLocal,r.isAirEntity,r.name,r.tableConfig,r.applicationVersion._localId,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fi),Ki=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForColumns",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationPropertyColumn],WHERE:n.column._localId.IN(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.column._localId,l.property._localId,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationPropertyColumn,columns:[r.column._localId,r.property._localId,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Hi),eo=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForEntities",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationProperty],WHERE:n.entity._localId.IN(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l._localId,l.index,l.name,l.isId,l.entity._localId,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationProperty,columns:[r._localId,r.index,r.name,r.isId,r.entity._localId,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ji),to=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForApplicationVersions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationReference],WHERE:n.ownApplicationVersion._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.ownApplicationVersion._localId,l.referencedApplicationVersion._localId,l.index,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationReference,columns:[r.ownApplicationVersion._localId,r.referencedApplicationVersion._localId,r.index,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Gi),no=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForColumns",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationRelationColumn],WHERE:ct(n.oneColumn._localId.IN(t),n.manyColumn._localId.IN(t))}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l._localId,l.manyColumn?l.manyColumn._localId:null,l.oneColumn?l.oneColumn._localId:null,l.manyRelation?l.manyRelation._localId:null,l.oneRelation?l.oneRelation._localId:null,l.parentRelation?l.parentRelation._localId:null,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationRelationColumn,columns:[r._localId,r.manyColumn._localId,r.oneColumn._localId,r.manyRelation._localId,r.oneRelation._localId,r.parentRelation._localId,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}($i),ro=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllForProperties",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.db.find.tree({SELECT:{},FROM:[n=Di.ApplicationRelation],WHERE:n.property._localId.IN(t)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l._localId,l.index,l.property._localId,Fe(l.foreignKey),Fe(l.manyToOneElems),Fe(l.oneToManyElems),l.relationType,l.isId,l.entity._localId,l.relationEntity._localId,l.deprecatedSinceVersion?l.deprecatedSinceVersion._localId:null,l.removedInVersion?l.removedInVersion._localId:null,l.sinceVersion?l.sinceVersion._localId:null])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationRelation,columns:[r._localId,r.index,r.property._localId,r.foreignKey,r.manyToOneElems,r.oneToManyElems,r.relationType,r.isId,r.entity._localId,r.relationEntity._localId,r.deprecatedSinceVersion._localId,r.removedInVersion._localId,r.sinceVersion._localId],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(zi),io=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findAllActiveOrderByApplication_IndexAndId",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({FROM:[t=Di.ApplicationVersion],SELECT:{},ORDER_BY:[t.application.index.asc(),t._localId.desc()]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findByDomain_NamesAndApplication_Names",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{_localId:qe,integerVersion:qe,application:{domain:{name:qe},fullName:qe,name:qe}},FROM:[r=Di.ApplicationVersion,i=r.application.INNER_JOIN(),o=i.domain.INNER_JOIN()],WHERE:lt(o.name.IN(t),i.name.IN(n))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l._localId,l.integerVersion,l.versionString,l.majorVersion,l.minorVersion,l.patchVersion,l.application.index,l.jsonApplication])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=Di.ApplicationVersion,columns:[r._localId,r.integerVersion,r.versionString,r.majorVersion,r.minorVersion,r.patchVersion,r.application.index,r.jsonApplication],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(qi),oo=I({name:"@airport/airspace",domain:{name:"airport"}});oo.register(Wi,Qi,Ji,Xi,Ki,eo,to,no,ro,io),oo.setDependencies(Ji,{airportDatabase:pi});var ao,so,lo=Un((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),co=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _n(t,e),t.prototype.lift=function(e){var t=new uo(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new lo},t.prototype.next=function(e){var t=this;Kn((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){var i=t.observers.slice();try{for(var o=Nn(i),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;Kn((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;Kn((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=t.hasError,r=t.isStopped,i=t.observers;return n||r?Hn:(i.push(e),new jn((function(){return Bn(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new ur;return e.source=this,e},t.create=function(e,t){return new uo(e,t)},t}(ur),uo=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return _n(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Hn},t}(co),po=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return _n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(co);function fo(e,t){return void 0===t&&(t=lr),e=null!==e&&void 0!==e?e:ho,kr((function(n,r){var i,o=!0;n.subscribe(new Er(r,(function(n){var a=t(n);!o&&e(i,a)||(o=!1,i=a,r.next(n))})))}))}function ho(e,t){return e===t}function mo(e,t){return kr((function(n,r){var i=0;n.subscribe(new Er(r,(function(n){r.next(e.call(t,n,i++))})))}))}!function(e){e.ADD_REPOSITORY="ADD_REPOSITORY",e.APP_INITIALIZING="APP_INITIALIZING",e.APP_INITIALIZED="APP_INITIALIZED",e.CALL_API="CALL_API",e.DELETE_WHERE="DELETE_WHERE",e.FIND="FIND",e.FIND_ONE="FIND_ONE",e.GET_LATEST_APPLICATION_VERSION_BY_APPLICATION_NAME="GET_LATEST_APPLICATION_VERSION_BY_APPLICATION_NAME",e.INSERT_VALUES="INSERT_VALUES",e.INSERT_VALUES_GET_IDS="INSERT_VALUES_GET_IDS",e.RETRIEVE_DOMAIN="RETRIEVE_DOMAIN",e.SEARCH="SEARCH",e.SEARCH_ONE="SEARCH_ONE",e.SEARCH_UNSUBSCRIBE="UNSUBSCRIBE",e.SAVE="SAVE",e.SAVE_TO_DESTINATION="SAVE_TO_DESTINATION",e.UPDATE_VALUES="UPDATE_VALUES"}(ao||(ao={})),function(e){e.NOT_INITIALIED="NOT_INITIALIED",e.START_INITIALIZING="START_INITIALIZING",e.INITIALIZING_IN_PROGRESS="INITIALIZING_IN_PROGRESS",e.INITIALIZED="INITIALIZED"}(so||(so={}));var vo={api:null,application:null,appState:so.NOT_INITIALIED,domain:null,hostServer:"https://localhost:3000",mainDomain:null,observableMessageMap:new Map,pendingMessageMap:new Map,messageCallback:null},yo=function(){function e(){(0,c.Z)(this,e),this.applicationState=vo}return(0,u.Z)(e,[{key:"state",get:function(){return this.applicationState}}]),e}(),go=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"createSelector",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length<2||t.length>6)throw new Error("Invalid createSelector call, Expecting 1 to 5 selectors and a callback.");var r=t.slice(0,t.length-1),i=t[t.length-1],o=(r.length>1?Sr(r.map((function(e){return e.observable}))):r[0].observable).pipe(fo(),mo((function(e){return i(e)})));return this.getSelector(o)}},{key:"createRootSelector",value:function(e){return this.getSelector(e)}},{key:"getSelector",value:function(e){var t=function(){var t;return e.subscribe((function(e){return t=e})).unsubscribe(),t};return t.observable=e,t}}]),e}(),bo=_("apron");bo.register(yo,go);var xo=bo.token("ApplicationLoader"),wo=bo.token("LocalAPIServer");var ko;!function(e){e.ARRAY="ARRAY",e.BOOLEAN="BOOLEAN",e.BOOLEAN_VALUE="BOOLEAN_VALUE",e.DATE="DATE",e.DB_ENTITY="DB_ENTITY",e.NUMBER="NUMBER",e.NUMBER_VALUE="NUMBER_VALUE",e.OBJECT="OBJECT",e.STRING="STRING",e.STRING_VALUE="STRING_VALUE",e.TYPE_UNION="TYPE_UNION"}(ko||(ko={}));var Eo=_("check-in"),Io=Eo.token("ApiRegistry"),Ro=Eo.token("ApiValidator");Io.setDependencies({containerAccessor:Z});var To;!function(e){e.NOT_AIR_ENTITY="NOT_AIR_ENTITY",e.AIR_ENTITY="AIR_ENTITY"}(To||(To={}));var _o=new po({applicationActors:[],applicationInitializer:{applicationWindowMap:new Map,initializingApplicationMap:new Map},applicationMapByFullName:new Map,applications:[],domains:[],frameworkActor:null,internalConnector:{dbName:"",internalCredentials:{application:null,domain:Te,methodName:null,objectName:null},serverUrl:""},isServer:!1,lastIds:{columns:0,domains:0,entities:0,properties:0,relations:0,relationColumns:0,applications:0,applicationVersions:0},receiver:{initializedApps:new Set,initializingApps:new Set},sequenceGenerator:{sequences:[],sequenceBlocks:[],generatingSequenceNumbers:!1},terminal:null,transactionManager:{pendingTransactionQueue:[],rootTransactionInProgressMap:new Map,transactionInProgressMap:new Map},webReceiver:{domainPrefix:"",localDomain:"",mainDomainFragments:[],onClientMessageCallback:null,pendingApplicationCounts:new Map,pendingHostCounts:new Map,pendingInterAppApiCallMessageMap:new Map,subsriptionMap:new Map}}),So=(0,u.Z)((function e(){(0,c.Z)(this,e),this.terminalState=_o})),Ao=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"state",get:function(){return this.terminalState.terminalState}},{key:"init",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getTerminalState=this.selectorManager.createRootSelector(this.state),this.getApplicationActors=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.applicationActors})),this.getApplicationInitializer=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.applicationInitializer})),this.getApplicationActorMapByDomainAndApplication_Names=this.selectorManager.createSelector(this.getApplicationActors,(function(e){var t,n=new Map,r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Pe(n,i.application.domain.name),a=o.get(i.application.name);a||(a=[],o.set(i.application.name,a)),a.push(i)}}catch(s){r.e(s)}finally{r.f()}return n})),this.getDomains=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.domains})),this.getDomainMapByName=this.selectorManager.createSelector(this.getDomains,(function(e){var t,n=new Map,r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.set(i.name,i)}}catch(o){r.e(o)}finally{r.f()}return n})),this.getFrameworkActor=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.frameworkActor})),this.getInternalConnector=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.internalConnector})),this.getIsServer=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.isServer})),this.getLastIds=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.lastIds})),this.getLatestApplicationVersionMapByNames=this.selectorManager.createSelector(this.getDomains,(function(e){var t,n=new Map,r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=Pe(n,o.name),s=(0,f.Z)(o.applications);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.set(l.name,l.currentVersion[0].applicationVersion)}}catch(c){s.e(c)}finally{s.f()}}}catch(c){r.e(c)}finally{r.f()}return n})),this.getLatestApplicationVersionMapByFullApplication_Name=this.selectorManager.createSelector(this.getLatestApplicationVersionMapByNames,(function(e){var t,n=new Map,r=(0,f.Z)(e.values());try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=(0,f.Z)(o.values());try{for(a.s();!(i=a.n()).done;){var s=i.value;n.set(s.application.fullName,s)}}catch(l){a.e(l)}finally{a.f()}}}catch(l){r.e(l)}finally{r.f()}return n})),this.getAllApplicationVersionsByIds=this.selectorManager.createSelector(this.getDomains,(function(e){var t,n=[],r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=(0,f.Z)(o.applications);try{for(a.s();!(i=a.n()).done;){var s,l=i.value,c=(0,f.Z)(l.versions);try{for(c.s();!(s=c.n()).done;){var u=s.value;n[u._localId]=u}}catch(d){c.e(d)}finally{c.f()}}}catch(d){a.e(d)}finally{a.f()}}}catch(d){r.e(d)}finally{r.f()}return n})),this.getLatestApplicationVersionsByApplication_Indexes=this.selectorManager.createSelector(this.getDomains,(function(e){var t,n=[],r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,a=(0,f.Z)(o.applications);try{for(a.s();!(i=a.n()).done;){var s=i.value;n[s.index]=s.currentVersion[0].applicationVersion}}catch(l){a.e(l)}finally{a.f()}}}catch(l){r.e(l)}finally{r.f()}return n})),this.getApplicationMapByFullName=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.applicationMapByFullName})),this.getApplications=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.applications})),this.getAllEntities=this.selectorManager.createSelector(this.getLatestApplicationVersionsByApplication_Indexes,(function(e){var t,n=[],r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i){var o,a=(0,f.Z)(i.entities);try{for(a.s();!(o=a.n()).done;){var s=o.value;n[s._localId]=s}}catch(l){a.e(l)}finally{a.f()}}}}catch(l){r.e(l)}finally{r.f()}return n})),this.getAllColumns=this.selectorManager.createSelector(this.getAllEntities,(function(e){var t,n=[],r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i){var o,a=(0,f.Z)(i.columns);try{for(a.s();!(o=a.n()).done;){var s=o.value;n[s._localId]=s}}catch(l){a.e(l)}finally{a.f()}}}}catch(l){r.e(l)}finally{r.f()}return n})),this.getAllRelations=this.selectorManager.createSelector(this.getAllEntities,(function(e){var t,n=[],r=(0,f.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i){var o,a=(0,f.Z)(i.relations);try{for(a.s();!(o=a.n()).done;){var s=o.value;n[s._localId]=s}}catch(l){a.e(l)}finally{a.f()}}}}catch(l){r.e(l)}finally{r.f()}return n})),this.getReceiver=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.receiver})),this.getSequenceGenerator=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.sequenceGenerator})),this.getTerminal=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.terminal})),this.getTransactionManager=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.transactionManager})),this.getWebReceiver=this.selectorManager.createSelector(this.getTerminalState,(function(e){return e.webReceiver}));case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"tearDown",value:function(){}}]),e}(),No=new po({allSessions:[],sessionMapByEmail:new Map}),Zo=(0,u.Z)((function e(){(0,c.Z)(this,e),this.userState=No})),Co=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"state",get:function(){return this.userState.userState}},{key:"init",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getUserState=this.selectorManager.createRootSelector(this.state),this.getAllSessions=this.selectorManager.createSelector(this.getUserState,(function(e){return e.allSessions})),this.getSessionMapByEmail=this.selectorManager.createSelector(this.getUserState,(function(e){return e.sessionMapByEmail}));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oo=function(){function e(t){(0,c.Z)(this,e),this.application=t,this.initializing=!1}return(0,u.Z)(e,[{key:"load",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.initializing){e.next=2;break}return e.abrupt("return");case 2:return this.initializing=!0,n=this.terminalStore.getTerminalState(),this.terminalStore.state.next(r(r({},n),{},{lastIds:t})),e.next=7,this.applicationInitializer.initializeForAIRportApp(this.application);case 7:this.apiRegistry.initialize(this.application.versions[0].api);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getApplication",value:function(){return this.application}}]),e}(),Do=_("terminal-map");Do.register(So,Ao,Zo,Co);var Mo=Do.token("ApplicationInitializer"),Vo=Do.token("DomainRetriever"),Lo=Do.token("StoreDriver"),Po=Do.token("TerminalSessionManager"),Uo=Do.token("TransactionManager"),Fo=Do.token("TransactionalReceiver"),Bo=Do.token("TransactionalServer");Mo.setDependencies({airportDatabase:pi,sequenceGenerator:Ge,terminalStore:Ao}),Vo.setDependencies({transactionalConnector:ze}),Do.setDependencies(Ao,{selectorManager:go,terminalState:So}),Uo.setDependencies({storeDriver:Lo,terminalStore:Ao}),Fo.setDependencies({applicationInitializer:Mo,dbApplicationUtils:Ze}),Bo.setDependencies({terminalStore:Ao,transactionManager:Uo}),Do.setDependencies(Co,{selectorManager:go,userState:Zo}),xo.setClass(Oo),xo.setDependencies({applicationInitializer:Mo,terminalStore:Ao,apiRegistry:Io});var jo=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"populate",value:function(){}}]),e}(),Ho=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"link",value:function(e){var t=e.all,n=e.allApplicationVersionsByIds,r=e.added,i=r.latestApplicationVersions,o=r.properties,a=r.relations,s=r.applicationReferences,l=r.applications;this.linkDomainsAndApplicationsAndVersions(n,t.domains,l,i,s);var c=this.linkEntities(n,t.entities,r.entities),u=this.linkPropertiesAndRelations(o,a,c),d=u.propertyMapById,p=u.relationMapById;this.linkColumns(d,p,e,c)}},{key:"linkDomainsAndApplicationsAndVersions",value:function(e,t,n,r,i){var o=new Map;t.forEach((function(e){o.set(e._localId,e)}));var a=new Map;n.forEach((function(e){a.set(e.index,e);var t=o.get(e.domain._localId);e.domain=t,t.applications.push(e)})),r.forEach((function(e){var t=a.get(e.application.index),n={application:t,applicationVersion:e};t.currentVersion=[n],t.versions=[e],e.application=t,e.entities=[],e.references=[],e.referencedBy=[],e.entityMapByName={},e.referencesMapByName={},e.referencedByMapByName={}})),i.forEach((function(t){var n=e[t.ownApplicationVersion._localId],r=e[t.referencedApplicationVersion._localId];n.references[t.index]=t,n.referencesMapByName[r.application.fullName]=t,r.referencedBy.push(t),r.referencedByMapByName[n.application.fullName]=t,t.ownApplicationVersion=n,t.referencedApplicationVersion=r}))}},{key:"linkEntities",value:function(e,t,n){var r=[];return t.forEach((function(e){r[e._localId]=e})),n.forEach((function(t){var n=e[t.applicationVersion._localId];t.applicationVersion=n,n.entities[t.index]=t,n.entityMapByName[t.name]=t,r[t._localId]=t,t.columns=[],t.properties=[],t.relations=[],t.relationReferences=[],t.columnMap={},t.idColumns=[],t.idColumnMap={},t.propertyMap={}})),r}},{key:"linkPropertiesAndRelations",value:function(e,t,n){var r=this,i=new Map;e.forEach((function(e){var t=n[e.entity._localId];t.properties[e.index]=e,t.propertyMap[e.name]=e,e.entity=t,e.propertyColumns=[],i.set(e._localId,e)}));var o=new Map;return t.forEach((function(e){var t=n[e.entity._localId];t.relations[e.index]=e;var a=n[e.relationEntity._localId];a||(a=r.terminalStore.getAllEntities()[e.relationEntity._localId]),a.relationReferences.push(e);var s=i.get(e.property._localId);e.property=s,s.relation=[e],e.entity=t,e.relationEntity=a,e.manyRelationColumns=[],e.oneRelationColumns=[],o.set(e._localId,e)})),{propertyMapById:i,relationMapById:o}}},{key:"linkColumns",value:function(e,t,n,r){var i=this,o=new Map;n.all.columns.forEach((function(e){o.set(e._localId,e)})),n.added.columns.forEach((function(e){o.set(e._localId,e);var t=r[e.entity._localId];t.columns[e.index]=e,t.columnMap[e.name]=e,(e.idIndex||0===e.idIndex)&&(t.idColumns[e.idIndex]=e,t.idColumnMap[e.name]=e),e.entity=t})),n.added.propertyColumns.forEach((function(t){var n=o.get(t.column._localId);n.propertyColumns.push(t);var r=e.get(t.property._localId);r.propertyColumns.push(t),t.column=n,t.property=r})),n.added.relationColumns.forEach((function(e){var n=o.get(e.manyColumn._localId);n||(n=i.terminalStore.getAllColumns()[e.manyColumn._localId]),n.manyRelationColumns.push(e);var r,a,s=o.get(e.oneColumn._localId);s||(s=i.terminalStore.getAllColumns()[e.oneColumn._localId]),s.oneRelationColumns.push(e),e.manyRelation&&e.manyRelation._localId&&((r=t.get(e.manyRelation._localId))||(r=i.terminalStore.getAllRelations()[e.manyRelation._localId]),r.manyRelationColumns.push(e)),e.oneRelation&&e.oneRelation._localId&&((a=t.get(e.oneRelation._localId))||(a=i.terminalStore.getAllRelations()[e.oneRelation._localId]),a.oneRelationColumns.push(e)),e.manyColumn=n,e.manyRelation=r,e.oneColumn=s,e.oneRelation=a}))}}]),e}(),Go=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"retrieveDdlObjects",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,i,o,a,l,c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationDao.findAllActive();case 2:return t=e.sent,n=[],i=new Set,t.forEach((function(e){n.push(e.index),i.add(e.domain._localId)})),t.sort((function(e,t){return e.index-t.index})),e.next=9,this.domainDao.findByIdIn(Array.from(i));case 9:return o=e.sent,e.next=12,this.applicationVersionDao.findAllActiveOrderByApplication_IndexAndId();case 12:a=e.sent,c=[],u=[],d=(0,f.Z)(a);try{for(d.s();!(p=d.n()).done;)(h=p.value).application.index!==l&&c.push(h),l=h.application.index,u.push(h)}catch(s){d.e(s)}finally{d.f()}return m=c.map((function(e){return e._localId})),e.next=20,this.applicationReferenceDao.findAllForApplicationVersions(m);case 20:return v=e.sent,e.next=23,this.applicationEntityDao.findAllForApplicationVersions(m);case 23:return y=e.sent,g=y.map((function(e){return e._localId})),e.next=27,this.applicationPropertyDao.findAllForEntities(g);case 27:return b=e.sent,x=b.map((function(e){return e._localId})),e.next=31,this.applicationRelationDao.findAllForProperties(x);case 31:return w=e.sent,e.next=34,this.applicationColumnDao.findAllForEntities(g);case 34:return k=e.sent,E=k.map((function(e){return e._localId})),e.next=38,this.applicationPropertyColumnDao.findAllForColumns(E);case 38:return I=e.sent,e.next=41,this.applicationRelationColumnDao.findAllForColumns(E);case 41:return R=e.sent,T=this.terminalStore.getTerminalState(),_={columns:k.length,domains:o.length,entities:y.length,properties:b.length,relationColumns:R.length,relations:w.length,applications:t.length,applicationVersions:u.length},this.terminalStore.state.next(r(r({},T),{},{lastIds:_})),e.abrupt("return",{columns:k,domains:o,entities:y,latestApplicationVersions:c,properties:b,propertyColumns:I,relationColumns:R,relations:w,applicationReferences:v,applications:t,applicationVersions:u});case 46:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),zo=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"createAll",value:function(e){var t=this;this.qApplicationBuilderUtils.orderApplicationsInOrderOfPrecedence(e).map((function(e){return t.create(e)}))}},{key:"create",value:function(e){var t=this.airportDatabase.QM[e.fullName];return t?t.__dbApplication__=e:(t={__constructors__:{},__qConstructors__:{},__dbApplication__:e,name:e.name,domain:e.domain.name},this.airportDatabase.QM[e.fullName]=t),this.airportDatabase.Q[e.index]=t,this.qApplicationBuilderUtils.setQAppEntities(e,t,this.airportDatabase.qApplications,this.applicationUtils,this.relationManager),t}}]),e}(),$o=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"generateQObjectsAndPopulateStore",value:function(e){this.ddlObjectLinker.link(e),this.queryEntityClassCreator.createAll(e.all.applications);var t,n=this.terminalStore.getTerminalState(),i={},o=(0,f.Z)(n.domains);try{for(o.s();!(t=o.n()).done;){var a=t.value;i[a.name]=a}}catch(k){o.e(k)}finally{o.f()}var s,l=(0,f.Z)(e.added.domains);try{for(l.s();!(s=l.n()).done;){delete i[s.value.name]}}catch(k){l.e(k)}finally{l.f()}var c=[];for(var u in i)c.push(i[u]);var p,h={},m=(0,f.Z)(n.applications);try{for(m.s();!(p=m.n()).done;){var v=p.value;h[v.fullName]=v}}catch(k){m.e(k)}finally{m.f()}var y,g=(0,f.Z)(e.added.applications);try{for(g.s();!(y=g.n()).done;){var b=y.value;delete h[b.fullName],n.applicationMapByFullName.set(b.fullName,b)}}catch(k){g.e(k)}finally{g.f()}var x=[];for(var w in h)x.push(h[w]);this.terminalStore.state.next(r(r({},n),{},{domains:[].concat(c,(0,d.Z)(e.added.domains)),applicationMapByFullName:n.applicationMapByFullName,applications:[].concat(x,(0,d.Z)(e.added.applications))}))}},{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ddlObjectRetriever.retrieveDdlObjects();case 2:t=e.sent,n=[],r=(0,f.Z)(t.applicationVersions);try{for(r.s();!(i=r.n()).done;)o=i.value,n[o._localId]=o}catch(s){r.e(s)}finally{r.f()}return a={all:t,allApplicationVersionsByIds:n,added:t},this.generateQObjectsAndPopulateStore(a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),qo=_("takeoff");qo.register(jo,Ho,Go,zo,$o),qo.setDependencies(Ho,{terminalStore:Ao}),qo.setDependencies(Go,{applicationColumnDao:Qi,applicationDao:Ji,applicationEntityDao:Xi,applicationPropertyColumnDao:Ki,applicationPropertyDao:eo,applicationReferenceDao:to,applicationRelationColumnDao:no,applicationRelationDao:ro,applicationVersionDao:io,domainDao:Wi}),qo.setDependencies(zo,{airportDatabase:pi,applicationUtils:Jr,qApplicationBuilderUtils:ei,relationManager:oi}),qo.setDependencies($o,{ddlObjectLinker:Ho,ddlObjectRetriever:Go,queryEntityClassCreator:zo,terminalStore:Ao});var Yo,Wo=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"build",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,p,h,m,v=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createApplication(t,o);case 2:a=this.applicationLocator.getCurrentJsonApplicationVersion(t),l=(0,f.Z)(a.entities),e.prev=4,l.s();case 6:if((c=l.n()).done){e.next=12;break}return u=c.value,e.next=10,this.buildTable(t,u,n,o);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),l.e(e.t0);case 17:return e.prev=17,l.f(),e.finish(17);case 20:d=new Map,p=(0,f.Z)(a.entities),e.prev=22,p.s();case 24:if((h=p.n()).done){e.next=30;break}return m=h.value,e.next=28,this.buildForeignKeys(t,m,n,r,d,o);case 28:e.next=24;break;case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(22),p.e(e.t1);case 35:return e.prev=35,p.f(),e.finish(35);case 38:this.applicationReferenceChecker.checkFrameworkReferences(t,(function(e,t,i){return v.getRelationInfo(e,t,i,n,r,d)}));case 39:case"end":return e.stop()}}),e,this,[[4,14,17,20],[22,32,35,38]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"buildTable",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],a=n.columns.map((function(e){var r="".concat(e.name," ").concat(S.getColumnSuffix(t,n,e));return S.isPrimaryKeyColumn(n,e)&&o.push(e.name),r})),l=this.getCreateTableSuffix(t,n),c=this.storeDriver.getTableName(t,n,i),u="",o.length&&(u=this.getPrimaryKeyStatement(o)),d="CREATE TABLE ".concat(c," (\n\t\t").concat(a.join(",\n")).concat(u,"\n\t\t)").concat(l),e.next=9,this.storeDriver.query(de.DDL,d,[],i,!1);case 9:if(p=0,!n.tableConfig.columnIndexes){e.next=29;break}h=(0,f.Z)(n.tableConfig.columnIndexes),e.prev=12,h.s();case 14:if((m=h.n()).done){e.next=21;break}return v=m.value,y=this.getIndexSql("idx_"+c+"_"+ ++p,c,v.columnList,v.unique),e.next=19,this.storeDriver.query(de.DDL,y,[],i,!1);case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(12),h.e(e.t0);case 26:return e.prev=26,h.f(),e.finish(26);case 29:if(!n.tableConfig.propertyIndexes){e.next=82;break}g=(0,f.Z)(n.tableConfig.propertyIndexes),e.prev=31,g.s();case 33:if((b=g.n()).done){e.next=74;break}x=b.value,w=[],k=(0,f.Z)(n.columns),e.prev=37,k.s();case 39:if((E=k.n()).done){e.next=61;break}I=E.value,R=(0,f.Z)(I.propertyRefs),e.prev=42,R.s();case 44:if((T=R.n()).done){e.next=51;break}if(T.value.index!==x.propertyIndex){e.next=49;break}return w.push(I.name),e.abrupt("break",51);case 49:e.next=44;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(42),R.e(e.t1);case 56:return e.prev=56,R.f(),e.finish(56);case 59:e.next=39;break;case 61:e.next=66;break;case 63:e.prev=63,e.t2=e.catch(37),k.e(e.t2);case 66:return e.prev=66,k.f(),e.finish(66);case 69:return _=this.getIndexSql("idx_"+c+"_"+ ++p,c,w,x.unique),e.next=72,this.storeDriver.query(de.DDL,_,[],i,!1);case 72:e.next=33;break;case 74:e.next=79;break;case 76:e.prev=76,e.t3=e.catch(31),g.e(e.t3);case 79:return e.prev=79,g.f(),e.finish(79);case 82:case"end":return e.stop()}}),e,this,[[12,23,26,29],[31,76,79,82],[37,63,66,69],[42,53,56,59]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getRelationInfo",value:function(e,t,n,r,i,o){var a,s;if(n.relationTableApplication_Index||0===n.relationTableApplication_Index){var l=t.referencedApplications[n.relationTableApplication_Index],c=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(l.domain,l.name);if(!(a=o.get(c))){var u=r.get(c);if(!(a=u?u.versions[0].jsonApplication:i.get(c)))throw new Error("Could not find related application ".concat(c,"\n          in either existing applications or newly installing applications."));o.set(c,a)}s=a.versions[a.versions.length-1].entities[n.relationTableIndex]}else a=e,s=t.entities[n.relationTableIndex];return{relatedJsonApplication:a,relatedJsonEntity:s}}},{key:"getApplicationVersion",value:function(e){return e.versions[e.versions.length-1]}},{key:"buildForeignKeys",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a){var l,c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.relations&&n.relations.length){e.next=2;break}return e.abrupt("return");case 2:l=this.getApplicationVersion(t),c=this.storeDriver.getTableName(t,n,a),u=(0,f.Z)(n.relations),e.prev=5,u.s();case 7:if((d=u.n()).done){e.next=56;break}if((p=d.value).relationType===X.MANY_TO_ONE){e.next=11;break}return e.abrupt("continue",54);case 11:h=this.getRelationInfo(t,l,p,r,i,o),m=h.relatedJsonApplication,v=h.relatedJsonEntity,y=[],g=(0,f.Z)(n.columns),e.prev=14,g.s();case 16:if((b=g.n()).done){e.next=38;break}x=b.value,w=(0,f.Z)(x.propertyRefs),e.prev=19,w.s();case 21:if((k=w.n()).done){e.next=28;break}if(k.value.index!==p.propertyRef.index){e.next=26;break}return y.push(x.name),e.abrupt("break",28);case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(19),w.e(e.t0);case 33:return e.prev=33,w.f(),e.finish(33);case 36:e.next=16;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(14),g.e(e.t1);case 43:return e.prev=43,g.f(),e.finish(43);case 46:E=this.storeDriver.getTableName(m,v,a),I=[],R=(0,f.Z)(v.idColumnRefs);try{for(R.s();!(T=R.n()).done;)_=T.value,I.push(v.columns[_.index].name)}catch(s){R.e(s)}finally{R.f()}if(!(S=this.getForeignKeySql(c,"fk_"+c+"_foreignKeyNumber",y,E,I))){e.next=54;break}return e.next=54,this.storeDriver.query(de.DDL,S,[],a,!1);case 54:e.next=7;break;case 56:e.next=61;break;case 58:e.prev=58,e.t2=e.catch(5),u.e(e.t2);case 61:return e.prev=61,u.f(),e.finish(61);case 64:case"end":return e.stop()}}),e,this,[[5,58,61,64],[14,40,43,46],[19,30,33,36]])})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()},{key:"buildForeignKeysForTable",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isPrimaryKeyColumn",value:function(e,t){return t.propertyRefs.some((function(t){if(e.properties[t.index].isId)return!0}))}},{key:"getPrimaryKeyStatement",value:function(e){return",\n\t\t\tPRIMARY KEY (\n\t\t\t".concat(e.join(",\n"),"\n\t\t\t)")}}]),e}(),Qo=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"check",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("Json Application not provided");case 2:if(t.versions instanceof Array){e.next=4;break}throw new Error("application.versions is not an array");case 4:if(1===t.versions.length){e.next=6;break}throw new Error("Currently only 1 version of application is supported");case 6:return e.next=8,this.checkDomain(t);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkDomain",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkDependencies",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,r=new Map,i=(0,f.Z)(t);try{for(i.s();!(o=i.n()).done;){a=o.value,l=a.versions[a.versions.length-1],c=Pe(Pe(r,a.domain),a.name),u=(0,f.Z)(l.referencedApplications);try{for(u.s();!(d=u.n()).done;)p=d.value,Pe(n,p.domain).set(p.name,p),Pe(c,p.domain).set(p.name,p)}catch(s){u.e(s)}finally{u.f()}}}catch(s){i.e(s)}finally{i.f()}return this.pruneInGroupReferences(t,n,r),e.next=7,this.pruneReferencesToExistingApplications(t,n,r);case 7:h=[],m=[],v=[],y=(0,f.Z)(n.values());try{for(y.s();!(g=y.n()).done;){b=g.value,x=(0,f.Z)(b.values());try{for(x.s();!(w=x.n()).done;)k=w.value,v.push(k)}catch(s){x.e(s)}finally{x.f()}}}catch(s){y.e(s)}finally{y.f()}E=(0,f.Z)(t);try{for(E.s();!(I=E.n()).done;)R=I.value,T=r.get(R.domain).get(R.name),this.hasReferences(T)?m.push(R):h.push(R)}catch(s){E.e(s)}finally{E.f()}return e.abrupt("return",{applicationsWithValidDependencies:h,applicationsInNeedOfAdditionalDependencies:m,neededDependencies:v});case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pruneInGroupReferences",value:function(e,t,n){var r,i=(0,f.Z)(e);try{for(i.s();!(r=i.n()).done;){var o,a=r.value,s=(0,f.Z)(n);try{for(s.s();!(o=s.n()).done;){var l,c=(0,p.Z)(o.value,2),u=(c[0],c[1]),d=(0,f.Z)(u);try{for(d.s();!(l=d.n()).done;){var h=(0,p.Z)(l.value,2),m=(h[0],h[1].get(a.domain));m&&m.delete(a.name)}}catch(y){d.e(y)}finally{d.f()}}}catch(y){s.e(y)}finally{s.f()}var v=t.get(a.domain);v&&v.delete(a.name)}}catch(y){i.e(y)}finally{i.f()}}},{key:"pruneReferencesToExistingApplications",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,p,h,m,v,y,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findExistingApplications(n);case 2:i=e.sent,o=(0,f.Z)(i.existingApplicationMapByName.keys());try{for(o.s();!(a=o.n()).done;){l=a.value,c=i.coreDomainAndApplication_NamesByApplication_Name.get(l),u=(0,f.Z)(r.values());try{for(u.s();!(d=u.n()).done;){p=d.value,h=(0,f.Z)(p.values());try{for(h.s();!(m=h.n()).done;)v=m.value,(y=v.get(c.domain))&&y.delete(c.application)}catch(t){h.e(t)}finally{h.f()}}}catch(t){u.e(t)}finally{u.f()}(g=n.get(c.domain))&&g.delete(c.application)}}catch(t){o.e(t)}finally{o.f()}case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findExistingApplications",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,h,m,v,y,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=new Map,i=(0,f.Z)(t);try{for(i.s();!(o=i.n()).done;){a=(0,p.Z)(o.value,2),l=a[0],c=a[1],u=(0,f.Z)(c);try{for(u.s();!(d=u.n()).done;)h=(0,p.Z)(d.value,2),m=h[0],v=h[1],y=this.dbApplicationUtils.getFullApplication_Name(v),n.push(y),r.set(y,{domain:l,application:m})}catch(s){u.e(s)}finally{u.f()}}}catch(s){i.e(s)}finally{i.f()}if(n.length){e.next=8;break}g=new Map,e.next=11;break;case 8:return e.next=10,this.applicationDao.findMapByFullNames(n);case 10:g=e.sent;case 11:return e.abrupt("return",{coreDomainAndApplication_NamesByApplication_Name:r,existingApplicationMapByName:g});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hasReferences",value:function(e){var t,n=(0,f.Z)(e.values());try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=(0,f.Z)(i);try{for(o.s();!(r=o.n()).done;){r.value;return!0}}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}return!1}}]),e}(),Jo=function(){function e(){(0,c.Z)(this,e),this.applicationEntityDescriptors=[{application:"@airport/holding-pattern",entities:[{entity:"Actor",relations:[{column:"ACTOR_LID",property:"actor"},{column:"ACTOR_LID",property:"sourceActor"},{column:"GUID"}]},{entity:"Repository",relations:[{column:"REPOSITORY_LID",property:"repository"},{column:"REPOSITORY_LID",property:"sourceRepository"},{column:"GUID"}]}]},{application:"@airport/travel-document-checkpoint",entities:[{entity:"UserAccount",relations:[{column:"GUID"}]}]}]}return(0,u.Z)(e,[{key:"checkFrameworkReferences",value:function(e,t){if("airport"!==e.domain){var n,r=this.applicationLocator.getCurrentJsonApplicationVersion(e),i=(0,f.Z)(r.entities);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=(0,f.Z)(a.columns);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.manyRelationColumnRefs&&l.manyRelationColumnRefs.length){var c,u=this.getRelationsFromColumn(a,l),d=(0,f.Z)(u);try{for(d.s();!(c=d.n()).done;){var p=c.value,h=t(e,r,p),m=h.relatedJsonApplication,v=h.relatedJsonEntity;this.isRelationToAFrameworkEntity(m,v,e,a,a.properties[p.propertyRef.index],l)}}catch(y){d.e(y)}finally{d.f()}}}}catch(y){s.e(y)}finally{s.f()}}}catch(y){i.e(y)}finally{i.f()}}}},{key:"getRelationsFromColumn",value:function(e,t){var n,r=new Set,i=(0,f.Z)(t.propertyRefs);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=e.properties[o.index];if(a.relationRef){var s=e.relations[a.relationRef.index];r.has(s)||r.add(s)}}}catch(l){i.e(l)}finally{i.f()}return Array.from(r.values())}},{key:"isRelationToAFrameworkEntity",value:function(e,t,n,r,i,o){var a=e.domain;if("string"===typeof a&&"airport"!==a||"object"===typeof a&&"airport"!==a.name)return!1;var s,l=!1,c=(0,f.Z)(this.applicationEntityDescriptors);try{e:for(c.s();!(s=c.n()).done;){var u=s.value;if(e.name===u.application){var d,p=(0,f.Z)(u.entities);try{for(p.s();!(d=p.n()).done;){var h=d.value;if(t.name===h.entity){var m,v=(0,f.Z)(h.relations);try{for(v.s();!(m=v.n()).done;){var y=m.value;if(!y.property||i.name===y.property){var g=o.manyRelationColumnRefs[0];if(t.columns[g.oneColumnIndex].name===y.column){l=!0;break e}}}}catch(b){v.e(b)}finally{v.f()}}}}catch(b){p.e(b)}finally{p.f()}}}}catch(b){c.e(b)}finally{c.f()}if(!l)throw new Error("Found an invalid reference to an internal schema:\nReferencing:\n  Domain:   ".concat((e.domain,e.domain),"\n  App:      ").concat(e.name,"\n  Entity:   ").concat(t.name,"\n\nFrom:\n  Domain:   ").concat(n.domain,"\n  App:      ").concat(n.name,"\n  Entity:   ").concat(r.name,"\n  Property: ").concat(i.name,"\n          \n          "));return!0}}]),e}(),Xo=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"locateExistingApplicationVersionRecord",value:function(e,t){var n=t.getLatestApplicationVersionMapByNames().get(e.domain);if(!n)return null;var r=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(e.domain,e.name),i=n.get(r),o=e.versions[0];if(i&&i.integerVersion!==o.integerVersion)throw new Error("Multiple versions of applications are not yet supported");return i}},{key:"locateLatestApplicationVersionByApplication_Name",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.getLatestApplicationVersionMapByFullApplication_Name().get(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getCurrentJsonApplicationVersion",value:function(e){return e.versions[e.versions.length-1]}}]),e}(),Ko=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"compose",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i,o,a,l,c,u,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U,F,B,j,H,G,z,$,q,Y,W;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,o=n.terminalStore,a=o.getDomains().slice(),l=new Map,c=(0,f.Z)(a);try{for(c.s();!(u=c.n()).done;)p=u.value,l.set(p.name,p)}catch(s){c.e(s)}finally{c.f()}h=o.getApplications().slice(),m=new Map,v=(0,f.Z)(h);try{for(v.s();!(y=v.n()).done;)g=y.value,m.set(g.fullName,g)}catch(s){v.e(s)}finally{v.f()}b=[],x=new Map,w=new Map,k=new Map,E=new Map,I=new Map,R={columns:[],domains:[],entities:[],latestApplicationVersions:[],properties:[],propertyColumns:[],relationColumns:[],relations:[],applicationReferences:[],applications:[],applicationVersions:[]},T=(0,d.Z)(o.getAllApplicationVersionsByIds()),S={all:_={columns:[],domains:[],entities:[],latestApplicationVersions:[],properties:[],propertyColumns:[],relationColumns:[],relations:[],applicationReferences:[],applications:[],applicationVersions:[]},allApplicationVersionsByIds:T,added:R},A=(0,f.Z)(t),e.prev=21,A.s();case 23:if((N=A.n()).done){e.next=33;break}return Z=N.value,i.set(this.dbApplicationUtils.getFullApplication_Name(Z),Z),e.next=28,this.composeDomain(Z.domain,a,R.domains,l);case 28:C=e.sent,O=this.composeApplication(C,Z,h,R.applications,m),this.composeApplicationVersion(Z,O,b,R.applicationVersions,x);case 31:e.next=23;break;case 33:e.next=38;break;case 35:e.prev=35,e.t0=e.catch(21),A.e(e.t0);case 38:return e.prev=38,A.f(),e.finish(38);case 41:return e.next=43,this.composeApplicationReferences(i,x,o,S,n.deepTraverseReferences);case 43:D=e.sent,M=D.newApplicationReferenceMap,V=D.newApplicationReferences,R.applicationReferences=V,L=(0,f.Z)(T);try{for(L.s();!(P=L.n()).done;)(U=P.value)&&this.addApplicationVersionObjects(U,_)}catch(s){L.e(s)}finally{L.f()}F=(0,f.Z)(t),e.prev=50,F.s();case 52:if((B=F.n()).done){e.next=71;break}return j=B.value,H=this.dbApplicationUtils.getFullApplication_Name(j),i.set(H,j),G=l.get(j.domain),(z=m.get(this.dbApplicationUtils.getFullApplication_Name(j))).index||(j.lastIds=r({},this.terminalStore.getLastIds()),z.index=++this.terminalStore.getLastIds().applications),G._localId||(G._localId=++this.terminalStore.getLastIds().domains),($=x.get(z.fullName))._localId||($._localId=++this.terminalStore.getLastIds().applicationVersions,$.jsonApplication=j),this.composeApplicationEntities(j,$,w,R.entities),this.composeApplicationProperties(j,R.properties,k,w),e.next=66,this.composeApplicationRelations(j,R.relations,E,w,k,M,o,S);case 66:return this.composeApplicationColumns(j,R.columns,I,R.propertyColumns,w,k),e.next=69,this.composeApplicationRelationColumns(j,R.relationColumns,x,M,E,I,o,S);case 69:e.next=52;break;case 71:e.next=76;break;case 73:e.prev=73,e.t1=e.catch(50),F.e(e.t1);case 76:return e.prev=76,F.f(),e.finish(76);case 79:this.addObjects(S.added,S.all),q=(0,f.Z)(S.all.applicationVersions);try{for(q.s();!(Y=q.n()).done;)W=Y.value,S.allApplicationVersionsByIds[W._localId]=W}catch(s){q.e(s)}finally{q.f()}return e.abrupt("return",S);case 83:case"end":return e.stop()}}),e,this,[[21,35,38,41],[50,73,76,79]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getExistingLatestApplicationVersion",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,f.Z)(n.all.latestApplicationVersions),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}if((o=i.value).application.fullName!=t){e.next=7;break}return e.abrupt("return",o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:throw new Error('Cannot find application "'.concat(t,'".'));case 18:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addApplicationVersionObjects",value:function(e,t){var n,r=!1,i=(0,f.Z)(t.domains);try{for(i.s();!(n=i.n()).done;){if(n.value.name===e.application.domain.name){r=!0;break}}}catch(w){i.e(w)}finally{i.f()}r||t.domains.push(e.application.domain);var o,a=!1,s=(0,f.Z)(t.applications);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(l.domain===e.application.domain&&l.name===e.application.name){a=!0;break}}}catch(w){s.e(w)}finally{s.f()}a||t.applications.push(e.application),t.applicationVersions.push(e),t.latestApplicationVersions.push(e),t.applicationReferences=t.applicationReferences.concat(e.references),t.entities=t.entities.concat(e.entities);var c,u=(0,f.Z)(e.entities);try{for(u.s();!(c=u.n()).done;){var d=c.value;t.columns=t.columns.concat(d.columns),t.properties=t.properties.concat(d.properties);var p,h=[],m=(0,f.Z)(d.properties);try{for(m.s();!(p=m.n()).done;){var v=p.value;h=h.concat(v.propertyColumns)}}catch(w){m.e(w)}finally{m.f()}t.propertyColumns=t.propertyColumns.concat(h),t.relations=t.relations.concat(d.relations);var y,g=[],b=(0,f.Z)(d.relations);try{for(b.s();!(y=b.n()).done;){var x=y.value;g=g.concat(x.manyRelationColumns)}}catch(w){b.e(w)}finally{b.f()}t.relationColumns=t.relationColumns.concat(g)}}catch(w){u.e(w)}finally{u.f()}}},{key:"addObjects",value:function(e,t){t.columns=t.columns.concat(e.columns);var n,r=(0,f.Z)(e.domains);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=!1,s=(0,f.Z)(t.domains);try{for(s.s();!(i=s.n()).done;){if(i.value.name===o.name){a=!0;break}}}catch(v){s.e(v)}finally{s.f()}a||t.domains.push(o)}}catch(v){r.e(v)}finally{r.f()}t.entities=t.entities.concat(e.entities),t.latestApplicationVersions=t.latestApplicationVersions.concat(e.latestApplicationVersions),t.properties=t.properties.concat(e.properties),t.propertyColumns=t.propertyColumns.concat(e.propertyColumns),t.relationColumns=t.relationColumns.concat(e.relationColumns),t.relations=t.relations.concat(e.relations);var l,c=(0,f.Z)(e.applications);try{for(c.s();!(l=c.n()).done;){var u,d=l.value,p=!1,h=(0,f.Z)(t.applications);try{for(h.s();!(u=h.n()).done;){var m=u.value;if(m.domain===d.domain&&m.name===d.name){p=!0;break}}}catch(v){h.e(v)}finally{h.f()}p||t.applications.push(d)}}catch(v){c.e(v)}finally{c.f()}t.applicationReferences=t.applicationReferences.concat(e.applicationReferences),t.applicationVersions=t.applicationVersions.concat(e.applicationVersions)}},{key:"composeDomain",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.domainRetriever.retrieveDomain(t,i,n,r);case 2:return(o=e.sent)||(o={_localId:null,name:t,applications:[]},n.push(o),r.push(o),i.set(t,o)),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"composeApplication",value:function(e,t,n,r,i){var o=this.dbApplicationUtils.getFullApplication_Name(t),a=i.get(o);return a||(a={domain:e,index:null,fullName:o,name:t.name,scope:"public",signature:"localhost",status:we.CURRENT},n.push(a),r.push(a),i.set(o,a)),a}},{key:"composeApplicationVersion",value:function(e,t,n,r,i){var o,a,s=(0,f.Z)(e.versions);try{for(s.s();!(a=s.n()).done;){var l=a.value,c=l.versionString.split(".");o={_localId:null,integerVersion:l.integerVersion,versionString:l.versionString,majorVersion:parseInt(c[0]),minorVersion:parseInt(c[1]),patchVersion:parseInt(c[2]),application:t,jsonApplication:e,entities:[],references:[],referencedBy:[],entityMapByName:{},referencesMapByName:{},referencedByMapByName:{}},t.versions?t.versions.push(o):t.versions=[o],r.push(o)}}catch(d){s.e(d)}finally{s.f()}var u={application:t,applicationVersion:o};return t.currentVersion=[u],n.push(o),i.set(t.fullName,o),o}},{key:"composeApplicationReferences",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Map,l=new Map,c=[],u=(0,f.Z)(n),e.prev=4,u.s();case 6:if((d=u.n()).done){e.next=42;break}h=(0,p.Z)(d.value,2),m=h[0],v=h[1],y=v.application,g=t.get(y.fullName),b=g.versions[g.versions.length-1],x=Ve(a,m),w=Ue(l,m),k=(0,f.Z)(b.referencedApplications),e.prev=14,k.s();case 16:if((E=k.n()).done){e.next=32;break}if(I=E.value,R=this.dbApplicationUtils.getFullApplication_Name(I),T=n.get(R)){e.next=28;break}return e.next=23,this.applicationLocator.locateLatestApplicationVersionByApplication_Name(R,r);case 23:if(T=e.sent){e.next=26;break}throw new Error("Could not locate application:\n\t\t\t\t\t\t".concat(R,"\n\t\t\t\t\t\tin either existing applications or applications being currently processed"));case 26:this.addApplicationVersionObjects(T,i.all),o&&(t.set(R,T.jsonApplication),n.set(R,T));case 28:_={index:I.index,ownApplicationVersion:v,referencedApplicationVersion:T},w.has(I.index)||(w.add(I.index),c.push(_),x.push(_));case 30:e.next=16;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(14),k.e(e.t0);case 37:return e.prev=37,k.f(),e.finish(37);case 40:e.next=6;break;case 42:e.next=47;break;case 44:e.prev=44,e.t1=e.catch(4),u.e(e.t1);case 47:return e.prev=47,u.f(),e.finish(47);case 50:return e.abrupt("return",{newApplicationReferenceMap:a,newApplicationReferences:c});case 51:case"end":return e.stop()}}),e,this,[[4,44,47,50],[14,34,37,40]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"composeApplicationEntities",value:function(e,t,n,r){var i,o=this.dbApplicationUtils.getFullApplication_Name(e),a=0,s=e.versions[e.versions.length-1].entities,l=[],c=(0,f.Z)(s);try{for(c.s();!(i=c.n()).done;){var u=i.value,d={_localId:++this.terminalStore.getLastIds().entities,index:a++,applicationVersion:t,isLocal:u.isLocal,isAirEntity:u.isAirEntity,name:u.name,tableConfig:u.tableConfig};l.push(d),r.push(d)}}catch(p){c.e(p)}finally{c.f()}n.set(o,l),t.entities=l}},{key:"composeApplicationProperties",value:function(e,t,n,r){var i=this,o=this.dbApplicationUtils.getFullApplication_Name(e),a=e.versions[e.versions.length-1].entities,s=r.get(o),l=Ve(n,o);a.forEach((function(e,n){var r=s[n],o=[];l[n]=o;var a,c=0,u=(0,f.Z)(e.properties);try{for(u.s();!(a=u.n()).done;){var d=a.value,p={_localId:++i.terminalStore.getLastIds().properties,index:c,entity:r,name:d.name,isId:d.isId};o[c]=p,c++,t.push(p)}}catch(h){u.e(h)}finally{u.f()}}))}},{key:"composeApplicationRelations",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l,c){var u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=this.dbApplicationUtils.getFullApplication_Name(t),d=t.versions[t.versions.length-1],p=d.entities,h=i.get(u),m=o.get(u),v=Ve(r,u),y=a.get(u),g=0;case 8:if(!(g<p.length)){e.next=47;break}b=p[g],x=m[g],w=[],v[g]=w,k=h[g],E=0,I=(0,f.Z)(b.relations),e.prev=16,I.s();case 18:if((R=I.n()).done){e.next=36;break}if(T=R.value,_=x[T.propertyRef.index],S=u,(T.relationTableApplication_Index||0===T.relationTableApplication_Index)&&(A=y[T.relationTableApplication_Index],S=A.referencedApplicationVersion.application.fullName),N=i.get(S)){e.next=29;break}return e.next=27,this.getExistingLatestApplicationVersion(S,c);case 27:Z=e.sent,N=Z.entities;case 29:C=N[T.relationTableIndex],O={entity:k,_localId:++l.getLastIds().relations,index:E,foreignKey:T.foreignKey,isId:_.isId,manyToOneElems:T.manyToOneElems,property:_,oneToManyElems:T.oneToManyElems,relationEntity:C,relationType:T.relationType},w[E]=O,E++,n.push(O);case 34:e.next=18;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(16),I.e(e.t0);case 41:return e.prev=41,I.f(),e.finish(41);case 44:g++,e.next=8;break;case 47:case"end":return e.stop()}}),e,this,[[16,38,41,44]])})));return function(t,n,r,i,o,a,s,l){return e.apply(this,arguments)}}()},{key:"composeApplicationColumns",value:function(e,t,n,r,i,o){var a=this,s=this.dbApplicationUtils.getFullApplication_Name(e),l=[];n.set(s,l);var c=i.get(s),u=e.versions[e.versions.length-1].entities,d=o.get(s);u.forEach((function(e,n){var i=c[n],o=[];l[n]=o;var s=[];e.idColumnRefs.forEach((function(e,t){s[e.index]=t}));var u=d[n];e.columns.forEach((function(e,n){var l=s[n],c={allocationSize:e.allocationSize,entity:i,_localId:++a.terminalStore.getLastIds().columns,idIndex:l,index:n,isGenerated:e.isGenerated,manyRelationColumns:[],name:e.name,notNull:e.notNull,oneRelationColumns:[],precision:e.precision,propertyColumns:[],scale:e.scale,type:e.type};o[n]=c,t.push(c),e.propertyRefs.forEach((function(e){var t=u[e.index],n={column:c,property:t};r.push(n)}))}))}))}},{key:"composeApplicationRelationColumns",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l,c){var u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=this.dbApplicationUtils.getFullApplication_Name(t),d=t.versions[t.versions.length-1],p=d.entities,h=a.get(u),m=o.get(u),v=i.get(u),y=0;case 7:if(!(y<p.length)){e.next=60;break}g=p[y],b=h[y],x=m[y],w=0;case 12:if(!(w<g.columns.length)){e.next=57;break}k=g.columns[w],E=b[w],I=(0,f.Z)(k.manyRelationColumnRefs),e.prev=16,I.s();case 18:if((R=I.n()).done){e.next=45;break}if(T=R.value,_=x[T.manyRelationIndex],S=void 0,T.oneApplication_Index||0===T.oneApplication_Index?(A=v[T.oneApplication_Index],S=A.referencedApplicationVersion):S=r.get(u),N=S.application.fullName,Z=a.get(N),C=void 0,O=void 0,!Z){e.next=32;break}C=Z[T.oneTableIndex],O=o.get(S.application.fullName)[T.oneTableIndex],e.next=39;break;case 32:return e.next=34,this.getExistingLatestApplicationVersion(N,c);case 34:D=e.sent,M=D.entities,V=M[T.oneTableIndex],C=V.columns,O=V.relations;case 39:L=C[T.oneColumnIndex],P=O[T.oneRelationIndex],U={_localId:++l.getLastIds().relationColumns,manyColumn:E,manyRelation:_,oneColumn:L,oneRelation:P,parentRelation:_},n.push(U);case 43:e.next=18;break;case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(16),I.e(e.t0);case 50:return e.prev=50,I.f(),e.finish(50);case 53:E.manyRelationColumns=[];case 54:w++,e.next=12;break;case 57:y++,e.next=7;break;case 60:case"end":return e.stop()}}),e,this,[[16,47,50,53]])})));return function(t,n,r,i,o,a,s,l){return e.apply(this,arguments)}}()}]),e}(),ea=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"record",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionManager.transactInternal((0,l.Z)((0,s.Z)().mark((function e(){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.setDefaultVersioning(t),e.next=3,r.getdomainDaoAsync();case 3:return i=e.sent,e.next=6,i.checkAndInsertIfNeeded(t.domains,n);case 6:return e.next=8,r.applicationDao.insert(t.applications,n);case 8:return e.next=10,r.applicationVersionDao.insert(t.applicationVersions,n);case 10:return e.next=12,r.applicationReferenceDao.insert(t.applicationReferences,n);case 12:return e.next=14,r.applicationEntityDao.insert(t.entities,n);case 14:return e.next=16,r.applicationPropertyDao.insert(t.properties,n);case 16:return e.next=18,r.applicationRelationDao.insert(t.relations,n);case 18:return e.next=20,r.applicationColumnDao.insert(t.columns,n);case 20:return e.next=22,r.applicationPropertyColumnDao.insert(t.propertyColumns,n);case 22:return e.next=24,r.applicationRelationColumnDao.insert(t.relationColumns,n);case 24:case"end":return e.stop()}}),e)}))),null,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setDefaultVersioning",value:function(e){var t,n=(0,f.Z)(e.applicationReferences);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.deprecatedSinceVersion=null,r.removedInVersion=null,r.sinceVersion=r.ownApplicationVersion}}catch(E){n.e(E)}finally{n.f()}var i,o=(0,f.Z)(e.entities);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.deprecatedSinceVersion=null,a.removedInVersion=null,a.sinceVersion=a.applicationVersion}}catch(E){o.e(E)}finally{o.f()}var s,l=(0,f.Z)(e.properties);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.deprecatedSinceVersion=null,c.removedInVersion=null,c.sinceVersion=c.entity.applicationVersion}}catch(E){l.e(E)}finally{l.f()}var u,d=(0,f.Z)(e.relations);try{for(d.s();!(u=d.n()).done;){var p=u.value;p.deprecatedSinceVersion=null,p.removedInVersion=null,p.sinceVersion=p.entity.applicationVersion}}catch(E){d.e(E)}finally{d.f()}var h,m=(0,f.Z)(e.columns);try{for(m.s();!(h=m.n()).done;){var v=h.value;v.deprecatedSinceVersion=null,v.removedInVersion=null,v.sinceVersion=v.entity.applicationVersion}}catch(E){m.e(E)}finally{m.f()}var y,g=(0,f.Z)(e.propertyColumns);try{for(g.s();!(y=g.n()).done;){var b=y.value;b.deprecatedSinceVersion=null,b.removedInVersion=null,b.sinceVersion=b.property.entity.applicationVersion}}catch(E){g.e(E)}finally{g.f()}var x,w=(0,f.Z)(e.relationColumns);try{for(w.s();!(x=w.n()).done;){var k=x.value;k.deprecatedSinceVersion=null,k.removedInVersion=null,k.sinceVersion=k.parentRelation.entity.applicationVersion}}catch(E){w.e(E)}finally{w.f()}}},{key:"bulkCreate",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.save(n,r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),ta=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"addNewApplicationVersionsToAll",value:function(e){var t,n=(0,f.Z)(e.added.applicationVersions);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.allApplicationVersionsByIds[r._localId]=r}}catch(i){n.e(i)}finally{n.f()}}},{key:"hydrate",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stage(t,n);case 2:return e.next=4,this.queryObjectInitializer.initialize();case 4:return r=e.sent,this.addNewApplicationVersionsToAll(r),this.setAirDbApplications(r),e.next=9,this.sequenceGenerator.initialize(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApplicationsWithValidDependencies(t,r);case 2:if(a=e.sent,c=new Map,!i){e.next=10;break}return e.next=7,this.applicationDao.findAllWithJson();case 7:u=e.sent,d=(0,f.Z)(u);try{for(d.s();!(p=d.n()).done;)h=p.value,c.set(h.fullName,h)}catch(T){d.e(T)}finally{d.f()}case 10:m=new Map,v=(0,f.Z)(t);try{for(v.s();!(y=v.n()).done;)g=y.value,(b=c.get(this.dbApplicationUtils.getFullApplication_Name(g)))?g.lastIds=b.versions[0].jsonApplication.lastIds:m.set(this.dbApplicationUtils.getFullApplication_Name(g),g)}catch(T){v.e(T)}finally{v.f()}x=[],w=(0,f.Z)(a),e.prev=15,w.s();case 17:if((k=w.n()).done){e.next=26;break}if(E=k.value,c.get(this.dbApplicationUtils.getFullApplication_Name(E))){e.next=24;break}return x.push(E),e.next=24,this.applicationBuilder.build(E,c,m,o,n);case 24:e.next=17;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(15),w.e(e.t0);case 31:return e.prev=31,w.f(),e.finish(31);case 34:return e.next=36,this.applicationComposer.compose(x,{terminalStore:this.terminalStore});case 36:return I=e.sent,this.addNewApplicationVersionsToAll(I),this.queryObjectInitializer.generateQObjectsAndPopulateStore(I),this.setAirDbApplications(I),e.next=42,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.applicationBuilder.buildAllSequences(a,n);case 2:return r=e.sent,e.next=5,R.sequenceGenerator.initialize(n,r);case 5:return e.next=7,R.applicationRecorder.record(I.added,n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),null,n);case 42:case"end":return e.stop()}}),e,this,[[15,28,31,34]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"initializeForAIRportApp",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getApplicationsWithValidDependencies([t],!1);case 2:return n=e.sent,e.next=5,this.applicationComposer.compose(n,{deepTraverseReferences:!0,terminalStore:this.terminalStore});case 5:r=e.sent,this.addNewApplicationVersionsToAll(r),this.queryObjectInitializer.generateQObjectsAndPopulateStore(r),this.setAirDbApplications(r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationComposer.compose(t,{terminalStore:this.terminalStore});case 2:return r=e.sent,this.addNewApplicationVersionsToAll(r),this.queryObjectInitializer.generateQObjectsAndPopulateStore(r),this.setAirDbApplications(r),e.next=8,this.applicationBuilder.stageSequences(t,n);case 8:return i=e.sent,e.next=11,this.sequenceGenerator.tempInitialize(n,i);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"wait",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getApplicationsWithValidDependencies",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=(0,f.Z)(t),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=14;break}return a=o.value,e.next=8,this.applicationChecker.check(a);case 8:if(!this.applicationLocator.locateExistingApplicationVersionRecord(a,this.terminalStore)){e.next=11;break}return e.abrupt("continue",12);case 11:r.push(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:if(!n){e.next=39;break}return e.next=25,this.applicationChecker.checkDependencies(r);case 25:if(!(c=e.sent).applicationsInNeedOfAdditionalDependencies.length){e.next=36;break}u=0;case 28:if(!(u<c.neededDependencies.length)){e.next=36;break}return p=c.neededDependencies[u],h=this.dbApplicationUtils.getFullApplication_Name(p),e.next=33,this.nativeInitializeApplication(p.domain,p.name,h);case 33:u++,e.next=28;break;case 36:l=[].concat((0,d.Z)(c.applicationsWithValidDependencies),(0,d.Z)(c.applicationsInNeedOfAdditionalDependencies)),e.next=40;break;case 39:l=r;case 40:return e.abrupt("return",l);case 41:case"end":return e.stop()}}),e,this,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setAirDbApplications",value:function(e){var t,n=(0,f.Z)(e.all.applications);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.airportDatabase.applications[r.index]=r}}catch(i){n.e(i)}finally{n.f()}}}]),e}(),na=_("landing"),ra=na.register("ApplicationBuilder",ta,Qo,Ko,Xo,ea,Jo,Wo),ia=ra.ApplicationBuilder;ra.ApplicationLocator;na.setDependencies(ta,{airportDatabase:pi,applicationBuilder:ia,applicationChecker:Qo,applicationComposer:Ko,applicationDao:Ji,applicationLocator:Xo,applicationRecorder:ea,dbApplicationUtils:Ze,queryObjectInitializer:$o,sequenceGenerator:Ge,terminalStore:Ao,transactionManager:Uo}),ia.setDependencies({airportDatabase:pi}),na.setDependencies(Qo,{applicationDao:Ji,dbApplicationUtils:Ze}),na.setDependencies(Ko,{applicationLocator:Xo,dbApplicationUtils:Ze,domainRetriever:Vo,terminalStore:Ao}),na.setDependencies(Xo,{dbApplicationUtils:Ze}),na.setDependencies(ea,{applicationColumnDao:Qi,applicationDao:Ji,applicationEntityDao:Xi,applicationPropertyColumnDao:Ki,applicationPropertyDao:eo,applicationRecorder:ea,applicationReferenceDao:to,applicationRelationColumnDao:no,applicationRelationDao:ro,applicationVersionDao:io,domainDao:Wi,transactionManager:Uo}),na.setDependencies(Jo,{applicationLocator:Xo}),na.setDependencies(Wo,{airportDatabase:pi,applicationLocator:Xo,applicationReferenceChecker:Jo,dbApplicationUtils:Ze,sequenceDao:wi,storeDriver:Lo});var oa=new Uint8Array(16);function aa(){if(!Yo&&!(Yo="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yo(oa)}var sa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var la=function(e){return"string"===typeof e&&sa.test(e)},ca=[],ua=0;ua<256;++ua)ca.push((ua+256).toString(16).substr(1));var da=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ca[e[t+0]]+ca[e[t+1]]+ca[e[t+2]]+ca[e[t+3]]+"-"+ca[e[t+4]]+ca[e[t+5]]+"-"+ca[e[t+6]]+ca[e[t+7]]+"-"+ca[e[t+8]]+ca[e[t+9]]+"-"+ca[e[t+10]]+ca[e[t+11]]+ca[e[t+12]]+ca[e[t+13]]+ca[e[t+14]]+ca[e[t+15]]).toLowerCase();if(!la(n))throw TypeError("Stringified UUID is invalid");return n};var pa,fa=function(e,t,n){var r=(e=e||{}).random||(e.rng||aa)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return da(r)};!function(e){e.GO_ONLINE="GO_ONLINE",e.REMOTE="REMOTE",e.LOCAL="LOCAL"}(pa||(pa={}));var ha,ma=(0,u.Z)((function e(){(0,c.Z)(this,e),this.recordHistory=[]})),va=(0,u.Z)((function e(){(0,c.Z)(this,e),this.newValues=[],this.oldValues=[]})),ya=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ga=(0,u.Z)((function e(){(0,c.Z)(this,e)}));!function(e){e.LOCAL="LOCAL",e.REMOTE="REMOTE",e.REMOTE_REFERENCE="REMOTE_REFERENCE"}(ha||(ha={}));var ba=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.repositoryTransactionType=ha.LOCAL,this.operationHistory=[],t&&(this._localId=t._localId,this.transactionHistory=t.transactionHistory,this.repository=t.repository,this.saveTimestamp=t.saveTimestamp,this.operationHistory=t.operationHistory)})),xa=(0,u.Z)((function e(){(0,c.Z)(this,e),this.repositoryTransactionHistories=[],this.repositoryTransactionHistoryMap={},this.applicationMap=new globalThis.SyncApplicationMap,this.allOperationHistory=[],this.allRecordHistory=[],this.allRecordHistoryNewValues=[],this.allRecordHistoryOldValues=[]})),wa=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ka=(0,u.Z)((function e(){(0,c.Z)(this,e),this._localId=null,this.repositoryNestings=[],this.repositoryTransactionHistory=[],this.repositoryApplications=[],this.repositoryClients=[],this.repositoryDatabases=[],this.repositoryTerminals=[],this.repositoryTypes=[]})),Ea=(0,u.Z)((function e(){(0,c.Z)(this,e)})),Ia=(0,u.Z)((function e(){(0,c.Z)(this,e)})),Ra=(0,u.Z)((function e(){(0,c.Z)(this,e)})),Ta=(0,u.Z)((function e(){(0,c.Z)(this,e)})),_a={__constructors__:{Actor:wa,OperationHistory:ma,RecordHistory:va,RecordHistoryNewValue:ya,RecordHistoryOldValue:ga,Repository:ka,RepositoryApplication:Ea,RepositoryClient:Ia,RepositoryDatabase:Ra,RepositoryNesting:Ta,RepositoryTerminal:(0,u.Z)((function e(){(0,c.Z)(this,e)})),RepositoryTransactionHistory:ba,RepositoryType:(0,u.Z)((function e(){(0,c.Z)(this,e)})),TransactionHistory:xa},domain:"airport",name:"@airport/holding-pattern"};function Sa(e){return globalThis.airApi.dS(_a.__dbApplication__,e)}globalThis.airApi&&globalThis.airApi.setQApp(_a);var Aa=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,_a)}return(0,u.Z)(n)}(Hr),Na=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,0)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(0)}}]),n}(Aa);Na.Find=new Gr,Na.FindOne=new Gr,Na.Search=new Gr,Na.SearchOne=new Gr;var Za=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,13)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(13)}}]),n}(Aa);Za.Find=new Gr,Za.FindOne=new Gr,Za.Search=new Gr,Za.SearchOne=new Gr;var Ca=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,3)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(3)}}]),n}(Aa);Ca.Find=new Gr,Ca.FindOne=new Gr,Ca.Search=new Gr,Ca.SearchOne=new Gr;var Oa=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,1)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(1)}}]),n}(Aa);Oa.Find=new Gr,Oa.FindOne=new Gr,Oa.Search=new Gr,Oa.SearchOne=new Gr;var Da=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,2)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(2)}}]),n}(Aa);Da.Find=new Gr,Da.FindOne=new Gr,Da.Search=new Gr,Da.SearchOne=new Gr;var Ma=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,10)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(10)}}]),n}(Aa);Ma.Find=new Gr,Ma.FindOne=new Gr,Ma.Search=new Gr,Ma.SearchOne=new Gr;var Va=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,8)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(8)}}]),n}(Aa);Va.Find=new Gr,Va.FindOne=new Gr,Va.Search=new Gr,Va.SearchOne=new Gr;var La=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,6)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(6)}}]),n}(Aa);La.Find=new Gr,La.FindOne=new Gr,La.Search=new Gr,La.SearchOne=new Gr;var Pa=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,5)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(5)}}]),n}(Aa);Pa.Find=new Gr,Pa.FindOne=new Gr,Pa.Search=new Gr,Pa.SearchOne=new Gr;var Ua=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,9)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(9)}}]),n}(Aa);Ua.Find=new Gr,Ua.FindOne=new Gr,Ua.Search=new Gr,Ua.SearchOne=new Gr;var Fa=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,7)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(7)}}]),n}(Aa);Fa.Find=new Gr,Fa.FindOne=new Gr,Fa.Search=new Gr,Fa.SearchOne=new Gr;var Ba=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,12)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(12)}}]),n}(Aa);Ba.Find=new Gr,Ba.FindOne=new Gr,Ba.Search=new Gr,Ba.SearchOne=new Gr;var ja=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,4)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(4)}}]),n}(Aa);ja.Find=new Gr,ja.FindOne=new Gr,ja.Search=new Gr,ja.SearchOne=new Gr;var Ha=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,11)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Sa(11)}}]),n}(Aa);Ha.Find=new Gr,Ha.FindOne=new Gr,Ha.Search=new Gr,Ha.SearchOne=new Gr;var Ga=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findByRecordHistory_LocalIdIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=_a.RecordHistoryNewValue],WHERE:n.recordHistory._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Oa),za=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findByRecordHistory_LocalIdIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=_a.RecordHistoryOldValue],WHERE:n.recordHistory._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Da),$a=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findWhereGUIDsIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{GUID:qe},FROM:[n=_a.RepositoryTransactionHistory],WHERE:n.GUID.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllLocalChangesForRecordIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,o=(i=_a.RepositoryTransactionHistory).transactionHistory.INNER_JOIN(),a=i.operationHistory.LEFT_JOIN(),l=a.entity.LEFT_JOIN(),c=l.applicationVersion.LEFT_JOIN(),u=a.recordHistory.LEFT_JOIN(),d=u.newValues.LEFT_JOIN(),h=qe,m=[],v=(0,f.Z)(t);try{for(v.s();!(y=v.n()).done;){g=(0,p.Z)(y.value,2),b=g[0],x=g[1],w=x.actorRecordIdsByLocalIds,k=[],E=(0,f.Z)(w);try{for(E.s();!(I=E.n()).done;){R=(0,p.Z)(I.value,2),T=R[0],_=R[1],S=[],A=(0,f.Z)(_);try{for(A.s();!(N=A.n()).done;)Z=(0,p.Z)(N.value,2),C=Z[0],O=Z[1],S.push(lt(a.actor._localId.equals(C),u._actorRecordId.IN(Array.from(O))))}catch(s){A.e(s)}finally{A.f()}k.push(lt(a.entity._localId.equals(T),ct.apply(void 0,S)))}}catch(s){E.e(s)}finally{E.f()}m.push(lt(i.repository._localId.equals(b),i.saveTimestamp.greaterThanOrEquals(x.firstChangeTime),ct.apply(void 0,k)))}}catch(s){v.e(s)}finally{v.f()}return e.next=14,this.db.find.tree({SELECT:r(r({},Ye),{},{operationHistory:{orderNumber:qe,changeType:qe,entity:{_localId:h,applicationVersion:{_localId:qe}},recordHistory:{_localId:h,newValues:{columnIndex:qe,newValue:qe}}}}),FROM:[i,o,a,l,c,u,d],WHERE:lt(o.transactionType.equals(le.LOCAL),ct.apply(void 0,m))});case 14:D=e.sent,M=(0,f.Z)(D);try{for(M.s();!(V=M.n()).done;)L=V.value,Ve(n,L.repository._localId).push(L),L.operationHistory.sort((function(e,t){return e.orderNumber<t.orderNumber?-1:e.orderNumber>t.orderNumber?1:0}))}catch(s){M.e(s)}finally{M.f()}return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSyncTimestamp",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.updateWhere({UPDATE:n=_a.RepositoryTransactionHistory,SET:{syncTimestamp:t.syncTimestamp},WHERE:n._localId.equals(t._localId)});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ba),qa=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findWithDetailsAndGlobalIdsByIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findWithDetailsAndGlobalIdsByWhereClause((function(e){return e._localId.IN(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findMapsWithDetailsByGlobalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findWithDetailsByGlobalIds(t,n,r);case 2:a=e.sent,l=(0,f.Z)(a);try{for(l.s();!(c=l.n()).done;)u=c.value,Pe(i,u.userAccount.GUID).set(u.terminal.GUID,u),o.set(u._localId,u)}catch(s){l.e(s)}finally{l.f()}case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"findWithDetailsByGlobalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findWithDetailsAndGlobalIdsByWhereClause((function(e){return lt(e.GUID.IN(t),e.terminal.GUID.IN(r),e.userAccount.GUID.IN(n))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findOneByDomainAndApplication_Names_UserAccountGUID_TerminalGUID",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.tree({SELECT:{_localId:qe,application:{domain:{name:qe},fullName:qe,index:qe,name:qe},terminal:{},userAccount:{},GUID:qe},FROM:[o=_a.Actor,a=o.application.LEFT_JOIN(),l=a.domain.LEFT_JOIN(),c=o.terminal.LEFT_JOIN(),u=o.userAccount.LEFT_JOIN()],WHERE:lt(l.name.equals(t),a.name.equals(n),c.GUID.equals(i),u.GUID.equals(r))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"findByGUIDs",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=_a.Actor],WHERE:n.GUID.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findWithUserAccountBy_LocalIdIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.graph({SELECT:{"*":qe,userAccount:{GUID:qe,ranking:qe,username:qe}},FROM:[n=_a.Actor,r=n.userAccount.LEFT_JOIN(),r.continent.LEFT_JOIN(),r.country.LEFT_JOIN(),r.metroArea.LEFT_JOIN(),r.state.LEFT_JOIN()],WHERE:n._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.GUID,l.application.index,l.userAccount.GUID,l.terminal.GUID])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=_a.Actor,columns:[r.GUID,r.application.index,r.userAccount.GUID,r.terminal.GUID],VALUES:i},n);case 5:for(c=e.sent,u=0;u<t.length;u++)t[u]._localId=c[u][0];case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDetailsAndGlobalIdsByWhereClause",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=qe,l=qe,e.next=4,this.db.find.tree({SELECT:r(r({},Ye),{},{application:{index:qe,name:qe,domain:{name:qe}},terminal:{GUID:l,owner:{username:a,GUID:l}},userAccount:{username:a,GUID:l}}),FROM:[n=_a.Actor,i=n.application.LEFT_JOIN(),i.domain.LEFT_JOIN(),o=n.terminal.LEFT_JOIN(),o.owner.LEFT_JOIN(),n.userAccount.LEFT_JOIN()],WHERE:t(n)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Na),Ya=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findRootRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._find({SELECT:{"*":qe,repositoryNestings:{}},FROM:[t=_a.Repository,t.repositoryNestings.LEFT_JOIN()],WHERE:t.parentRepository.IS_NULL()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._findOne({SELECT:{"*":qe,repositoryNestings:{}},FROM:[n=_a.Repository,n.repositoryNestings.LEFT_JOIN()],WHERE:n.GUID.equals(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRepositoryLoadInfo",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.findOne.tree({SELECT:{immutable:qe,repositoryTransactionHistory:{saveTimestamp:qe}},FROM:[i=_a.Repository,o=i.repositoryTransactionHistory.INNER_JOIN(),a=o.transactionHistory.INNER_JOIN()],WHERE:lt(i.source.equals(t),i.GUID.equals(n),a.transactionType.equals(le.REMOTE_SYNC))},r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findReposWithDetailsAndSyncNodeIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qe,i=qe,e.next=4,this.db.find.tree({SELECT:{_localId:r,owner:{GUID:i},createdAt:qe,GUID:i},FROM:[n=_a.Repository],WHERE:n._localId.IN(t)});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findWithOwnerBy_LocalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{"*":qe,owner:{GUID:qe,username:qe}},FROM:[n=_a.Repository,n.owner.INNER_JOIN()],WHERE:n._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findWithOwnerBy_LocalIdIn",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.graph({SELECT:{"*":qe,owner:{GUID:qe,ranking:qe,username:qe}},FROM:[n=_a.Repository,n.owner.INNER_JOIN()],WHERE:n._localId.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findByGUIDs",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=_a.Repository],WHERE:n.GUID.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.createdAt,l.GUID,l.ageSuitability,l.source,l.immutable,l.owner.GUID])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=_a.Repository,columns:[r.createdAt,r.GUID,r.ageSuitability,r.source,r.immutable,r.owner.GUID],VALUES:i},n);case 5:for(c=e.sent,u=0;u<t.length;u++)t[u]._localId=c[u][0];case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateUiEntityUri",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.updateColumnsWhere({UPDATE:r=_a.Repository,SET:{UI_ENTRY_URI:n},WHERE:r.GUID.equals(t)});case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Ma),Wa=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(Ua),Qa=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewRecord",value:function(e,t,n,r,i,o){return{actor:n,changeType:e,entity:t,_localId:void 0,orderNumber:++o.numberOfOperations,recordHistory:[],repositoryTransactionHistory:r,systemWideOperationId:i}}},{key:"sort",value:function(e,t){var n=e.orderNumber,r=t.orderNumber;return n>r?1:r>n?-1:0}},{key:"startRecordHistory",value:function(e,t,n){var r=this.recordHistoryDuo.getNewRecord(t,n);return r.operationHistory=e,e.recordHistory.push(r),e.repositoryTransactionHistory.transactionHistory.allRecordHistory.push(r),r}}]),e}(),Ja=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewRecord",value:function(e,t){var n=new va;return n._actorRecordId=t,n.actor={_localId:e},n}},{key:"addNewValue",value:function(e,t,n){if(null===n)return null;var r=this.recordHistoryNewValueDuo.getNewRecord(e,t,n);return e.newValues.push(r),e.operationHistory.repositoryTransactionHistory.transactionHistory.allRecordHistoryNewValues.push(r),r}},{key:"addOldValue",value:function(e,t,n){if(null===n)return null;var r=this.recordHistoryOldValueDuo.getNewRecord(e,t,n);return e.oldValues.push(r),e.operationHistory.repositoryTransactionHistory.transactionHistory.allRecordHistoryOldValues.push(r),r}}]),e}(),Xa=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewRecord",value:function(e,t,n){var r=new ya;return r.columnIndex=t.index,r.recordHistory=e,r.newValue=n,r}}]),e}(),Ka=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewRecord",value:function(e,t,n){var r=new ga;return r.columnIndex=t.index,r.recordHistory=e,r.oldValue=n,r}}]),e}(),es=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewRecord",value:function(e,t){var n=new ba,r=(new Date).getTime();return n.saveTimestamp=r,n.GUID=fa(),n.isRepositoryCreation=t,n.repository=new ka,n.repository._localId=e,n}},{key:"newRecord",value:function(e){return e?r({},e):null}},{key:"sortRepoTransHistories",value:function(e,t){var n=this;e.sort((function(e,t){var r=n.compareNumbers(e.syncTimestamp,t.syncTimestamp);if(r)return r;var i=n.compareNumbers(e.saveTimestamp,t.saveTimestamp);return i||0}))}},{key:"startOperation",value:function(e,t,n,r,i,o){var a=this.operationHistoryDuo.getNewRecord(n,r,i,e,t,o);return e.operationHistory.push(a),e.transactionHistory.allOperationHistory.push(a),a}},{key:"compareDates",value:function(e,t){var n=e?e.getTime():-1,r=t?t.getTime():-1;return this.compareNumbers(n,r)}},{key:"compareNumbers",value:function(e,t){return e<t?-1:t>e?1:0}}]),e}(),ts=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewRecord",value:function(){arguments.length>0&&void 0!==arguments[0]||le.LOCAL;var e=new xa;return e.transactionType=le.LOCAL,e}},{key:"getRepositoryTransaction",value:function(e,t,n){var r=e.repositoryTransactionHistoryMap[t];return r||(r=this.repositoryTransactionHistoryDuo.getNewRecord(t,n),e.repositoryTransactionHistories.push(r),e.repositoryTransactionHistoryMap[t]=r,r.transactionHistory=e),r}}]),e}(),ns=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"findRootRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.repositoryDao.findRootRepositories();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"findRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.repositoryDao.findRepository(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,e.next=3,this.repositoryManager.createRepository(t,n,r,i[3]);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addNesting",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:null,e.next=3,this.repositoryManager.addRepositoryNesting(t,n,r,i[3]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUiEntryUri",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.repositoryManager.setUiEntryUri(t,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),rs=I({name:"@airport/holding-pattern",domain:{name:"airport"}}),is=rs.token("RepositoryManager");rs.register(qa,Qa,Ja,Ga,Xa,za,Ka,Ya,Wa,$a,es,ts,ns),rs.setDependencies(Qa,{recordHistoryDuo:Ja}),rs.setDependencies(ns,{repositoryDao:Ya,repositoryManager:is}),rs.setDependencies(Ja,{recordHistoryNewValueDuo:Xa,recordHistoryOldValueDuo:Ka}),rs.setDependencies(es,{operationHistoryDuo:Qa}),rs.setDependencies(ts,{repositoryTransactionHistoryDuo:es});var os,as=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"findUserAccount",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userAccountDao.findByGUIDs([t]);case 2:if(!(n=e.sent).length){e.next=5;break}return e.abrupt("return",n[0]);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();!function(e){e.EMAIL_TAKEN="EMAIL_TAKEN",e.INVALID_BIRTH_MONTH="INVALID_BIRTH_MONTH",e.INVALID_COUNTRY="INVALID_COUNTRY",e.INVALID_EMAIL="INVALID_EMAIL",e.INVALID_USERNAME="INVALID_USERNAME",e.USER_ACCOUNTNAME_TAKEN="USER_ACCOUNTNAME_TAKEN"}(os||(os={}));var ss=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"addUserAccount",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.userAccountDao.findByUserAccountNames([t]);case 2:i=e.sent,o=(0,f.Z)(i),e.prev=4,o.s();case 6:if((a=o.n()).done){e.next=12;break}if(a.value.username!==t){e.next=10;break}return e.abrupt("return",{errorCode:os.USER_ACCOUNTNAME_TAKEN});case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),o.e(e.t0);case 17:return e.prev=17,o.f(),e.finish(17);case 20:return e.next=22,this.sha512(r);case 22:return l=e.sent,c={email:n,GUID:fa(),passwordHash:l,username:t},e.next=26,this.userAccountDao.save(c);case 26:return e.abrupt("return",{userAccount:c});case 27:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"sha512",value:function(e){return crypto.subtle.digest("SHA-512",(new TextEncoder).encode(e)).then((function(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}))}}]),e}(),ls=(0,u.Z)((function e(){(0,c.Z)(this,e)})),cs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),us=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ds=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ps=(0,u.Z)((function e(){(0,c.Z)(this,e)})),fs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),hs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ms=(0,u.Z)((function e(){(0,c.Z)(this,e)})),vs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ys=(0,u.Z)((function e(){(0,c.Z)(this,e),this.isLocal=!1})),gs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),bs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),xs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ws=(0,u.Z)((function e(){(0,c.Z)(this,e)})),ks=(0,u.Z)((function e(){(0,c.Z)(this,e)})),Es={__constructors__:{Classification:bs,Client:ls,ClientType:cs,Continent:ps,Country:fs,Database:us,DatabaseType:ds,MetroArea:hs,MetroAreaState:ms,State:vs,Terminal:ys,TerminalType:gs,Type:xs,TypeClassification:ws,UserAccount:ks},domain:"airport",name:"@airport/travel-document-checkpoint"};function Is(e){return globalThis.airApi.dS(Es.__dbApplication__,e)}globalThis.airApi&&globalThis.airApi.setQApp(Es);var Rs=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,Es)}return(0,u.Z)(n)}(Hr),Ts=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,6)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(6)}}]),n}(Rs);Ts.Find=new Gr,Ts.FindOne=new Gr,Ts.Search=new Gr,Ts.SearchOne=new Gr;var _s=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,10)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(10)}}]),n}(Rs);_s.Find=new Gr,_s.FindOne=new Gr,_s.Search=new Gr,_s.SearchOne=new Gr;var Ss=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,9)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(9)}}]),n}(Rs);Ss.Find=new Gr,Ss.FindOne=new Gr,Ss.Search=new Gr,Ss.SearchOne=new Gr;var As=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,0)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(0)}}]),n}(Rs);As.Find=new Gr,As.FindOne=new Gr,As.Search=new Gr,As.SearchOne=new Gr;var Ns=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,1)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(1)}}]),n}(Rs);Ns.Find=new Gr,Ns.FindOne=new Gr,Ns.Search=new Gr,Ns.SearchOne=new Gr;var Zs=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,12)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(12)}}]),n}(Rs);Zs.Find=new Gr,Zs.FindOne=new Gr,Zs.Search=new Gr,Zs.SearchOne=new Gr;var Cs=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,11)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(11)}}]),n}(Rs);Cs.Find=new Gr,Cs.FindOne=new Gr,Cs.Search=new Gr,Cs.SearchOne=new Gr;var Os=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,4)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(4)}}]),n}(Rs);Os.Find=new Gr,Os.FindOne=new Gr,Os.Search=new Gr,Os.SearchOne=new Gr;var Ds=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,3)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(3)}}]),n}(Rs);Ds.Find=new Gr,Ds.FindOne=new Gr,Ds.Search=new Gr,Ds.SearchOne=new Gr;var Ms=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,2)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(2)}}]),n}(Rs);Ms.Find=new Gr,Ms.FindOne=new Gr,Ms.Search=new Gr,Ms.SearchOne=new Gr;var Vs=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,14)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(14)}}]),n}(Rs);Vs.Find=new Gr,Vs.FindOne=new Gr,Vs.Search=new Gr,Vs.SearchOne=new Gr;var Ls=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,13)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(13)}}]),n}(Rs);Ls.Find=new Gr,Ls.FindOne=new Gr,Ls.Search=new Gr,Ls.SearchOne=new Gr;var Ps=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,8)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(8)}}]),n}(Rs);Ps.Find=new Gr,Ps.FindOne=new Gr,Ps.Search=new Gr,Ps.SearchOne=new Gr;var Us=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,7)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(7)}}]),n}(Rs);Us.Find=new Gr,Us.FindOne=new Gr,Us.Search=new Gr,Us.SearchOne=new Gr;var Fs=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,5)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return Is(5)}}]),n}(Rs);Fs.Find=new Gr,Fs.FindOne=new Gr,Fs.Search=new Gr,Fs.SearchOne=new Gr;var Bs=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findByOwnerIdsAndGUIDs",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[r=Es.Terminal],WHERE:lt(r.owner.GUID.IN(t),r.GUID.IN(n))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findByGUIDs",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Es.Terminal],WHERE:n.GUID.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.GUID,l.owner.GUID,!1])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValues({INSERT_INTO:r=Es.Terminal,columns:[r.GUID,r.owner.GUID,r.isLocal],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Vs),js=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"findByUserAccountNames",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Es.UserAccount],WHERE:n.username.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findByGUIDs",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.find.tree({SELECT:{},FROM:[n=Es.UserAccount],WHERE:n.GUID.IN(t)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.GUID,l.username])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValues({INSERT_INTO:r=Es.UserAccount,columns:[r.GUID,r.username],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Fs),Hs=I({name:"@airport/travel-document-checkpoint",domain:{name:"airport"}});Hs.register(Bs,as,js,ss),Hs.setDependencies(as,{userAccountDao:js}),Hs.setDependencies(ss,{userAccountDao:js});var Gs=n(392),zs=(0,u.Z)((function e(){(0,c.Z)(this,e)})),$s=(0,u.Z)((function e(){(0,c.Z)(this,e)})),qs=_("arrivals-n-departures");qs.register(zs,$s);var Ys,Ws=qs.token("OperationDeserializer"),Qs=qs.token("QueryParameterDeserializer"),Js=qs.token("QueryResultsSerializer"),Xs=(0,u.Z)((function e(){(0,c.Z)(this,e)}));!function(e){e.LOCAL_UPDATE_REMOTELY_DELETED="LOCAL_UPDATE_REMOTELY_DELETED",e.REMOTE_CREATE_REMOTELY_DELETED="REMOTE_CREATE_REMOTELY_DELETED",e.REMOTE_UPDATE_LOCALLY_DELETED="REMOTE_UPDATE_LOCALLY_DELETED",e.REMOTE_UPDATE_LOCALLY_UPDATED="REMOTE_UPDATE_LOCALLY_UPDATED"}(Ys||(Ys={}));var Ks,el,tl=(0,u.Z)((function e(){(0,c.Z)(this,e)}));!function(e){e.LOCAL="LOCAL",e.REMOTE="REMOTE"}(Ks||(Ks={})),function(e){e.CHANGE_NEEDED="CHANGE_NEEDED",e.CHANGE_COMPLETED="CHANGE_COMPLETED"}(el||(el={}));var nl={__constructors__:{RecordUpdateStage:(0,u.Z)((function e(){(0,c.Z)(this,e)})),SynchronizationConflict:Xs,SynchronizationConflictValues:tl},domain:"airport",name:"@airport/layover"};function rl(e){return globalThis.airApi.dS(nl.__dbApplication__,e)}globalThis.airApi&&globalThis.airApi.setQApp(nl);var il=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e,nl)}return(0,u.Z)(n)}(Hr),ol=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,0)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return rl(0)}}]),n}(il);ol.Find=new Gr,ol.FindOne=new Gr,ol.Search=new Gr,ol.SearchOne=new Gr;var al=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,2)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return rl(2)}}]),n}(il);al.Find=new Gr,al.FindOne=new Gr,al.Search=new Gr,al.SearchOne=new Gr;var sl=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,1)}return(0,u.Z)(n,null,[{key:"Save",value:function(e){return Hr.BaseSave(e)}},{key:"diSet",value:function(){return rl(1)}}]),n}(il);sl.Find=new Gr,sl.FindOne=new Gr,sl.Search=new Gr,sl.SearchOne=new Gr;var ll=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.type,l.acknowledged,l.repository._localId,l.overwrittenRecordHistory._localId,l.overwritingRecordHistory._localId])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValuesGenerateIds({INSERT_INTO:r=nl.SynchronizationConflict,columns:[r.type,r.acknowledged,r.repository._localId,r.overwrittenRecordHistory._localId,r.overwritingRecordHistory._localId],VALUES:i},n);case 5:for(c=e.sent,u=0;u<t.length;u++)t[u]._localId=c[u][0];case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(al),cl=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"insert",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,i.push([l.synchronizationConflict._localId,l.columnIndex])}catch(s){o.e(s)}finally{o.f()}return e.next=5,this.db.insertValues({INSERT_INTO:r=nl.SynchronizationConflictValues,columns:[r.synchronizationConflict._localId,r.columnIndex],VALUES:i},n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(sl),ul=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[(n=nl.RecordUpdateStage).applicationVersion._localId,n.entity._localId,n.repository._localId,n.actor._localId,n._actorRecordId,n.column._localId,n.updatedValue],e.next=4,this.db.insertValuesGenerateIds({INSERT_INTO:n,columns:r,VALUES:t},{generateOnSync:!0});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEntityWhereIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.airportDatabase.applications[t].currentVersion[0].applicationVersion.entities[r],l=this.airportDatabase.qApplications[t][a.name],c=[],u=(0,f.Z)(i);try{for(u.s();!(d=u.n()).done;){h=(0,p.Z)(d.value,2),m=h[0],v=h[1],y=[],g=(0,f.Z)(v);try{for(g.s();!(b=g.n()).done;)x=(0,p.Z)(b.value,2),w=x[0],k=x[1],y.push(lt(l[Wr]._localId.equals(w),l._actorRecordId.IN(Array.from(k))))}catch(s){g.e(s)}finally{g.f()}c.push(lt(l[Qr]._localId.equals(m),ct.apply(void 0,y)))}}catch(s){u.e(s)}finally{u.f()}E={},I=(0,f.Z)(o);try{for(I.s();!(R=I.n()).done;)T=R.value,_=a.columns[T],A=Bt({FROM:[S=nl.RecordUpdateStage],SELECT:S.updatedValue,WHERE:lt(S.applicationVersion._localId.equals(n),S.entity._localId.equals(a.index),S.repository._localId.equals(l.repository._localId),S.actor._localId.equals(l.actor._localId),S._actorRecordId.equals(l._actorRecordId),S.column._localId.equals(_.index))}),E[_.name]=A}catch(s){I.e(s)}finally{I.f()}return e.next=10,this.db.updateColumnsWhere({UPDATE:l,SET:E,WHERE:ct.apply(void 0,c)});case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.db.deleteWhere({DELETE_FROM:nl.RecordUpdateStage});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ol),dl=_("@airport/layover");dl.register(ul,ll,cl),dl.setDependencies(ul,{airportDatabase:pi});var pl=function(){function e(){(0,c.Z)(this,e),this.serverLocationProtocol="http://"}return(0,u.Z)(e,[{key:"getRepositoryTransactions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:null,e.prev=1,e.next=4,this.sendMessage(t+"/read",{repositoryGUID:n,syncTimestamp:r});case 4:if(!(i=e.sent).error){e.next=8;break}return console.error(i.error),e.abrupt("return",[]);case 8:return e.abrupt("return",i.fragments);case 11:return e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendRepositoryTransactions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sendMessage(t+"/write",{messages:r,repositoryGUID:n});case 3:if(!(i=e.sent).error){e.next=7;break}return console.error(i.error),e.abrupt("return",0);case 7:return e.abrupt("return",i.syncTimestamp);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",0);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify(n),e.next=3,fetch(this.serverLocationProtocol+t,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:r});case 3:return i=e.sent,e.abrupt("return",i.json());case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();_("client").register(pl);var fl,hl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getTransactionsForRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.client.getRepositoryTransactions(t,n,r);case 2:i=e.sent,o=[],a=(0,f.Z)(i),e.prev=5,a.s();case 7:if((l=a.n()).done){e.next=16;break}if((c=l.value).repositoryGUID===n){e.next=12;break}return console.error("Got a reponse fragment for repository ".concat(c.repositoryGUID,".\n    Expecting message fragments for repository: ").concat(n)),e.abrupt("continue",14);case 12:u=(0,f.Z)(c.messages);try{for(u.s();!(d=u.n()).done;)(p=d.value).syncTimestamp=c.syncTimestamp,o.push(p)}catch(s){u.e(s)}finally{u.f()}case 14:e.next=7;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),a.e(e.t0);case 21:return e.prev=21,a.f(),e.finish(21);case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e,this,[[5,18,21,24]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"sendTransactions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!0,i=(0,f.Z)(n),e.prev=2,i.s();case 4:if((o=i.n()).done){e.next=19;break}return a=(0,p.Z)(o.value,2),l=a[0],c=a[1],e.prev=6,e.next=9,this.sendTransactionsForRepository(t,l,c);case 9:if(e.sent){e.next=11;break}r=!1;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0),r=!1;case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(2),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",r);case 28:case"end":return e.stop()}}),e,this,[[2,21,24,27],[6,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"sendTransactionsForRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.length){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,this.client.sendRepositoryTransactions(t,n,r);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:o=(0,f.Z)(r);try{for(o.s();!(a=o.n()).done;)a.value.syncTimestamp=i}catch(s){o.e(s)}finally{o.f()}return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),ml=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"load",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="IPFS"===e.t0?3:"localhost:9000"===e.t0?4:5;break;case 3:throw new Error("Not Implemented");case 4:return e.abrupt("return",this.debugSynchronizationAdapter);case 5:throw new Error("Unexpected synchronization source: ".concat(t));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureActors",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],i=new Map,o=0;case 4:if(!(o<t.actors.length)){e.next=17;break}if("string"===typeof(a=t.actors[o]).GUID&&36===a.GUID.length){e.next=8;break}throw new Error("Invalid 'terminal.GUID'");case 8:this.checkActorApplication(a,t),this.checkActorTerminal(a,t),this.checkActorUserAccount(a,t),r.push(a.GUID),i.set(a.GUID,o),delete a._localId;case 14:o++,e.next=4;break;case 17:return e.next=19,this.actorDao.findByGUIDs(r);case 19:l=e.sent,c=(0,f.Z)(l);try{for(c.s();!(u=c.n()).done;)d=u.value,p=i.get(d.GUID),t.actors[p]=d}catch(s){c.e(s)}finally{c.f()}if(!(h=t.actors.filter((function(e){return!e._localId}))).length){e.next=26;break}return e.next=26,this.actorDao.insert(h,n);case 26:e.next=32;break;case 28:return e.prev=28,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 32:return e.abrupt("return",!0);case 33:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkActorApplication",value:function(e,t){if("number"!==typeof e.application)throw new Error("Expecting \"in-message index\" (number)\n\t\t\tin 'actor.terminal'");var n=t.applications[e.application];if(!n)throw new Error('Did not find actor.application with "in-message index" '.concat(e.application));e.application=n}},{key:"checkActorTerminal",value:function(e,t){if("number"!==typeof e.terminal)throw new Error("Expecting \"in-message index\" (number)\n\t\t\tin 'actor.terminal'");var n=t.terminals[e.terminal];if(!n)throw new Error('Did not find actor.terminal with "in-message index" '.concat(e.terminal));e.terminal=n}},{key:"checkActorUserAccount",value:function(e,t){if("number"!==typeof e.userAccount)throw new Error("Expecting \"in-message index\" (number)\n\t\t\tin 'actor.userAccount'");var n=t.userAccounts[e.userAccount];if(!n)throw new Error('Did not find actor.userAccount with "in-message index" '.concat(e.userAccount));e.userAccount=n}}]),e}(),yl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureApplications",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkApplicationsAndDomains(t,n);case 3:for(r=e.sent,i=0;i<t.applications.length;i++)o=t.applications[i],t.applications[i]=r.get(o.domain.name).get(o.name).application;e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkApplicationsAndDomains",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U,F,B;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getNames(t),i=r.allApplication_Names,o=r.domainCheckMap,a=r.domainNames,l=r.applicationCheckMap,e.next=3,this.applicationDao.findByDomain_NamesAndApplication_Names(a,i);case 3:c=e.sent,u=(0,f.Z)(c);try{for(u.s();!(d=u.n()).done;){h=d.value,m=h.domain.name,v=h.name,y=(0,f.Z)(l.get(m));try{for(y.s();!(g=y.n()).done;)b=(0,p.Z)(g.value,2),b[0],(x=b[1]).applicationName===v&&((w=o.get(m)).found=!0,w.domain=h.domain,x.found=!0,x.application=h)}catch(s){y.e(s)}finally{y.f()}}}catch(s){u.e(s)}finally{u.f()}k=[],E=(0,f.Z)(o),e.prev=8,E.s();case 10:if((I=E.n()).done){e.next=19;break}if(R=(0,p.Z)(I.value,2),T=R[0],!(_=R[1]).found){e.next=14;break}return e.abrupt("continue",17);case 14:S={_localId:null,name:T},_.domain=S,k.push(S);case 17:e.next=10;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),E.e(e.t0);case 24:return e.prev=24,E.f(),e.finish(24);case 27:if(!k.length){e.next=30;break}return e.next=30,this.domainDao.insert(k);case 30:A=[],N=(0,f.Z)(l),e.prev=32,N.s();case 34:if((Z=N.n()).done){e.next=59;break}C=(0,p.Z)(Z.value,2),O=C[0],D=C[1],M=(0,f.Z)(D),e.prev=37,M.s();case 39:if((V=M.n()).done){e.next=49;break}if(L=(0,p.Z)(V.value,2),P=L[0],!(U=L[1]).found){e.next=43;break}return e.abrupt("continue",47);case 43:F=o.get(O).domain,B={domain:F,index:null,name:P,scope:"private",status:we.STUB,signature:"localhost"},U.application=B,A.push(B);case 47:e.next=39;break;case 49:e.next=54;break;case 51:e.prev=51,e.t1=e.catch(37),M.e(e.t1);case 54:return e.prev=54,M.f(),e.finish(54);case 57:e.next=34;break;case 59:e.next=64;break;case 61:e.prev=61,e.t2=e.catch(32),N.e(e.t2);case 64:return e.prev=64,N.f(),e.finish(64);case 67:if(!A.length){e.next=70;break}return e.next=70,this.applicationDao.insert(A,n);case 70:return e.abrupt("return",l);case 71:case"end":return e.stop()}}),e,this,[[8,21,24,27],[32,61,64,67],[37,51,54,57]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNames",value:function(e){if(!e.applications||!(e.applications instanceof Array))throw new Error("Did not find applications in RepositorySynchronizationMessage.");var t,n=new Map,r=new Map,i=(0,f.Z)(e.applications);try{for(i.s();!(t=i.n()).done;){var o=t.value;if("object"!==typeof o)throw new Error("Invalid ApplicationVersion.application");if(!o.name||"string"!==typeof o.name)throw new Error("Invalid ApplicationVersion.Application.name");var a=o.domain;if("object"!==typeof a)throw new Error("Invalid ApplicationVersion.Application.Domain");if(!a.name||"string"!==typeof a.name)throw new Error("Invalid ApplicationVersion.Application.Domain.name");var s=r.get(a.name);s||(s=new Map,r.set(a.name,s)),s.has(o.name)||s.set(o.name,{applicationName:o.name}),n.get(a.name)||n.set(a.name,{domainName:a.name})}}catch(w){i.e(w)}finally{i.f()}var l,c=[],u=[],d=(0,f.Z)(r);try{for(d.s();!(l=d.n()).done;){var h=(0,p.Z)(l.value,2),m=h[0],v=h[1];c.push(m);var y,g=(0,f.Z)(v);try{for(g.s();!(y=g.n()).done;){var b=(0,p.Z)(y.value,2),x=b[0];b[1];u.push(x)}}catch(w){g.e(w)}finally{g.f()}}}catch(w){d.e(w)}finally{d.f()}return{allApplication_Names:u,domainCheckMap:n,domainNames:c,applicationCheckMap:r}}}]),e}(),gl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureApplicationVersions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.checkVersionsApplicationsDomains(t,n);case 3:for(r=e.sent,i=0;i<t.applicationVersions.length;i++)o=t.applicationVersions[i],t.applicationVersions[i]=r.get(o.application.domain.name).get(o.application.name).applicationVersion;e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkVersionsApplicationsDomains",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getNames(t),i=r.allApplication_Names,o=r.domainNames,a=r.applicationVersionCheckMap,e.next=3,this.applicationVersionDao.findByDomain_NamesAndApplication_Names(o,i);case 3:l=e.sent,d=(0,f.Z)(l),e.prev=5,d.s();case 7:if((h=d.n()).done){e.next=37;break}if(m=h.value,v=m.application.domain.name,y=m.application.name,c===v||u===y){e.next=35;break}g=m.integerVersion,b=(0,f.Z)(a.get(v)),e.prev=14,b.s();case 16:if((x=b.n()).done){e.next=25;break}if(w=(0,p.Z)(x.value,2),w[0],(k=w[1]).applicationName!==y){e.next=23;break}if(k.found=!0,!(k.applicationVersionNumber>g)){e.next=22;break}throw new Error("Installed application ".concat(y," for domain ").concat(v,"\n\tis at a lower version ").concat(g," than needed in message ").concat(k.applicationVersionNumber,"."));case 22:k.applicationVersion=m;case 23:e.next=16;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(14),b.e(e.t0);case 30:return e.prev=30,b.f(),e.finish(30);case 33:c=v,u=y;case 35:e.next=7;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(5),d.e(e.t1);case 42:return e.prev=42,d.f(),e.finish(42);case 45:E=(0,f.Z)(a),e.prev=46,E.s();case 48:if((I=E.n()).done){e.next=69;break}R=(0,p.Z)(I.value,2),T=R[0],_=R[1],S=(0,f.Z)(_),e.prev=51,S.s();case 53:if((A=S.n()).done){e.next=59;break}if(N=(0,p.Z)(A.value,2),N[0],(Z=N[1]).found){e.next=57;break}throw new Error("Application ".concat(Z.applicationName," for domain ").concat(T," is not installed."));case 57:e.next=53;break;case 59:e.next=64;break;case 61:e.prev=61,e.t2=e.catch(51),S.e(e.t2);case 64:return e.prev=64,S.f(),e.finish(64);case 67:e.next=48;break;case 69:e.next=74;break;case 71:e.prev=71,e.t3=e.catch(46),E.e(e.t3);case 74:return e.prev=74,E.f(),e.finish(74);case 77:return e.abrupt("return",a);case 78:case"end":return e.stop()}}),e,this,[[5,39,42,45],[14,27,30,33],[46,71,74,77],[51,61,64,67]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNames",value:function(e){if(!e.applicationVersions||!(e.applicationVersions instanceof Array))throw new Error("Did not find applicationVersions in RepositorySynchronizationMessage.");var t,n=new Map,r=(0,f.Z)(e.applicationVersions);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(!i.integerVersion||"number"!==typeof i.integerVersion)throw new Error("Invalid ApplicationVersion.integerVersion.");var o=e.applications[i.application];if("object"!==typeof o)throw new Error("Invalid ApplicationVersion.application");i.application=o;var a=o.domain,s=n.get(a.name);s||(s=new Map,n.set(a.name,s)),s.has(o.name)||s.set(o.name,{applicationName:o.name,applicationVersionNumber:i.integerVersion})}}catch(w){r.e(w)}finally{r.f()}var l,c=[],u=[],d=(0,f.Z)(n);try{for(d.s();!(l=d.n()).done;){var h=(0,p.Z)(l.value,2),m=h[0],v=h[1];c.push(m);var y,g=(0,f.Z)(v);try{for(g.s();!(y=g.n()).done;){var b=(0,p.Z)(y.value,2),x=b[0];b[1];u.push(x)}}catch(w){g.e(w)}finally{g.f()}}}catch(w){d.e(w)}finally{d.f()}return{allApplication_Names:u,domainNames:c,applicationVersionCheckMap:n}}}]),e}(),bl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"checkMessage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncInUserAccountChecker.ensureUserAccounts(t,n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.syncInTerminalChecker.ensureTerminals(t,n);case 6:if(e.sent){e.next=8;break}return e.abrupt("return",!1);case 8:return e.next=10,this.syncInApplicationChecker.ensureApplications(t,n);case 10:if(e.sent){e.next=12;break}return e.abrupt("return",!1);case 12:return e.next=14,this.syncInActorChecker.ensureActors(t,n);case 14:if(e.sent){e.next=16;break}return e.abrupt("return",!1);case 16:return e.next=18,this.syncInRepositoryChecker.ensureRepositories(t,n);case 18:if(e.sent){e.next=20;break}return e.abrupt("return",!1);case 20:return e.next=22,this.syncInApplicationVersionChecker.ensureApplicationVersions(t,n);case 22:if(e.sent){e.next=24;break}return e.abrupt("return",!1);case 24:return e.next=26,this.syncInDataChecker.checkData(t,n);case 26:if(e.sent){e.next=28;break}return e.abrupt("return",!1);case 28:return e.abrupt("return",!0);case 29:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),xl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"checkData",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.history,e.prev=1,r&&"object"===typeof r){e.next=4;break}throw new Error("Invalid RepositorySynchronizationMessage.history");case 4:if("string"===typeof r.GUID&&36===r.GUID.length){e.next=6;break}return e.abrupt("return",!1);case 6:if(r.operationHistory&&r.operationHistory instanceof Array){e.next=8;break}return e.abrupt("return",!1);case 8:if(r.saveTimestamp&&"number"===typeof r.saveTimestamp){e.next=10;break}throw new Error("Invalid RepositorySynchronizationMessage.history.saveTimestamp");case 10:if(!r.transactionHistory){e.next=12;break}throw new Error("RepositorySynchronizationMessage.history.transactionHistory cannot be specified");case 12:if(!r.repositoryTransactionType){e.next=14;break}throw new Error("RepositorySynchronizationMessage.history.repositoryTransactionType cannot be specified");case 14:if(!r.syncTimestamp){e.next=16;break}throw new Error("RepositorySynchronizationMessage.history.syncTimestamp cannot be specified");case 16:return r.repositoryTransactionType=ha.REMOTE,r.syncTimestamp=t.syncTimestamp,delete r._localId,e.next=21,this.populateApplicationEntityMap(t);case 21:return i=e.sent,e.next=24,this.checkOperationHistories(t,i,n);case 24:e.next=30;break;case 26:return e.prev=26,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",!1);case 30:return e.abrupt("return",!0);case 31:case"end":return e.stop()}}),e,this,[[1,26]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"populateApplicationEntityMap",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.terminalStore.getAllApplicationVersionsByIds(),r=new Map,i=(0,f.Z)(t.applicationVersions);try{for(i.s();!(o=i.n()).done;){a=o.value,l=n[a._localId],c=(0,f.Z)(l.entities);try{for(c.s();!(u=c.n()).done;)d=u.value,(p=r.get(l.application.domain.name))||(p=new Map,r.set(l.application.domain.name,p)),(h=p.get(l.application.name))||(h=new Map,p.set(l.application.name,h)),h.set(d.index,d)}catch(s){c.e(s)}finally{c.f()}}}catch(s){i.e(s)}finally{i.f()}return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkOperationHistories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,p,h,m,v,y,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.history).operationHistory instanceof Array&&i.operationHistory.length){e.next=3;break}throw new Error("Invalid RepositorySynchronizationMessage.history.operationHistory");case 3:o=li(i.operationHistory.length,this.airportDatabase,this.sequenceGenerator),a=0,l=0;case 6:if(!(l<i.operationHistory.length)){e.next=73;break}if("object"===typeof(c=i.operationHistory[l])){e.next=10;break}throw new Error("Invalid operationHistory");case 10:if(!c.orderNumber){e.next=12;break}throw new Error("RepositorySynchronizationMessage.history -> operationHistory.orderNumber cannot be specified,\n\t\t\t\tthe position of orderHistory record determines it's order");case 12:c.orderNumber=++a,e.t0=c.changeType,e.next=e.t0===ce.DELETE_ROWS||e.t0===ce.INSERT_VALUES||e.t0===ce.UPDATE_ROWS?16:17;break;case 16:return e.abrupt("break",18);case 17:throw new Error("Invalid operationHistory.changeType: ".concat(c.changeType));case 18:if("object"===typeof c.entity){e.next=20;break}throw new Error("Invalid operationHistory.entity");case 20:if("number"===typeof c.entity.applicationVersion){e.next=22;break}throw new Error("Expecting \"in-message index\" (number)\n\t\t\t\t\tin 'operationHistory.entity.applicationVersion'");case 22:if(u=t.actors[c.actor]){e.next=25;break}throw new Error('Cannot find Actor for "in-message id" RepositorySynchronizationMessage.history.actor');case 25:if(c.actor=u,d=t.applicationVersions[c.entity.applicationVersion]){e.next=29;break}throw new Error("Invalid index into message.applicationVersions [".concat(c.entity.applicationVersion,"],\n\t\t\t\tin operationHistory.entity.applicationVersion"));case 29:if(p=n.get(d.application.domain.name).get(d.application.name).get(c.entity.index)){e.next=32;break}throw new Error("Invalid operationHistory.entity.index: ".concat(c.entity.index));case 32:if(c.entity=p,!c.repositoryTransactionHistory){e.next=35;break}throw new Error("RepositorySynchronizationMessage.history -> operationHistory.repositoryTransactionHistory cannot be specified");case 35:if(c.repositoryTransactionHistory=i,!c.systemWideOperationId){e.next=38;break}throw new Error("RepositorySynchronizationMessage.history -> operationHistory.systemWideOperationId cannot be specified");case 38:c.systemWideOperationId=o[l],delete c._localId,h=new Map,m=new Map,v=(0,f.Z)(c.entity.columns),e.prev=43,v.s();case 45:if((y=v.n()).done){e.next=60;break}g=y.value,e.t1=g.name,e.next=e.t1===Q.SOURCE_ACTOR_ID?50:e.t1===Q.SOURCE_REPOSITORY_ID?53:56;break;case 50:return h.set(g.index,g),g.index,e.abrupt("break",56);case 53:return m.set(g.index,g),g.index,e.abrupt("break",56);case 56:/.*_AID_[\d]+$/.test(g.name)&&g.manyRelationColumns.length&&h.set(g.index,g),/.*_RID_[\d]+$/.test(g.name)&&g.manyRelationColumns.length&&m.set(g.index,g);case 58:e.next=45;break;case 60:e.next=65;break;case 62:e.prev=62,e.t2=e.catch(43),v.e(e.t2);case 65:return e.prev=65,v.f(),e.finish(65);case 68:return e.next=70,this.checkRecordHistories(c,h,m,t,r);case 70:l++,e.next=6;break;case 73:case"end":return e.stop()}}),e,this,[[43,62,65,68]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"checkRecordHistories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.recordHistory)instanceof Array&&a.length){e.next=3;break}throw new Error("Inalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory");case 3:l=(0,f.Z)(a),e.prev=4,l.s();case 6:if((c=l.n()).done){e.next=34;break}if((u=c.value)._actorRecordId&&"number"===typeof u._actorRecordId){e.next=10;break}throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory._actorRecordId");case 10:e.t0=t.changeType,e.next=e.t0===ce.INSERT_VALUES?13:e.t0===ce.DELETE_ROWS||e.t0===ce.UPDATE_ROWS?17:26;break;case 13:if(!u.actor){e.next=15;break}throw new Error("Cannot specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.actor\nfor ChangeType.INSERT_VALUES");case 15:return u.actor=t.actor,e.abrupt("break",26);case 17:if(void 0!==u.actor){e.next=21;break}u.actor=t.actor,e.next=25;break;case 21:if(d=i.actors[u.actor]){e.next=24;break}throw new Error('Did find Actor for "in-message id" in RepositorySynchronizationMessage.history -> operationHistory.actor');case 24:u.actor=d;case 25:return e.abrupt("break",26);case 26:if(!u.operationHistory){e.next=28;break}throw new Error("RepositorySynchronizationMessage.history -> operationHistory.recordHistory.operationHistory cannot be specified");case 28:this.checkNewValues(u,n,r,t,i,o),this.checkOldValues(u,n,r,t,i,o),u.operationHistory=t,delete u._localId;case 32:e.next=6;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(4),l.e(e.t1);case 39:return e.prev=39,l.f(),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[4,36,39,42]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"checkNewValues",value:function(e,t,n,r,i,o){switch(r.changeType){case ce.DELETE_ROWS:if(e.newValues)throw new Error("Cannot specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues\nfor ChangeType.DELETE_ROWS");return;case ce.INSERT_VALUES:case ce.UPDATE_ROWS:if(!(e.newValues instanceof Array)||!e.newValues.length)throw new Error("Must specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues\nfor ChangeType.INSERT_VALUES|UPDATE_ROWS")}var a,s=(0,f.Z)(e.newValues);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.recordHistory)throw new Error("Cannot specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues.recordHistory");if(l.recordHistory=e,"number"!==typeof l.columnIndex)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues.columnIndex");if(void 0===typeof l.newValue)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues.newValue")}}catch(y){s.e(y)}finally{s.f()}var c,u=(0,f.Z)(e.newValues);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=t.get(d.columnIndex);if(p){var h=i.actors[d.newValue];if(!h)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues.newValue\nValue is for ".concat(p.name," and could find RepositorySynchronizationMessage.actors[").concat(d.newValue,"]"));d.newValue=h._localId}var m=n.get(d.columnIndex);if(m)if(-1===d.newValue)d.newValue=i.history.repository._localId;else{var v=i.referencedRepositories[d.newValue];if(!v)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues.newValue\n\tValue is for ".concat(m.name," and could find RepositorySynchronizationMessage.referencedRepositories[").concat(d.newValue,"]"));d.newValue=v._localId}}}catch(y){u.e(y)}finally{u.f()}}},{key:"checkOldValues",value:function(e,t,n,r,i,o){switch(r.changeType){case ce.DELETE_ROWS:case ce.INSERT_VALUES:if(e.oldValues)throw new Error("Cannot specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.oldValues\nfor ChangeType.DELETE_ROWS|INSERT_VALUES");return;case ce.UPDATE_ROWS:if(!(e.newValues instanceof Array)||!e.oldValues.length)throw new Error("Must specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.oldValues\nfor ChangeType.UPDATE_ROWS")}var a,s=(0,f.Z)(e.oldValues);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.recordHistory)throw new Error("Cannot specify RepositorySynchronizationMessage.history -> operationHistory.recordHistory.newValues.recordHistory");if(l.recordHistory=e,"number"!==typeof l.columnIndex)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.oldValues.columnIndex");if(void 0===typeof l.oldValue)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.oldValues.oldValue")}}catch(m){s.e(m)}finally{s.f()}var c,u=(0,f.Z)(e.oldValues);try{for(u.s();!(c=u.n()).done;){var d=c.value;if(t.get(d.columnIndex)){var p=i.actors[d.oldValue];if(!p)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.oldValues.oldValue\nValue is for SOURCE_ACTOR_ID and could find RepositorySynchronizationMessage.actors[".concat(d.oldValue,"]"));d.oldValue=p._localId}if(n.get(d.columnIndex)){var h=i.referencedRepositories[d.oldValue];if(!h)throw new Error("Invalid RepositorySynchronizationMessage.history -> operationHistory.recordHistory.oldValues.oldValue\nValue is for SOURCE_REPOSITORY_ID and could find RepositorySynchronizationMessage.referencedRepositories[".concat(d.oldValue,"]"));d.oldValue=h._localId}}}catch(m){u.e(m)}finally{u.f()}}}]),e}(),wl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=[],i=new Map,o=0;o<t.referencedRepositories.length;o++)this.checkRepository(t.referencedRepositories[o],o,r,i,t);if(!(a=t.history).isRepositoryCreation){e.next=11;break}if("object"===typeof a.repository){e.next=8;break}throw new Error("Serialized RepositorySynchronizationMessage.history.repository should be an object\n\tif RepositorySynchronizationMessage.history.isRepositoryCreation === true");case 8:this.checkRepository(a.repository,null,r,i,t),e.next=14;break;case 11:if("string"===typeof a.repository){e.next=13;break}throw new Error("Serialized RepositorySynchronizationMessage.history.repository should be a string\n\tif RepositorySynchronizationMessage.history.isRepositoryCreation === false");case 13:r.push(a.repository);case 14:return e.next=16,this.repositoryDao.findByGUIDs(r);case 16:l=e.sent,c=(0,f.Z)(l);try{for(c.s();!(u=c.n()).done;)d=u.value,(p=i.get(d.GUID))||0===p?t.referencedRepositories[p]=d:a.repository=d}catch(s){c.e(s)}finally{c.f()}if(h=t.referencedRepositories.filter((function(e){return!e._localId})),"object"===typeof a.repository){e.next=24;break}throw new Error("Repository with GUID ".concat(a.repository," is not\n\t\t\t\t\tpresent and cannot be synced\n\tThis RepositorySynchronizationMessage is for an existing repository and that\n\trepository must already be loaded in this database for this message to be\n\tprocessed."));case 24:a.repository._localId||h.push(a.repository);case 25:if(!h.length){e.next=28;break}return e.next=28,this.repositoryDao.insert(h,n);case 28:e.next=34;break;case 30:return e.prev=30,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 34:return e.abrupt("return",!0);case 35:case"end":return e.stop()}}),e,this,[[0,30]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkRepository",value:function(e,t,n,r,i){if("number"!==typeof e.ageSuitability)throw new Error("Invalid 'repository.ageSuitability'");if(!e.createdAt||"string"!==typeof e.createdAt)throw new Error("Invalid 'repository.createdAt'");if(e.createdAt=new Date(e.createdAt),"boolean"!==typeof e.immutable)throw new Error("Invalid 'repository.immutable'");if(!e.source||"string"!==typeof e.source)throw new Error("Invalid 'repository.source'");if("string"!==typeof e.GUID||36!==e.GUID.length)throw new Error("Invalid 'repository.GUID'");if("number"!==typeof e.owner)throw new Error("Expecting \"in-message index\" (number)\n\t\t\t\tin 'repository.owner'");var o=i.userAccounts[e.owner];if(!o)throw new Error('Did not find repository.owner (UserAccount) with "in-message index" '.concat(e.owner));e.owner=o,n.push(e.GUID),"number"===typeof t&&r.set(e.GUID,t),delete e._localId}}]),e}(),kl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureTerminals",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h,m,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],i=new Map,o=0;case 4:if(!(o<t.terminals.length)){e.next=22;break}if("number"===typeof(a=t.terminals[o]).owner){e.next=8;break}throw new Error("Expecting \"in-message index\" (number)\n\t\t\t\t\tin 'terminal.owner' of RepositorySynchronizationMessage.terminals");case 8:if("string"===typeof a.GUID&&36===a.GUID.length){e.next=10;break}throw new Error("Invalid 'terminal.GUID' in RepositorySynchronizationMessage.terminals");case 10:if(void 0===a.isLocal){e.next=12;break}throw new Error("'terminal.isLocal' cannot defined in RepositorySynchronizationMessage.terminals");case 12:if(a.isLocal=!1,l=t.userAccounts[a.owner]){e.next=16;break}throw new Error('Did not find userAccount for terminal.owner with "in-message index" '.concat(a.owner,"\n\t\t\t\t\t\tfor RepositorySynchronizationMessage.terminals"));case 16:a.owner=l,r.push(a.GUID),i.set(a.GUID,o);case 19:o++,e.next=4;break;case 22:return e.next=24,this.terminalDao.findByGUIDs(r);case 24:c=e.sent,u=new Map,d=(0,f.Z)(c);try{for(d.s();!(p=d.n()).done;)h=p.value,u.set(h.GUID,h),m=i.get(h.GUID),t.terminals[m]=h}catch(s){d.e(s)}finally{d.f()}if(!(v=t.terminals.filter((function(e){return!u.has(e.GUID)}))).length){e.next=32;break}return e.next=32,this.addMissingTerminals(v,n);case 32:e.next=38;break;case 34:return e.prev=34,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 38:return e.abrupt("return",!0);case 39:case"end":return e.stop()}}),e,this,[[0,34]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addMissingTerminals",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,f.Z)(t);try{for(r.s();!(i=r.n()).done;)i.value.isLocal=!1}catch(o){r.e(o)}finally{r.f()}return e.next=4,this.terminalDao.insert(t,n);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),El=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureUserAccounts",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=[],i=new Map,o=0;case 4:if(!(o<t.userAccounts.length)){e.next=15;break}if("string"===typeof(a=t.userAccounts[o]).GUID&&36===a.GUID.length){e.next=8;break}throw new Error("Invalid 'userAccount.GUID'");case 8:if(!("string"!==typeof a.username||a.username.length<3)){e.next=10;break}throw new Error("Invalid 'userAccount.username'");case 10:r.push(a.GUID),i.set(a.GUID,o);case 12:o++,e.next=4;break;case 15:return e.next=17,this.userAccountDao.findByGUIDs(r);case 17:l=e.sent,c=new Map,u=(0,f.Z)(l);try{for(u.s();!(d=u.n()).done;)p=d.value,c.set(p.GUID,p),h=i.get(p.GUID),t.userAccounts[h]=p}catch(s){u.e(s)}finally{u.f()}if(!(m=t.userAccounts.filter((function(e){return!c.has(e.GUID)}))).length){e.next=25;break}return e.next=25,this.addMissingUserAccounts(m,n);case 25:e.next=31;break;case 27:return e.prev=27,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this,[[0,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"addMissingUserAccounts",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,f.Z)(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=9;break}if((o=i.value).username&&"string"===typeof o.username){e.next=7;break}throw new Error("Invalid UserAccount.username ".concat(o.username));case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),r.e(e.t0);case 14:return e.prev=14,r.f(),e.finish(14);case 17:return e.next=19,this.userAccountDao.insert(t,n);case 19:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Il=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"performStage1DataProcessing",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U,F,B,j,H,G,z,$,q,Y,W,Q,J,X,K,ee,te,ne,re,ie,oe,ae,se,le,ue,de,pe,fe;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.populateSystemWideOperationIds(t);case 2:i=new Map,o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;){l=(0,p.Z)(a.value,2),c=l[0],u=l[1],d={actorRecordIdsByLocalIds:new Map,firstChangeTime:(new Date).getTime()+1e10},i.set(c,d),h=(0,f.Z)(u);try{for(h.s();!(m=h.n()).done;){v=m.value,v.saveTimestamp<d.firstChangeTime&&(d.firstChangeTime=v.saveTimestamp),y=(0,f.Z)(v.operationHistory);try{for(y.s();!(g=y.n()).done;){b=g.value,x=Pe(d.actorRecordIdsByLocalIds,b.entity._localId),w=(0,f.Z)(b.recordHistory);try{for(w.s();!(k=w.n()).done;){E=k.value,Ue(x,E.actor._localId).add(E._actorRecordId),I=new Map,E.newValueMap=I,R=(0,f.Z)(E.newValues);try{for(R.s();!(T=R.n()).done;)_=T.value,I.set(_.columnIndex,_)}catch(r){R.e(r)}finally{R.f()}}}catch(r){w.e(r)}finally{w.f()}}}catch(r){y.e(r)}finally{y.f()}}}catch(r){h.e(r)}finally{h.f()}}}catch(r){o.e(r)}finally{o.f()}return S=new Map,A=this.getDeletedRecordIdsAndPopulateAllHistoryMap(S,t),e.next=9,this.repositoryTransactionHistoryDao.findAllLocalChangesForRecordIds(i);case 9:N=e.sent,Z=this.getDeletedRecordIdsAndPopulateAllHistoryMap(S,N,!0),C=new Set,O=(0,f.Z)(N);try{for(O.s();!(D=O.n()).done;){M=(0,p.Z)(D.value,2),M[0],V=M[1],L=(0,f.Z)(V);try{for(L.s();!(P=L.n()).done;){U=P.value,F=(0,f.Z)(U.operationHistory);try{for(F.s();!(B=F.n()).done;)j=B.value,H=j.actor._localId,void 0===n.get(H)&&C.add(H)}catch(r){F.e(r)}finally{F.f()}}}catch(r){L.e(r)}finally{L.f()}}}catch(r){O.e(r)}finally{O.f()}if(!C.size){e.next=20;break}return e.next=17,this.actorDao.findWithDetailsAndGlobalIdsByIds(Array.from(C));case 17:G=e.sent,z=(0,f.Z)(G);try{for(z.s();!($=z.n()).done;)q=$.value,n.set(q._localId,q)}catch(r){z.e(r)}finally{z.f()}case 20:Y=(0,f.Z)(S);try{for(Y.s();!(W=Y.n()).done;)Q=(0,p.Z)(W.value,2),Q[0],J=Q[1],this.repositoryTransactionHistoryDuo.sortRepoTransHistories(J,n)}catch(r){Y.e(r)}finally{Y.f()}X=new Map,K=new Map,ee=new Map,te=new Map,ne=(0,f.Z)(S),e.prev=27,ne.s();case 29:if((re=ne.n()).done){e.next=72;break}ie=(0,p.Z)(re.value,2),oe=ie[0],ae=ie[1],se=(0,f.Z)(ae),e.prev=32,se.s();case 34:if((le=se.n()).done){e.next=62;break}ue=le.value,de=(0,f.Z)(ue.operationHistory),e.prev=37,de.s();case 39:if((pe=de.n()).done){e.next=52;break}fe=pe.value,e.t0=fe.changeType,e.next=e.t0===ce.INSERT_VALUES?44:e.t0===ce.UPDATE_ROWS?46:e.t0===ce.DELETE_ROWS?48:50;break;case 44:return this.processCreation(oe,fe,ue.isLocal,X,K,ee,A,Z,te),e.abrupt("break",50);case 46:return this.processUpdate(oe,fe,ue.isLocal,X,K,A,Z,te),e.abrupt("break",50);case 48:return this.processDeletion(oe,fe,X,K,ee,Z),e.abrupt("break",50);case 50:e.next=39;break;case 52:e.next=57;break;case 54:e.prev=54,e.t1=e.catch(37),de.e(e.t1);case 57:return e.prev=57,de.f(),e.finish(57);case 60:e.next=34;break;case 62:e.next=67;break;case 64:e.prev=64,e.t2=e.catch(32),se.e(e.t2);case 67:return e.prev=67,se.f(),e.finish(67);case 70:e.next=29;break;case 72:e.next=77;break;case 74:e.prev=74,e.t3=e.catch(27),ne.e(e.t3);case 77:return e.prev=77,ne.f(),e.finish(77);case 80:return e.abrupt("return",{recordCreations:X,recordDeletions:ee,recordUpdates:K,syncConflictMapByRepoId:te});case 81:case"end":return e.stop()}}),e,this,[[27,74,77,80],[32,64,67,70],[37,54,57,60]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"populateSystemWideOperationIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,r=(0,f.Z)(t);try{for(r.s();!(i=r.n()).done;){o=(0,p.Z)(i.value,2),o[0],a=o[1],l=(0,f.Z)(a);try{for(l.s();!(c=l.n()).done;)u=c.value,n+=u.operationHistory.length}catch(s){l.e(s)}finally{l.f()}}}catch(s){r.e(s)}finally{r.f()}return e.next=5,li(n,this.airportDatabase,this.sequenceGenerator);case 5:d=e.sent,h=0,m=(0,f.Z)(t);try{for(m.s();!(v=m.n()).done;){y=(0,p.Z)(v.value,2),y[0],g=y[1],b=(0,f.Z)(g);try{for(b.s();!(x=b.n()).done;){w=x.value,k=(0,f.Z)(w.operationHistory);try{for(k.s();!(E=k.n()).done;)E.value.systemWideOperationId=d[h],h++}catch(s){k.e(s)}finally{k.f()}}}catch(s){b.e(s)}finally{b.f()}}}catch(s){m.e(s)}finally{m.f()}case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ensureRecordHistoryLocalId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e._actorRecordId;Pe(t,e.actor._localId).set(n,e._localId)}},{key:"getDeletedRecordIdsAndPopulateAllHistoryMap",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=new Map,o=(0,f.Z)(t);try{for(o.s();!(n=o.n()).done;){var a=(0,p.Z)(n.value,2),s=a[0],l=a[1];this.mergeArraysInMap(e,s,l);var c,u=(0,f.Z)(l);try{for(u.s();!(c=u.n()).done;){var d=c.value;d.isLocal=r;var h,m=(0,f.Z)(d.operationHistory);try{for(m.s();!(h=m.n()).done;){var v=h.value;if(v.changeType===ce.DELETE_ROWS){var y,g=(0,f.Z)(v.recordHistory);try{for(g.s();!(y=g.n()).done;){var b=y.value;this.ensureRecordHistoryLocalId(b,this.syncInUtils.ensureRecordMapForRepoInTable(s,v,i))}}catch(x){g.e(x)}finally{g.f()}}}}catch(x){m.e(x)}finally{m.f()}}}catch(x){u.e(x)}finally{u.f()}}}catch(x){o.e(x)}finally{o.f()}return i}},{key:"mergeArraysInMap",value:function(e,t,n){var r=e.get(t);r=r?r.concat(n):n,e.set(t,r)}},{key:"processCreation",value:function(e,t,n,r,i,o,a,s,l){var c,u=this.getRecordsForRepoInTable(e,t,i),d=this.getRecordsForRepoInTable(e,t,o),p=this.getRecordsForRepoInTable(e,t,a),h=this.getRecordsForRepoInTable(e,t,s),m=this.syncInUtils.ensureRecordMapForRepoInTable(e,t,r),v=(0,f.Z)(t.recordHistory);try{for(v.s();!(c=v.n()).done;){var y=c.value;if(this.getRecord(y,m))throw new Error("A record is being created more than once.\n\t\t\t\t\t".concat(this.getRecordInfo(e,t,y),"\n\t\t\t\t\tThis is not possible if every remote change is only processed once.\n\t\t\t\t\t"));if(n)throw new Error("Remotely mutated record is being created locally.\n\t\t\t\t\t".concat(this.getRecordInfo(e,t,y),"\n\t\t\t\t\tThis is not possible if changes are never sent to originating TMs.\n\t\t\t\t\t"));if(this.hasRecordId(y,d))throw new Error("\n\t\t\t\tRemotely created record is being deleted remotely before it's been created.\n\t\t\t\t\t".concat(this.getRecordInfo(e,t,y),"\n\t\t\t\t\tThis is not possible if all server clocks are synced.\n\t\t\t\t\t"));if(this.getRecordHistoryLocalId(y,h))throw new Error("Remotely created record is being deleted locally.\n\t\t\t\t\t".concat(this.getRecordInfo(e,t,y),"\n\t\t\t\t\tThis is not possible if every remote change is only processed once.\n\t\t\t\t\t"));var g=this.getRecordHistoryLocalId(y,p);if(g)this.addSyncConflict(Ys.REMOTE_CREATE_REMOTELY_DELETED,e,y,{_localId:g},l);else{var b=this.ensureColumnValueMap(y,m);if(this.getRecord(y,u))throw new Error("Remotely created record is being updated BEFORE it is created.\n\t\t\t\t\t".concat(this.getRecordInfo(e,t,y),"\n\t\t\t\t\tThis is not possible if all server clocks are synced.\n\t\t\t\t\t"));var x,w=(0,f.Z)(y.newValues);try{for(w.s();!(x=w.n()).done;){var k=x.value;b.set(k.columnIndex,k.newValue)}}catch(E){w.e(E)}finally{w.f()}}}}catch(E){v.e(E)}finally{v.f()}}},{key:"processUpdate",value:function(e,t,n,r,i,o,a,s){var l,c=this.getRecordsForRepoInTable(e,t,r),u=this.getRecordsForRepoInTable(e,t,o),d=this.getRecordsForRepoInTable(e,t,a),p=this.syncInUtils.ensureRecordMapForRepoInTable(e,t,i),h=(0,f.Z)(t.recordHistory);try{for(h.s();!(l=h.n()).done;){var m=l.value,v=this.getRecordHistoryLocalId(m,d);if(v)n||this.addSyncConflict(Ys.REMOTE_UPDATE_LOCALLY_DELETED,e,m,{_localId:v},s);else{var y=this.getRecordHistoryLocalId(m,u);if(y)n&&this.addSyncConflict(Ys.LOCAL_UPDATE_REMOTELY_DELETED,e,m,{_localId:y},s);else{var g=this.getRecord(m,c);if(g){if(n)throw new Error("Remotely created records are being updated locally.\n\t\t\t\t\t".concat(this.getRecordInfo(e,t,m),"\n\t\t\t\t\tThis is not possible if every remote change is only processed once.\n\t\t\t\t\t"));var b,x=(0,f.Z)(m.newValues);try{for(x.s();!(b=x.n()).done;){var w=b.value;g.set(w.columnIndex,w.newValue)}}catch(A){x.e(A)}finally{x.f()}}else{var k,E=this.ensureRecord(m,p),I=void 0,R=(0,f.Z)(m.newValues);try{for(R.s();!(k=R.n()).done;){var T=k.value;if(n){var _=T.columnIndex,S=E.get(_);S&&(I||((I=this.addSyncConflict(Ys.REMOTE_UPDATE_LOCALLY_UPDATED,e,{_localId:S.recordHistoryLocalId},{_localId:y},s)).values=[]),I.values.push({columnIndex:_,synchronizationConflict:I}),E.delete(T.columnIndex))}else E.set(T.columnIndex,{newValue:T.newValue,recordHistoryLocalId:m._localId})}}catch(A){R.e(A)}finally{R.f()}}}}}}catch(A){h.e(A)}finally{h.f()}}},{key:"processDeletion",value:function(e,t,n,r,i,o){var a,s=this.getRecordsForRepoInTable(e,t,n),l=this.getRecordsForRepoInTable(e,t,r),c=this.getRecordsForRepoInTable(e,t,o),u=this.syncInUtils.ensureRecordMapForRepoInTable(e,t,i),d=(0,f.Z)(t.recordHistory);try{for(d.s();!(a=d.n()).done;){var p=a.value,h=this.getRecordsForActor(p,s);if(h&&h.get(p._actorRecordId))h.delete(p._actorRecordId);else{var m=this.getRecordsForActor(p,l);m&&m.get(p._actorRecordId)&&m.delete(p._actorRecordId),this.getRecordHistoryLocalId(p,c)||Ue(u,p.actor._localId).add(p._actorRecordId)}}}catch(v){d.e(v)}finally{d.f()}}},{key:"getRecordsForRepoInTable",value:function(e,t,n){var r,i,o=n.get(t.entity.applicationVersion._localId);return o&&(r=o.get(t.entity._localId)),r&&(i=r.get(e)),i}},{key:"getRecord",value:function(e,t){var n=this.getRecordsForActor(e,t);return n?n.get(e._actorRecordId):null}},{key:"hasRecordId",value:function(e,t){var n=this.getRecordsForActor(e,t);return!!n&&n.has(e._actorRecordId)}},{key:"getRecordHistoryLocalId",value:function(e,t){var n=this.getRecordsForActor(e,t);return n?n.get(e._actorRecordId):null}},{key:"getRecordsForActor",value:function(e,t){var n;return t&&(n=t.get(e.actor._localId)),n}},{key:"getRecordInfo",value:function(e,t,n){return"\n\t\tApplication Version ID: ".concat(t.entity.applicationVersion._localId,"\n\t\tEntity ID:         ").concat(t.entity._localId,"\n\t\tRepository ID:     ").concat(e,"\n\t\tActor ID:          ").concat(n.actor._localId,"\n\t\tActor Record ID:   ").concat(n._actorRecordId,"\n\t\t")}},{key:"addSyncConflict",value:function(e,t,n,r,i){var o=this.createSynchronizationConflict(e,t,n,r);return Ve(i,t).push(o),o}},{key:"createSynchronizationConflict",value:function(e,t,n,r){return{_localId:null,overwrittenRecordHistory:n,overwritingRecordHistory:r,repository:{_localId:t},type:e}}},{key:"ensureColumnValueMap",value:function(e,t){return Pe(Pe(t,e.actor._localId),e._actorRecordId)}},{key:"ensureRecord",value:function(e,t){return Pe(Pe(t,e.actor._localId),e._actorRecordId)}}]),e}(),Rl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"applyChangesToDb",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={},e.next=3,this.performCreates(t.recordCreations,n,r);case 3:return e.next=5,this.performUpdates(t.recordUpdates,n,r);case 5:return e.next=7,this.performDeletes(t.recordDeletions,n,r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"performCreates",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U,F,B,j,H,G,z,$,q,Y,W,Q,J,X,K,ee,te=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,f.Z)(t),e.prev=1,i.s();case 3:if((o=i.n()).done){e.next=41;break}a=(0,p.Z)(o.value,2),l=a[0],c=a[1],u=(0,f.Z)(c),e.prev=6,u.s();case 8:if((d=u.n()).done){e.next=31;break}h=(0,p.Z)(d.value,2),m=h[0],v=h[1],y=n.get(l).index,g=this.airportDatabase.applications[y].currentVersion[0].applicationVersion.entities[m],b=this.airportDatabase.qApplications[y][g.name],x=[b.repository._localId,b.actor._localId,b._actorRecordId],w=this.getNonIdColumnsInIndexOrder(g),k=!0,E=0,I=[],R=(0,f.Z)(v);try{for(R.s();!(T=R.n()).done;){_=(0,p.Z)(T.value,2),S=_[0],A=_[1],N=(0,f.Z)(A);try{for(N.s();!(Z=N.n()).done;){C=(0,p.Z)(Z.value,2),O=C[0],D=C[1],M=(0,f.Z)(D);try{for(M.s();!(V=M.n()).done;){L=(0,p.Z)(V.value,2),P=L[0],U=L[1],F=[S,O,P],B=[],j=(0,f.Z)(U);try{for(j.s();!(H=j.n()).done;)G=(0,p.Z)(H.value,2),z=G[0],$=G[1],B.push([z,$])}catch(s){j.e(s)}finally{j.f()}for(B.length&&E++,B.sort((function(e,t){return te.utils.compareNumbers(e[0],t[0])})),q=0,Y=0,W=B;Y<W.length;Y++){for(Q=(0,p.Z)(W[Y],2),J=Q[0],X=Q[1],K=w[q];K.index<J;)k&&x.push(b.__driver__.allColumns[K.index]),F.push(null),q++,K=w[q];k&&x.push(b.__driver__.allColumns[J]),F.push(X),q++}B.length&&I.push(F),k=!1}}catch(s){M.e(s)}finally{M.f()}}}catch(s){N.e(s)}finally{N.f()}}}catch(s){R.e(s)}finally{R.f()}if(!E){e.next=29;break}return ee=r.dbEntity,r.dbEntity=b.__driver__.dbEntity,e.prev=23,e.next=26,this.databaseFacade.insertValues({INSERT_INTO:b,columns:x,VALUES:I},r);case 26:return e.prev=26,r.dbEntity=ee,e.finish(26);case 29:e.next=8;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(6),u.e(e.t0);case 36:return e.prev=36,u.f(),e.finish(36);case 39:e.next=3;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(1),i.e(e.t1);case 46:return e.prev=46,i.f(),e.finish(46);case 49:case"end":return e.stop()}}),e,this,[[1,43,46,49],[6,33,36,39],[23,,26,29]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getNonIdColumnsInIndexOrder",value:function(e){var t,n=this,r=[],i=(0,f.Z)(e.columns);try{for(i.s();!(t=i.n()).done;){var o=t.value;switch(o.name){case Q.ACTOR_LID:case Q.ACTOR_RECORD_ID:case Q.REPOSITORY_LID:continue}r.push(o)}}catch(a){i.e(a)}finally{i.f()}return r.sort((function(e,t){return n.utils.compareNumbers(e.index,t.index)})),r}},{key:"performUpdates",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U,F,B,j,H,G,z,$,q,Y,W,Q,J;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,o=[],a=(0,f.Z)(t);try{for(a.s();!(l=a.n()).done;){c=(0,p.Z)(l.value,2),u=c[0],d=c[1],h=Pe(i,u),m=(0,f.Z)(d);try{for(m.s();!(v=m.n()).done;){y=(0,p.Z)(v.value,2),g=y[0],b=y[1],x=Pe(h,g),w=(0,f.Z)(b);try{for(w.s();!(k=w.n()).done;){E=(0,p.Z)(k.value,2),I=E[0],R=E[1],T=(0,f.Z)(R);try{for(T.s();!(_=T.n()).done;){S=(0,p.Z)(_.value,2),A=S[0],N=S[1],Z=(0,f.Z)(N);try{for(Z.s();!(C=Z.n()).done;){O=(0,p.Z)(C.value,2),D=O[0],M=O[1],Ue(Pe(this.getRecordKeyMap(M,x),I),A).add(D),V=(0,f.Z)(M);try{for(V.s();!(L=V.n()).done;)P=(0,p.Z)(L.value,2),U=P[0],F=P[1],o.push([u,g,I,A,D,U,F.newValue])}catch(r){V.e(r)}finally{V.f()}}}catch(r){Z.e(r)}finally{Z.f()}}}catch(r){T.e(r)}finally{T.f()}}}catch(r){w.e(r)}finally{w.f()}}}catch(r){m.e(r)}finally{m.f()}}}catch(r){a.e(r)}finally{a.f()}if(o.length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.recordUpdateStageDao.insertValues(o);case 8:B=(0,f.Z)(i),e.prev=9,B.s();case 11:if((j=B.n()).done){e.next=33;break}H=(0,p.Z)(j.value,2),G=H[0],z=H[1],$=n.get(G),q=(0,f.Z)(z),e.prev=15,q.s();case 17:if((Y=q.n()).done){e.next=23;break}return W=(0,p.Z)(Y.value,2),Q=W[0],J=W[1],e.next=21,this.runUpdatesForTable($.index,G,Q,J);case 21:e.next=17;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),q.e(e.t0);case 28:return e.prev=28,q.f(),e.finish(28);case 31:e.next=11;break;case 33:e.next=38;break;case 35:e.prev=35,e.t1=e.catch(9),B.e(e.t1);case 38:return e.prev=38,B.f(),e.finish(38);case 41:return e.next=43,this.recordUpdateStageDao.delete();case 43:case"end":return e.stop()}}),e,this,[[9,35,38,41],[15,25,28,31]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"performDeletes",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=(0,f.Z)(t),e.prev=1,i.s();case 3:if((o=i.n()).done){e.next=38;break}a=(0,p.Z)(o.value,2),l=a[0],c=a[1],u=n.get(l),d=(0,f.Z)(c),e.prev=7,d.s();case 9:if((h=d.n()).done){e.next=28;break}m=(0,p.Z)(h.value,2),v=m[0],y=m[1],g=this.airportDatabase.applications[u.index].currentVersion[0].applicationVersion.entities[v],b=this.airportDatabase.qApplications[u.index][g.name],x=0,w=[],k=(0,f.Z)(y);try{for(k.s();!(E=k.n()).done;){I=(0,p.Z)(E.value,2),R=I[0],T=I[1],_=[],S=(0,f.Z)(T);try{for(S.s();!(A=S.n()).done;)N=(0,p.Z)(A.value,2),Z=N[0],C=N[1],x++,_.push(lt(b._actorRecordId.IN(Array.from(C)),b.actor._localId.equals(Z)))}catch(s){S.e(s)}finally{S.f()}w.push(lt(b.repository._localId.equals(R),ct.apply(void 0,_)))}}catch(s){k.e(s)}finally{k.f()}if(!x){e.next=26;break}return O=r.dbEntity,r.dbEntity=b.__driver__.dbEntity,e.prev=20,e.next=23,this.databaseFacade.deleteWhere({DELETE_FROM:b,WHERE:ct.apply(void 0,w)},r);case 23:return e.prev=23,r.dbEntity=O,e.finish(23);case 26:e.next=9;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(7),d.e(e.t0);case 33:return e.prev=33,d.f(),e.finish(33);case 36:e.next=3;break;case 38:e.next=43;break;case 40:e.prev=40,e.t1=e.catch(1),i.e(e.t1);case 43:return e.prev=43,i.f(),e.finish(43);case 46:case"end":return e.stop()}}),e,this,[[1,40,43,46],[7,30,33,36],[20,,23,26]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getRecordKeyMap",value:function(e,t){var n,r,i=[],o=(0,f.Z)(e.keys());try{for(o.s();!(n=o.n()).done;){var a=n.value;i.push(a)}}catch(d){o.e(d)}finally{o.f()}i.sort(this.utils.compareNumbers);for(var s=t,l=0,c=i;l<c.length;l++){var u=c[l];(r=s.get(u))||(r={childColumnUpdateKeyMap:new Map,recordKeyMap:new Map,updatedColumns:null},s.set(u,r)),s=r.childColumnUpdateKeyMap}return r.updatedColumns=i,r.recordKeyMap}},{key:"runUpdatesForTable",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=(0,f.Z)(i.values()),e.prev=1,o.s();case 3:if((a=o.n()).done){e.next=13;break}if(l=a.value,!(c=l.updatedColumns)){e.next=9;break}return e.next=9,this.recordUpdateStageDao.updateEntityWhereIds(t,n,r,l.recordKeyMap,c);case 9:return e.next=11,this.runUpdatesForTable(t,n,r,l.childColumnUpdateKeyMap);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),o.e(e.t0);case 18:return e.prev=18,o.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[1,15,18,21]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}(),Tl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"receiveMessages",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,c,u,p,h,m,v,y=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),e.next=3,this.repositoryTransactionHistoryDao.findWhereGUIDsIn((0,d.Z)(t.keys()));case 3:i=e.sent,o=(0,f.Z)(i);try{for(o.s();!(a=o.n()).done;)c=a.value,t.delete(c.GUID)}catch(g){o.e(g)}finally{o.f()}if(t.size){e.next=8;break}return e.abrupt("return");case 8:u=[],p=this.timeOrderMessages(t),h=(0,f.Z)(p),e.prev=11,v=(0,s.Z)().mark((function e(){var t,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=m.value,y.isValidLastChangeTime(r,t.syncTimestamp,"Sync Timestamp")){e.next=3;break}return e.abrupt("return","continue");case 3:if(y.isValidLastChangeTime(t.syncTimestamp,t.history.saveTimestamp,"Sync Timestamp","Save Timestamp")){e.next=5;break}return e.abrupt("return","continue");case 5:return i=!0,e.next=8,y.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.syncInChecker.checkMessage(t,n);case 2:if(e.sent){e.next=6;break}return r.rollback(null,n),i=!1,e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),null,n);case 8:i&&u.push(t);case 9:case"end":return e.stop()}}),e)})),h.s();case 14:if((m=h.n()).done){e.next=21;break}return e.delegateYield(v(),"t0",16);case 16:if("continue"!==e.t0){e.next=19;break}return e.abrupt("continue",19);case 19:e.next=14;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(11),h.e(e.t1);case 26:return e.prev=26,h.f(),e.finish(26);case 29:return e.next=31,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSync=!0,e.next=3,y.twoStageSyncedInDataProcessor.syncMessages(u,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),null,n);case 31:case"end":return e.stop()}}),e,this,[[11,23,26,29]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"timeOrderMessages",value:function(e){var t=(0,d.Z)(e.values());return t.sort((function(e,t){if(e.syncTimestamp<t.syncTimestamp)return-1;if(e.syncTimestamp>t.syncTimestamp)return 1;var n=e.history,r=t.history;return n.saveTimestamp<r.saveTimestamp?-1:n.saveTimestamp>r.saveTimestamp?1:0})),t}},{key:"isValidLastChangeTime",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Reception Time:";return!(e<t)||(console.error("Message ".concat(r," is less than\n\t\t\tthe ").concat(n," in received message:\n\t\t\t\t").concat(r,":               ").concat(e,"\n\t\t\t\t").concat(n,":           ").concat(t,"\n\t\t\t")),!1)}}]),e}();!function(e){e[e.MESSAGE_APPLICATION_VERSION_IS_LOWER=-1]="MESSAGE_APPLICATION_VERSION_IS_LOWER",e[e.MESSAGE_APPLICATION_VERSION_IS_EQUAL=0]="MESSAGE_APPLICATION_VERSION_IS_EQUAL",e[e.MESSAGE_APPLICATION_VERSION_IS_HIGHER=1]="MESSAGE_APPLICATION_VERSION_IS_HIGHER"}(fl||(fl={}));var _l=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureRecordMapForRepoInTable",value:function(e,t,n){return Pe(Pe(Pe(n,t.entity.applicationVersion._localId),t.entity.index),e)}}]),e}(),Sl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"syncMessages",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.aggregateHistoryRecords(t,n),e.next=3,this.getDataStructures(t);case 3:return i=e.sent,o=i.actorMapById,a=i.repositoryTransactionHistoryMapByRepositoryId,l=i.applicationsByApplicationVersion_LocalIdMap,e.next=9,this.updateLocalData(a,o,l,r);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"aggregateHistoryRecords",value:function(e,t){var n=t.transactionHistory;n.transactionType=le.REMOTE_SYNC;var r,i=(0,f.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value.history;n.repositoryTransactionHistories.push(o),o.repositoryTransactionType=ha.REMOTE,n.allOperationHistory=n.allOperationHistory.concat(o.operationHistory),o.operationHistory.forEach((function(e){n.allRecordHistory=n.allRecordHistory.concat(e.recordHistory),e.recordHistory.forEach((function(e){e.newValues&&e.newValues.length&&(n.allRecordHistoryNewValues=n.allRecordHistoryNewValues.concat(e.newValues)),e.oldValues&&e.oldValues.length&&(n.allRecordHistoryOldValues=n.allRecordHistoryOldValues.concat(e.oldValues))}))}))}}catch(a){i.e(a)}finally{i.f()}}},{key:"getDataStructures",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,h,m,v,y,g,b,x,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,r=new Map,i=new Map,o=[],a=(0,f.Z)(t);try{for(a.s();!(l=a.n()).done;){c=l.value,o.push(c.history),n.set(c.history.repository._localId,o),u=(0,f.Z)(c.actors);try{for(u.s();!(d=u.n()).done;)h=d.value,i.set(h._localId,h)}catch(s){u.e(s)}finally{u.f()}m=(0,f.Z)(c.applicationVersions);try{for(m.s();!(v=m.n()).done;)y=v.value,r.set(y._localId,y.application)}catch(s){m.e(s)}finally{m.f()}}}catch(s){a.e(s)}finally{a.f()}g=(0,f.Z)(n);try{for(g.s();!(b=g.n()).done;)x=(0,p.Z)(b.value,2),x[0],w=x[1],this.repositoryTransactionHistoryDuo.sortRepoTransHistories(w,i)}catch(s){g.e(s)}finally{g.f()}return e.abrupt("return",{actorMapById:i,repositoryTransactionHistoryMapByRepositoryId:n,applicationsByApplicationVersion_LocalIdMap:r});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateLocalData",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c,u,d,h,m,v,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stage1SyncedInDataProcessor.performStage1DataProcessing(t,n,i);case 2:o=e.sent,a=[],l=[],c=(0,f.Z)(o.syncConflictMapByRepoId);try{for(c.s();!(u=c.n()).done;){d=(0,p.Z)(u.value,2),d[0],h=d[1],a=a.concat(h),m=(0,f.Z)(h);try{for(m.s();!(v=m.n()).done;)(y=v.value).values.length&&(l=l.concat(y.values))}catch(s){m.e(s)}finally{m.f()}}}catch(s){c.e(s)}finally{c.f()}return e.next=9,this.stage2SyncedInDataProcessor.applyChangesToDb(o,r);case 9:if(!a.length){e.next=12;break}return e.next=12,this.synchronizationConflictDao.insert(a,i);case 12:if(!l.length){e.next=15;break}return e.next=15,this.synchronizationConflictValuesDao.insert(l,i);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}(),Al={},Nl={},Zl={},Cl=function(){function t(){(0,c.Z)(this,t)}return(0,u.Z)(t,[{key:"serialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=[],i=(0,f.Z)(t),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=16;break}if((a=o.value).repositoryTransactionType===ha.LOCAL){e.next=9;break}return e.abrupt("continue",14);case 9:return e.next=11,this.serializeMessage(a);case 11:l=e.sent,n.push(a),r.push(l);case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(3),i.e(e.t0);case 21:return e.prev=21,i.f(),e.finish(21);case 24:return e.abrupt("return",{historiesToSend:n,messages:r});case 25:case"end":return e.stop()}}),e,this,[[3,18,21,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"serializeMessage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={actorInMessageIndexesById:new Map,applicationVersionInMessageIndexesById:new Map,applicationVersions:[],lastInMessageActorIndex:-1,lastInMessageApplicationVersionIndex:-1,lastInMessageRepositoryIndex:-1,messageRepository:t.repository,repositoryInMessageIndexesById:new Map},r={inMessageIndexesByGUID:new Map,lastInMessageIndex:-1},(i={actors:[],applicationVersions:[],applications:[],history:null,referencedRepositories:[],userAccounts:[],terminals:[]}).history=this.serializeRepositoryTransactionHistory(t,i,n,r),e.next=6,this.serializeRepositories(t,i,n,r);case 6:return e.next=8,this.serializeActorsUserAccountsAndTerminals(i,n,r);case 8:return o=e.sent,e.next=11,this.serializeApplicationsAndVersions(i,o,n);case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serializeActorsUserAccountsAndTerminals",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){var o,a,l,c,u,d,p,h,m,v,y,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],a=(0,f.Z)(n.actorInMessageIndexesById.keys());try{for(a.s();!(l=a.n()).done;)c=l.value,o.push(c)}catch(s){a.e(s)}finally{a.f()}return e.next=5,this.actorDao.findWithDetailsAndGlobalIdsByIds(o);case 5:u=e.sent,this.serializeUserAccounts(u,t,i),d=this.serializeTerminals(u,t,i),p={lastInMessageIndex:-1,inMessageIndexesById:new Map},h=(0,f.Z)(u);try{for(h.s();!(m=h.n()).done;)v=m.value,y=this.serializeApplication(v.application,p,t),g=n.actorInMessageIndexesById.get(v._localId),t.actors[g]=r(r({},Al),{},{application:y,terminal:d.get(v.terminal.GUID),userAccount:i.inMessageIndexesByGUID.get(v.userAccount.GUID),GUID:v.GUID})}catch(s){h.e(s)}finally{h.f()}return e.abrupt("return",p);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"serializeTerminals",value:function(e,t,n){var i,o=-1,a=new Map,s=(0,f.Z)(e);try{for(s.s();!(i=s.n()).done;){var l=i.value.terminal;if(!a.has(l.GUID)){var c=++o;a.set(l.GUID,c),t.terminals[c]=r(r({},Al),{},{GUID:l.GUID,owner:n.inMessageIndexesByGUID.get(l.owner.GUID)})}}}catch(u){s.e(u)}finally{s.f()}return a}},{key:"serializeUserAccounts",value:function(e,t,n){var r,i=(0,f.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;this.addUserAccountToMessage(o.userAccount,t,n),this.addUserAccountToMessage(o.terminal.owner,t,n)}}catch(a){i.e(a)}finally{i.f()}}},{key:"addUserAccountToMessage",value:function(e,t,n){var i=this.getUserAccountInMessageIndex(e,n);return t.userAccounts[i]=r(r({},Al),{},{username:e.username,GUID:e.GUID}),i}},{key:"getUserAccountInMessageIndex",value:function(e,t){if(t.inMessageIndexesByGUID.has(e.GUID))return t.inMessageIndexesByGUID.get(e.GUID);var n=++t.lastInMessageIndex;return t.inMessageIndexesByGUID.set(e.GUID,n),n}},{key:"serializeRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c,u,d,p,h,m,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=[],a=(0,f.Z)(r.repositoryInMessageIndexesById.keys());try{for(a.s();!(l=a.n()).done;)c=l.value,o.push(c)}catch(s){a.e(s)}finally{a.f()}return o.push(t._localId),e.next=6,this.repositoryDao.findWithOwnerBy_LocalIds(o);case 6:u=e.sent,d=(0,f.Z)(u);try{for(d.s();!(p=d.n()).done;)h=p.value,m=this.getUserAccountInMessageIndex(h.owner,i),r.repositoryInMessageIndexesById.has(h._localId)?(v=r.repositoryInMessageIndexesById.get(h._localId),n.referencedRepositories[v]=this.serializeRepository(h,m)):"string"!==typeof n.history.repository&&(n.history.repository.owner=m,n.history.repository._localId=h._localId)}catch(s){d.e(s)}finally{d.f()}case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"serializeApplicationsAndVersions",value:function(e,t,n){for(var i=0;i<n.applicationVersions.length;i++){var o=n.applicationVersions[i],a=this.serializeApplication(o.application,t,e);e.applicationVersions[i]=r(r({},Al),{},{application:a,integerVersion:o.integerVersion})}}},{key:"serializeApplication",value:function(e,t,n){var i;return t.inMessageIndexesById.has(e.index)?i=t.inMessageIndexesById.get(e.index):(i=++t.lastInMessageIndex,t.inMessageIndexesById.set(e.index,i),n.applications[i]=r(r({},Zl),{},{domain:r(r({},Al),{},{name:e.domain.name}),name:e.name})),i}},{key:"serializeRepositoryTransactionHistory",value:function(e,t,n,i){e.operationHistory.sort((function(e,t){return e.orderNumber<t.orderNumber?-1:e.orderNumber>t.orderNumber?1:0}));var o,a=[],s=(0,f.Z)(e.operationHistory);try{for(s.s();!(o=s.n()).done;){var l=o.value;a.push(this.serializeOperationHistory(l,n))}}catch(c){s.e(c)}finally{s.f()}return r(r({},Al),{},{isRepositoryCreation:e.isRepositoryCreation,repository:this.serializeHistoryRepository(e,t,i),operationHistory:a,saveTimestamp:e.saveTimestamp,GUID:e.GUID})}},{key:"serializeHistoryRepository",value:function(e,t,n){if(e.isRepositoryCreation){var r=e.repository,i=this.addUserAccountToMessage(r.owner,t,n);return this.serializeRepository(r,i)}return e.repository.GUID}},{key:"serializeOperationHistory",value:function(e,t){var n,i=e.entity,o=[],a=(0,f.Z)(e.recordHistory);try{for(a.s();!(n=a.n()).done;){var s=n.value;o.push(this.serializeRecordHistory(e,s,i,t))}}catch(u){a.e(u)}finally{a.f()}var l,c=e.entity.applicationVersion;return t.applicationVersionInMessageIndexesById.has(c._localId)?l=t.applicationVersionInMessageIndexesById.get(c._localId):(l=++t.lastInMessageApplicationVersionIndex,t.applicationVersionInMessageIndexesById.set(c._localId,l)),t.applicationVersions[l]=c,r(r({},Al),{},{actor:this.getActorInMessageIndex(e.actor,t),changeType:e.changeType,entity:r(r({},Al),{},{applicationVersion:l,index:e.entity.index}),recordHistory:o})}},{key:"serializeRecordHistory",value:function(e,t,n,i){var o,a=new Map,s=(0,f.Z)(n.columns);try{for(s.s();!(o=s.n()).done;){var l=o.value;a.set(l.index,l)}}catch(k){s.e(k)}finally{s.f()}var c,u=[],d=(0,f.Z)(t.newValues);try{for(d.s();!(c=d.n()).done;){var p=c.value,h=a.get(p.columnIndex);u.push(this.serializeNewValue(p,h,i))}}catch(k){d.e(k)}finally{d.f()}var m,v=[],y=(0,f.Z)(t.oldValues);try{for(y.s();!(m=y.n()).done;){var g=m.value,b=a.get(g.columnIndex);v.push(this.serializeOldValue(g,b,i))}}catch(k){y.e(k)}finally{y.f()}var x=t.actor,w=r({},Al);return x._localId!==e.actor._localId&&(w.actor=this.getActorInMessageIndex(x,i)),u.length&&(w.newValues=u),v.length&&(w.oldValues=v),r(r({},w),{},{_actorRecordId:t._actorRecordId})}},{key:"getActorInMessageIndex",value:function(e,t){return e?this.getActorInMessageIndexById(e._localId,t):null}},{key:"getActorInMessageIndexById",value:function(e,t){var n;return t.actorInMessageIndexesById.has(e)?n=t.actorInMessageIndexesById.get(e):(n=++t.lastInMessageActorIndex,t.actorInMessageIndexesById.set(e,n)),n}},{key:"serializeNewValue",value:function(e,t,n){return this.serializeValue(e,t,n,"newValue")}},{key:"serializeOldValue",value:function(e,t,n){return this.serializeValue(e,t,n,"oldValue")}},{key:"serializeValue",value:function(t,n,i,o){var a=t[o],s=a;switch(n.name){case Q.SOURCE_ACTOR_ID:s=this.getActorInMessageIndexById(a,i);break;case Q.SOURCE_REPOSITORY_ID:s=this.getSerializedRepositoryId(a,i)}return/.*_AID_[\d]+$/.test(n.name)&&n.manyRelationColumns.length&&(s=this.getActorInMessageIndexById(a,i)),/.*_RID_[\d]+$/.test(n.name)&&n.manyRelationColumns.length&&(s=this.getSerializedRepositoryId(a,i)),r(r({},Nl),{},(0,e.Z)({columnIndex:t.columnIndex},o,s))}},{key:"getSerializedRepositoryId",value:function(e,t){if(e===t.messageRepository._localId)return-1;var n=t.repositoryInMessageIndexesById.get(e);return void 0===n&&(t.lastInMessageRepositoryIndex++,n=t.lastInMessageRepositoryIndex,t.repositoryInMessageIndexesById.set(e,n)),n}},{key:"serializeRepository",value:function(e,t){return r(r({},Al),{},{ageSuitability:e.ageSuitability,createdAt:e.createdAt,immutable:e.immutable,owner:t,source:e.source,GUID:e.GUID})}}]),t}(),Ol=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"synchronizeOut",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,d,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadHistoryRepositories(t);case 2:return e.next=4,this.syncOutDataSerializer.serialize(t);case 4:n=e.sent,r=n.historiesToSend,i=n.messages,o=this.groupMessagesBySourceAndRepository(i,r),a=(0,f.Z)(o),e.prev=9,a.s();case 11:if((l=a.n()).done){e.next=20;break}return c=(0,p.Z)(l.value,2),u=c[0],d=c[1],e.next=15,this.synchronizationAdapterLoader.load(u);case 15:return h=e.sent,e.next=18,h.sendTransactions(u,d);case 18:e.next=11;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(9),a.e(e.t0);case 25:return e.prev=25,a.f(),e.finish(25);case 28:return e.next=30,this.updateRepositoryTransactionHistories(i,r);case 30:case"end":return e.stop()}}),e,this,[[9,22,25,28]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadHistoryRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u,p,h,m,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Set,r=new Map,i=(0,f.Z)(t);try{for(i.s();!(o=i.n()).done;)a=o.value,n.add(a.repository._localId)}catch(s){i.e(s)}finally{i.f()}if(n.size){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.repositoryDao.findWithOwnerBy_LocalIds((0,d.Z)(n.values()));case 8:l=e.sent,c=(0,f.Z)(l);try{for(c.s();!(u=c.n()).done;)p=u.value,r.set(p._localId,p)}catch(s){c.e(s)}finally{c.f()}h=(0,f.Z)(t);try{for(h.s();!(m=h.n()).done;)(v=m.value).repository=r.get(v.repository._localId)}catch(s){h.e(s)}finally{h.f()}case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ensureGlobalRepositoryIdentifiers",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,p,h,m,v,y,g,b,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set,i=new Map,o=(0,f.Z)(t);try{for(o.s();!(a=o.n()).done;)l=a.value,(c=l.repository).source&&c.GUID?i.set(c._localId,c):r.add(c._localId)}catch(s){o.e(s)}finally{o.f()}if(r.size){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,this.repositoryDao.findWithOwnerBy_LocalIds((0,d.Z)(r.values()));case 8:u=e.sent,p=(0,f.Z)(u);try{for(p.s();!(h=p.n()).done;)m=h.value,i.set(m._localId,m)}catch(s){p.e(s)}finally{p.f()}v=(0,f.Z)(n);try{for(v.s();!(y=v.n()).done;)g=y.value,(b=g.history.repository).source&&b.GUID||(x=i.get(b._localId),b.source=x.source,b.GUID=x.GUID,delete b._localId)}catch(s){v.e(s)}finally{v.f()}case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"groupMessagesBySourceAndRepository",value:function(e,t){for(var n=new Map,r=0;r<e.length;r++){var i=t[r].repository;Ve(Pe(n,i.source),i.GUID).push(e[r])}return n}},{key:"updateRepositoryTransactionHistories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<t.length)){e.next=11;break}if(i=t[r],o=n[r],!i.syncTimestamp){e.next=8;break}return o.syncTimestamp=i.syncTimestamp,e.next=8,this.repositoryTransactionHistoryDao.updateSyncTimestamp(o);case 8:r++,e.next=1;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Dl=_("ground-transport");Dl.register(Il,Rl,vl,bl,xl,kl,wl,yl,gl,El,_l,Tl,Ol,Cl,Sl,hl,ml),Dl.setDependencies(hl,{client:pl}),Dl.setDependencies(Il,{actorDao:qa,airportDatabase:pi,repositoryTransactionHistoryDao:$a,repositoryTransactionHistoryDuo:es,sequenceGenerator:Ge,syncInUtils:_l}),Dl.setDependencies(Rl,{airportDatabase:pi,databaseFacade:$r,recordUpdateStageDao:ul,utils:ui}),Dl.setDependencies(vl,{actorDao:qa}),Dl.setDependencies(yl,{applicationDao:Ji,domainDao:Wi}),Dl.setDependencies(gl,{applicationVersionDao:io}),Dl.setDependencies(bl,{syncInActorChecker:vl,syncInApplicationChecker:yl,syncInApplicationVersionChecker:gl,syncInDataChecker:xl,syncInRepositoryChecker:wl,syncInTerminalChecker:kl,syncInUserAccountChecker:El}),Dl.setDependencies(xl,{airportDatabase:pi,sequenceGenerator:Ge,terminalStore:Ao}),Dl.setDependencies(wl,{repositoryDao:Ya}),Dl.setDependencies(kl,{terminalDao:Bs}),Dl.setDependencies(El,{userAccountDao:js}),Dl.setDependencies(Cl,{actorDao:qa,repositoryDao:Ya}),Dl.setDependencies(ml,{debugSynchronizationAdapter:hl}),Dl.setDependencies(Tl,{repositoryTransactionHistoryDao:$a,syncInChecker:bl,transactionManager:Uo,twoStageSyncedInDataProcessor:Sl}),Dl.setDependencies(Ol,{repositoryDao:Ya,repositoryTransactionHistoryDao:$a,synchronizationAdapterLoader:ml,syncOutDataSerializer:Cl}),Dl.setDependencies(Sl,{repositoryTransactionHistoryDuo:es,stage1SyncedInDataProcessor:Il,stage2SyncedInDataProcessor:Rl,synchronizationConflictDao:ll,synchronizationConflictValuesDao:cl});var Ml=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getLoggedInUser",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.terminalSessionManager.getUserSession();case 2:return t=e.sent,n=t.userAccount,e.abrupt("return",{email:n.email,username:n.username,GUID:n.GUID});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Vl={__constructors__:{},domain:"airport",name:"@airport/session-state"};globalThis.airApi&&globalThis.airApi.setQApp(Vl);var Ll=I({name:"@airport/session-state",domain:{name:"airport"}});Ll.register(Ml),Ll.setDependencies(Ml,{terminalSessionManager:Po});var Pl=function(){function e(){(0,c.Z)(this,e),this.queries=new Map}return(0,u.Z)(e,[{key:"add",value:function(e,t){this.queries.set(e,t)}},{key:"remove",value:function(e){this.queries.delete(e)}},{key:"markQueriesToRerun",value:function(e){this.queries.forEach((function(t){e.intersects(t.sqlQuery.getFieldMap())&&(t.rerun=!0)}))}},{key:"rerunQueries",value:function(){var e=this;setTimeout((function(){e.queries.forEach((function(e){e.rerun&&(e.rerun=!1,e.runQuery())}))}),100)}}]),e}(),Ul=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"wrapInObservable",value:function(e,t){var n=new co,r={portableQuery:e,resultsSubject:n,runQuery:function(){t().then((function(e){n.next(e)}))}};return this.activeQueries.add(e,r),r.runQuery(),n}}]),e}(),Fl=_("flight-number");Fl.register(Pl,Ul),Fl.setDependencies(Ul,{activeQueries:Pl});var Bl,jl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getFunctionCalls",value:function(e,t,n,r,i){var o=this;return e.appliedFunctions.forEach((function(e){t=o.getFunctionCall(e,t,n,r,i)})),t}}]),e}(),Hl=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getOrderByFragment",value:function(e,t,n){var r=this,i=[],o=[];this.orderBy&&(o=this.orderBy.slice());var a=[],s=this.rootSelectClauseFragment;a.push(s);var l=[],c=e;l.push(c);for(var u=function(){var e=r.relationManager.getAlias(c.jsonRelation),n=t[e].__driver__.dbEntity,u=[];o=o.filter((function(t){var i=r.airportDatabase.applications[t.si].currentVersion[0].applicationVersion.entities[t.ti],o=i.columns[t.ci];if(r.isForParentNode(c,t))throw new Error("Found out of order entry in Order By \n\t\t\t\t\t[".concat(i.applicationVersion.application.name," - ").concat(i.name,".").concat(o.name,"].\n\t\t\t\t\tEntries must be ordered hierarchically, in breadth-first order."));return t.si!==n.applicationVersion.application.index||t.ti!==n.index||(r.qValidator.validateReadProperty(o),t.fa="".concat(e,".").concat(o.name),u.push(t),!1)}));var d=[],p=[],h=function(){var e=n.propertyMap[m];if(e.relation&&e.relation.length){var t,i=(0,f.Z)(e.propertyColumns);try{for(i.s();!(t=i.n()).done;){var o=t.value.column;d.push(o.name),e.isId&&p.push(o.name)}}catch(y){i.e(y)}finally{i.f()}if(!c.childNodes.length)return"continue";var s=e.relation[0],u=s.relationEntity;if(!c.childNodes.filter((function(e){var t=e.jsonRelation;return t.si===u.applicationVersion.application.index&&t.ti===u.index})).length)return{v:{v:void 0}};a.push(r.rootSelectClauseFragment[m]);var h=c.getEntityRelationChildNode(s);l.push(h)}else{var v=e.propertyColumns[0].column;d.push(v.name),e.isId&&p.push(v.name)}};for(var m in s){var v=h();if("continue"!==v&&"object"===typeof v)return v.v}var y=r.buildOrderByFragmentForEntity(e,d,p,u,t);i=i.concat(y)};(s=a.shift())&&(c=l.shift());){var d=u();if("object"===typeof d)return d.v}if(o.length)throw new Error("\n\t\t\tFound entries in ORDER_BY for tables not found in SELECT clause.  \n\t\t\tEntries must be ordered hierarchically, in breadth-first order.");return i.join(", ")}},{key:"buildOrderByFragmentForEntity",value:function(e,t,n,r,i){var o=[],a={},s=i[e].__driver__.dbEntity;if(r.forEach((function(e){o.push(e);var t=s.columns[e.ci].name;a[t]=!0})),n.length){var l,c=(0,f.Z)(n);try{for(c.s();!(l=c.n()).done;){var u=l.value;a[u]||o.push({fa:"".concat(e,".").concat(u),so:ee.ASCENDING})}}catch(d){c.e(d)}finally{c.f()}}else t.forEach((function(t){a[t]||o.push({fa:"".concat(e,".").concat(t),so:ee.ASCENDING})}));return this.getCommonOrderByFragment(o)}},{key:"isForParentNode",value:function(e,t){do{if(!(e=e.parentNode))return!1;if(t.si===e.jsonRelation.si&&t.ti===e.jsonRelation.ti)return!0}while(e.parentNode);return!1}}]),n}(function(){function e(t,n,r,i,o){(0,c.Z)(this,e),this.rootSelectClauseFragment=t,this.airportDatabase=n,this.qValidator=r,this.relationManager=i,this.orderBy=o}return(0,u.Z)(e,[{key:"getCommonOrderByFragment",value:function(e){return e.map((function(e){switch(e.so){case ee.ASCENDING:return"".concat(e.fa," ASC");case ee.DESCENDING:return"".concat(e.fa," DESC")}})).join(", ")}}]),e}()),Gl=function(){function e(t){(0,c.Z)(this,e),this.validator=t}return(0,u.Z)(e,[{key:"getOrderByFragment",value:function(e,t){var n=this;return t.map((function(e){switch(n.validator.validateAliasedFieldAccess(e.fa),e.so){case ee.ASCENDING:return"".concat(e.fa," ASC");case ee.DESCENDING:return"".concat(e.fa," DESC")}})).join(", ")}}]),e}(),zl=function(){function e(t){(0,c.Z)(this,e),this.validator=t}return(0,u.Z)(e,[{key:"getOrderByFragment",value:function(e,t){var n=this,r=[],i=[];t&&(i=t.slice());var o=[],a=e;o.push(a);for(var s=function(){var e={};for(var t in a){var s=a[t];s.appliedFunctions?e[s.fa]=!0:o.push(s)}var l=[];for(var c in i=i.filter((function(t){return!e[t.fa]||(delete e[t.fa],l.push(t),!1)})),e)l.push({fa:c,so:ee.ASCENDING});var u=n.buildOrderByFragmentForEntity(l);r=r.concat(u)};a=o.shift();)s();if(i.length)throw new Error("Found entries in ORDER_BY for tables not found in SELECT clause.  Entries must be ordered hierarchically, in breadth-first order.");return r.join(", ")}},{key:"buildOrderByFragmentForEntity",value:function(e){var t=this;return e.map((function(e){switch(t.validator.validateAliasedFieldAccess(e.fa),e.so){case ee.ASCENDING:return"".concat(e.fa," ASC");case ee.DESCENDING:return"".concat(e.fa," DESC")}}))}}]),e}(),$l=function(){function e(){(0,c.Z)(this,e),this.mtoStubReferenceMap=[]}return(0,u.Z)(e,[{key:"addMtoReference",value:function(e,t){var n=e.mtoDbEntity,r=Le(Ve(this.mtoStubReferenceMap,n.applicationVersion.application.index),n.index);Le(r,t)[e.mtoRelationField]=e}},{key:"populateMtos",value:function(e){for(var t in this.mtoStubReferenceMap){var n=this.mtoStubReferenceMap[t];for(var r in n){var i=n[r];for(var o in i){var a=i[o];for(var s in a){var l=a[s],c=l.otmDbEntity;if(e[c.applicationVersion.application.index]){var u=e[c.applicationVersion.application.index][c.index];if(u){var d=u[l.otmEntityId];d&&(l.mtoParentObject[l.mtoRelationField]=d)}}}}}}}}]),e}(),ql=function(){function e(){(0,c.Z)(this,e),this.mtoEntityReferenceMap=[],this.otmEntityReferenceMap=[]}return(0,u.Z)(e,[{key:"addMtoReference",value:function(e,t,n,r){if(e.otmEntityField){var i=e.otmDbEntity,o=Le(Ve(this.mtoEntityReferenceMap,i.applicationVersion.application.index),i.index),a=o[e.otmEntityId];a||(a={},o[e.otmEntityId]=a);var s=a[e.otmEntityField];s||(s=[],a[e.otmEntityField]=s),s.push(e.mtoParentObject)}}},{key:"addOtmReference",value:function(e,t){var n=e.otmDbEntity,r=Le(Ve(this.otmEntityReferenceMap,n.applicationVersion.application.index),n.index),i=r[t];i||(i={},r[t]=i),i[e.otmPropertyName]=e.otmObject}},{key:"populateOtms",value:function(e){for(var t in this.mtoEntityReferenceMap){var n=this.mtoEntityReferenceMap[t];for(var r in n){var i=n[r];if(e[t])if(e[t][r]&&this.otmEntityReferenceMap[t]){var o=this.otmEntityReferenceMap[t][r];if(o)for(var a in i){var s=i[a],l=o[a];if(l)for(var c in s){var u=l[c];if(u){var d=s[c],p=u[c];if(p){var h,m=(0,f.Z)(d);try{for(m.s();!(h=m.n()).done;){var v=h.value;p.push(v)}}catch(y){m.e(y)}finally{m.f()}}else u[c]=d;l[c]=u[c].slice()}}}}}}}}]),e}(),Yl=function(){function e(t,n,r){(0,c.Z)(this,e),this.applicationUtils=t,this.entityStateManager=n,this.utils=r}return(0,u.Z)(e,[{key:"addManyToOneStub",value:function(e,t,n,r){var i=this,o={};this.entityStateManager.isStub(o),e[t]=o;var a=!0;return n.forEach((function(e){if(i.applicationUtils.isIdEmpty(e.value))a=!1;else for(var t,n=o,r=1,s=e.propertyNameChains[0];r<s.length;)n||(n={},i.entityStateManager.markAsStub(n),t[s[r-1]]=n),r<s.length-1?n=(t=n)[s[r]]:n[s[r]]=e.value,r++})),a}}]),e}(),Wl=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a){var s;return(0,c.Z)(this,n),(s=t.call(this,i,o,a)).config=e,s.rootDbEntity=r,s.entityMapByApplicationAndTableIndexes=[],s.otmStubBuffer=[],s.mtoStubBuffer=[],s.currentResultRow=[],s.otmMapper=new ql,s.mtoMapper=new $l,s}return(0,u.Z)(n,[{key:"addEntity",value:function(e,t,n){return this.applicationUtils.getNewEntity(t)}},{key:"addProperty",value:function(e,t,n,r,i){return t[r]=i,this.utils.objectExists(i)}},{key:"bufferManyToOneStub",value:function(e,t,n,r,i,o,a){if(this.addManyToOneStub(n,r,o,a)){var s=this.applicationUtils.getIdKey(n[r],i);this.bufferManyToOne(t,r,i,s)}}},{key:"bufferBlankManyToOneStub",value:function(e,t,n){t[n]=null}},{key:"bufferManyToOneObject",value:function(e,t,n,r,i,o,a){n[r]=o;var s=this.applicationUtils.getIdKey(n[r],i);this.bufferManyToOne(t,r,i,s)}},{key:"bufferBlankManyToOneObject",value:function(e,t,n){t[n]=null}},{key:"bufferOneToManyStub",value:function(e,t){this.bufferOneToMany(e,t)}},{key:"bufferOneToManyCollection",value:function(e,t,n,r,i,o,a){this.bufferOneToMany(n,r),t[r]=[o]}},{key:"bufferBlankOneToMany",value:function(e,t,n,r,i,o){t[r]=[]}},{key:"flushEntity",value:function(e,t,n,r,i,o){if(!r)throw new Error("No Id provided for entity \n\t\t\t'".concat(t.applicationVersion.application.name,".").concat(t.name,"'"));var a=this.getEntityToFlush(t,n,r,i,o);return this.flushRelationStubBuffers(r,a,t,o),a}},{key:"flushRow",value:function(){}},{key:"bridge",value:function(e,t,n){return this.mtoMapper.populateMtos(this.entityMapByApplicationAndTableIndexes),this.otmMapper.populateOtms(this.entityMapByApplicationAndTableIndexes),e}},{key:"bufferManyToOne",value:function(e,t,n,r){var i,o,a=(0,f.Z)(n.relations);try{for(a.s();!(o=a.n()).done;){var s=o.value;switch(s.relationType){case X.ONE_TO_MANY:break;case X.MANY_TO_ONE:continue;default:throw new Error("Unknown EntityRelationType: ".concat(s.relationType))}s.oneToManyElems&&s.oneToManyElems.mappedBy&&(e._localId!==s.relationEntity._localId&&s.oneToManyElems.mappedBy!==t||(i=s.property.name))}}catch(l){a.e(l)}finally{a.f()}this.mtoStubBuffer.push({otmEntityId:r,otmDbEntity:n,otmEntityField:i,mtoDbEntity:e,mtoRelationField:t,mtoParentObject:null})}},{key:"bufferOneToMany",value:function(e,t){this.otmStubBuffer.push({otmDbEntity:e,otmPropertyName:t,otmObject:null})}},{key:"getEntityToFlush",value:function(e,t,n,r,i){if(!n)throw new Error("Entity ID not specified for entity \n\t\t\t'".concat(e.applicationVersion.application.name,".").concat(e.name,"'."));var o=Le(Ve(this.entityMapByApplicationAndTableIndexes,e.applicationVersion.application.index),e.index),a=o[n],s=this.mergeEntities(a,r,e,t,i);return o[n]=s,s}},{key:"mergeEntities",value:function(e,t,n,r,i){var o=this;if(!e||t===e)return t;var a=this.applicationUtils.getIdKey(t,n),s=function(){if(void 0===r[l])return"continue";var i=n.propertyMap[l];if(i.relation&&i.relation.length)if(null==r[l])e[l]=t[l];else{var s=i.relation[0],c=s.relationEntity;switch(s.relationType){case X.MANY_TO_ONE:void 0===e[l]&&void 0!==t[l]&&(e[l]=t[l]);break;case X.ONE_TO_MANY:var u=e[l],d=t[l];if(o.config&&o.config.strict&&(!u&&d||!d&&u||u.length!=d.length))throw new Error("One-to-Many child arrays don't match for \n\t\t\t\t\t\t\t\t\t'".concat(n.name,".").concat(i.name,"', Id: ").concat(a));var p={};u?u.forEach((function(e){var t=o.applicationUtils.getIdKey(e,c);p[t]=e})):(u=[],e[l]=u),d&&d.forEach((function(e){var t=o.applicationUtils.getIdKey(e,c);if(o.config&&o.config.strict&&!p[t])throw new Error("One-to-Many child arrays don't match for \n\t\t\t\t\t\t\t\t\t\t'".concat(n.name,".").concat(i.name,"', Id: ").concat(a));p[t]||u.push(e)}));break;default:throw new Error("Unknown relation type '".concat(s.relationType,"' for \n\t\t\t\t\t\t\t'").concat(n.name,".").concat(i.name,"'"))}}else o.applicationUtils.isEmpty(e[l])&&(e[l]=t[l])};for(var l in r)s();return e}},{key:"flushRelationStubBuffers",value:function(e,t,n,r){var i=this,o=this.otmStubBuffer;this.otmStubBuffer=[],o.forEach((function(n){n.otmObject=t,i.otmMapper.addOtmReference(n,e)}));var a=this.mtoStubBuffer;this.mtoStubBuffer=[],a.forEach((function(o){o.mtoParentObject=t,i.otmMapper.addMtoReference(o,e,n,r),i.mtoMapper.addMtoReference(o,e)}))}}]),n}(Yl),Ql=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).currentRowObjectMap={},e.objectEqualityMap={},e.lastRowObjectMap={},e.currentObjectOneToManys={},e}return(0,u.Z)(n,[{key:"addProperty",value:function(e,t,n,r,i){if(t[r]=i,this.isDifferentOrDoesntExist(e,t,r))return this.utils.objectExists(i);var o=this.lastRowObjectMap[e];if(n===re.DATE)this.objectEqualityMap[e]=o[r].getTime()===t[r].getTime();else this.objectEqualityMap[e]=o[r]===t[r];return!0}},{key:"flushRow",value:function(){this.lastRowObjectMap=this.currentRowObjectMap,this.currentRowObjectMap={}}},{key:"isDifferentOrDoesntExist",value:function(e,t,n){if(!this.objectEqualityMap[e])return!0;var r=this.lastRowObjectMap[e];return r?!t||(r[n]?!t[n]&&(this.objectEqualityMap[e]=!r[n],!0):(this.objectEqualityMap[e]=!t[n],!0)):(this.objectEqualityMap[e]=!1,!0)}},{key:"addOneToManyCollection",value:function(e,t,n){var r=t[n];if(this.currentObjectOneToManys[n]=r,!this.isDifferentOrDoesntExist(e,t,n)){var i=this.lastRowObjectMap[e][n];i.length?r.length||i.length&&(this.objectEqualityMap[e]=!1):r.length&&(this.objectEqualityMap[e]=!1)}}},{key:"mergeEntity",value:function(e,t){var n=this.objectEqualityMap[e];this.objectEqualityMap[e]=!0;var r=this.currentObjectOneToManys;if(this.currentObjectOneToManys={},!n)return t;for(var i in t=this.lastRowObjectMap[e],this.currentRowObjectMap[e]=t,r){var o=r[i];if(o&&o.length){var a=o[0],s=t[i];s&&s.length?s[s.length-1]!==a&&s.push(a):t[i]=o}}return t}}]),n}(Yl),Jl=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).currentRowObjectMap={},e.objectEqualityMap={},e.lastRowObjectMap={},e.currentObjectOneToManys={},e}return(0,u.Z)(n,[{key:"addEntity",value:function(e,t,n){var r=this.applicationUtils.getNewEntity(t);return this.currentRowObjectMap[e]=r,void 0!==this.objectEqualityMap[e]&&(this.objectEqualityMap[e]=!0),r}},{key:"bufferManyToOneStub",value:function(e,t,n,r,i,o,a){this.addManyToOneStub(n,r,o,a),this.addManyToOneReference(e,n,r)}},{key:"bufferBlankManyToOneStub",value:function(e,t,n){t[n]=null,this.addManyToOneReference(e,t,n)}},{key:"bufferManyToOneObject",value:function(e,t,n,r,i,o,a){if(n[r]=o,!this.isDifferentOrDoesntExist(e,n,r)){var s=this.lastRowObjectMap[e];this.objectEqualityMap[e]=s[r]===n[r]}}},{key:"bufferBlankManyToOneObject",value:function(e,t,n){t[n]=null,this.addManyToOneReference(e,null,n)}},{key:"bufferOneToManyStub",value:function(e,t){throw new Error("@OneToMany stubs not allowed in QueryResultType.HIERARCHICAL")}},{key:"bufferOneToManyCollection",value:function(e,t,n,r,i,o,a){t[r]=[o],this.addOneToManyCollection(e,t,r)}},{key:"bufferBlankOneToMany",value:function(e,t,n,r,i,o){t[r]=[],this.addOneToManyCollection(e,t,r)}},{key:"flushEntity",value:function(e,t,n,r,i,o){return this.mergeEntity(e,i)}},{key:"bridge",value:function(e,t,n){return e}},{key:"addManyToOneReference",value:function(e,t,n){if(!this.isDifferentOrDoesntExist(e,t,n)){var r=this.lastRowObjectMap[e][n],i=t[n];this.objectEqualityMap[e]=this.utils.valuesEqual(r,i,!0)}}}]),n}(Ql),Xl=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getObjectResultParser",value:function(e,t,n){switch(e){case ve.ENTITY_GRAPH:return new Wl(t,n,this.applicationUtils,this.entityStateManager,this.utils);case ve.ENTITY_TREE:return new Jl(this.applicationUtils,this.entityStateManager,this.utils);default:throw new Error("ObjectQueryParser not supported for QueryResultType: ".concat(e))}}}]),e}(),Kl=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"addEntity",value:function(e){var t={};return this.currentRowObjectMap[e]=t,t}},{key:"bufferOneToManyCollection",value:function(e,t,n,r){t[n]=[r],this.addOneToManyCollection(e,t,n)}},{key:"flushEntity",value:function(e,t){return this.mergeEntity(e,t)}}]),n}(Ql);!function(e){e.MAPPED_SELECT_CLAUSE="MAPPED_SELECT_CLAUSE",e.NON_MAPPED_SELECT_CLAUSE="NON_MAPPED_SELECT_CLAUSE",e.WHERE_CLAUSE="WHERE_CLAUSE",e.FUNCTION_CALL="FUNCTION_CALL"}(Bl||(Bl={}));var ec,tc=function(){function e(t,n,r,i,o,a,s,l,u,d,p,f){(0,c.Z)(this,e),this.dbEntity=t,this.dialect=n,this.airportDatabase=r,this.applicationUtils=i,this.entityStateManager=o,this.qMetadataUtils=a,this.qValidator=s,this.sqlQueryAdapter=l,this.storeDriver=u,this.subStatementSqlGenerator=d,this.utils=p,this.context=f,this.parameterReferences=[],this.fieldMap=new Ce,this.qEntityMapByAlias={},this.jsonRelationMapByAlias={}}return(0,u.Z)(e,[{key:"getParameters",value:function(e,t){var n=this;return this.parameterReferences.map((function(t){var r=e[t];if(!r){if(null===t||["number","string"].indexOf(typeof t)>-1)return t;throw new Error("No parameter found for alias '".concat(t,"'"))}return n.sqlQueryAdapter.getParameterValue(r)}))}},{key:"getFunctionCallValue",value:function(e,t){return this.getFieldValue(e,Bl.FUNCTION_CALL,null,t)}},{key:"getFieldFunctionValue",value:function(e,t,n){var r=e.v;if(this.isParameterReference(r)){var i=r;this.parameterReferences.push(i),r=this.sqlQueryAdapter.getParameterReference(this.parameterReferences,i)}else r=this.getFieldValue(r,Bl.FUNCTION_CALL,t,n);return r=this.sqlQueryAdapter.getFunctionAdaptor().getFunctionCalls(e,r,this.qEntityMapByAlias,this,n),this.qValidator.addFunctionAlias(e.fa),r}},{key:"getFieldValue",value:function(e,t,n,r){var i,o=this;if(!e)throw new Error("Missing Clause Field definition");if(e instanceof Array)return e.map((function(e){return o.getFieldValue(e,t,n,r)})).join(", ");if(t!==Bl.MAPPED_SELECT_CLAUSE&&!e.ot)throw new Error("Object Type is not defined in JSONClauseField");var a,s=e;switch(e.ot){case ne.FIELD_FUNCTION:return this.getFieldFunctionValue(s,n,r);case ne.DISTINCT_FUNCTION:throw new Error("Distinct function cannot be nested.");case ne.EXISTS_FUNCTION:if(t!==Bl.WHERE_CLAUSE)throw new Error("Exists can only be used as a top function in a WHERE clause.");var l=this.subStatementSqlGenerator.getTreeQuerySql(s.v,this.dialect,r),c=l.parameterReferences,u=l.subQuerySql;return c.length&&(this.parameterReferences=this.parameterReferences.concat(c)),"EXISTS(".concat(u,")");case ne.FIELD:return a=this.qEntityMapByAlias[s.ta],this.qValidator.validateReadQEntityProperty(s.si,s.ti,s.ci),i=this.getEntityPropertyColumnName(a,s.ci,r),this.addField(s.si,s.ti,s.ci),this.getComplexColumnFragment(s,i,r);case ne.FIELD_QUERY:var d=s.fieldSubQuery;s.S&&(d=s);var p=this.subStatementSqlGenerator.getFieldQuerySql(d,this.dialect,this.qEntityMapByAlias,r),f=p.parameterReferences,h=p.subQuerySql;return f.length&&(this.parameterReferences=this.parameterReferences.concat(f)),this.qValidator.addSubQueryAlias(s.fa),"(".concat(h,")");case ne.MANY_TO_ONE_RELATION:return a=this.qEntityMapByAlias[s.ta],this.qValidator.validateReadQEntityManyToOneRelation(s.si,s.ti,s.ci),i=this.getEntityManyToOneColumnName(a,s.ci,r),this.addField(s.si,s.ti,s.ci),this.getComplexColumnFragment(s,i,r);default:return Bl.MAPPED_SELECT_CLAUSE,n()}}},{key:"applyOperator",value:function(e,t){switch(e){case ae.EQUALS:return" = ".concat(t);case ae.GREATER_THAN:return" > ".concat(t);case ae.GREATER_THAN_OR_EQUALS:return" >= ".concat(t);case ae.IS_NOT_NULL:return" IS NOT NULL";case ae.IS_NULL:return" IS NULL";case ae.IN:return" IN (".concat(t,")");case ae.LESS_THAN:return" < ".concat(t);case ae.LESS_THAN_OR_EQUALS:return" <= ".concat(t);case ae.NOT_EQUALS:return" != ".concat(t);case ae.NOT_IN:return" NOT IN (".concat(t,")");case ae.LIKE:return" LIKE ".concat(t);default:throw new Error("Unsupported operator ".concat(e))}}},{key:"getWHEREFragment",value:function(e,t,n){var r="";if(!e)throw new Error("An operation is missing in WHERE or HAVING clause");switch(t="".concat(t,"\t"),e.c){case oe.LOGICAL:return this.getLogicalWhereFragment(e,t,n);case oe.BOOLEAN:case oe.DATE:case oe.NUMBER:case oe.STRING:case oe.UNTYPED:var i=e,o=this.getFieldValue(i.l,Bl.WHERE_CLAUSE,null,n);if(i.o===ae.IS_NOT_NULL||i.o===ae.IS_NULL){var a=this.applyOperator(i.o,null);r+="".concat(o).concat(a)}else{var s=this.getFieldValue(i.r,Bl.WHERE_CLAUSE,null,n),l=this.applyOperator(i.o,s);r+="".concat(o).concat(l)}break;case oe.FUNCTION:var c=e;r=this.getFieldValue(c.ob,Bl.WHERE_CLAUSE,null,n)}return r}},{key:"getEntityPropertyColumnName",value:function(e,t,n){return this.qMetadataUtils.getDbEntity(e).columns[t].name}},{key:"addFieldFromColumn",value:function(e){var t=e.propertyColumns[0].property.entity;this.addField(t.applicationVersion._localId,t.index,e.index)}},{key:"addField",value:function(e,t,n){this.fieldMap.ensure(e,t).ensure(n)}},{key:"warn",value:function(e){console.log(e)}},{key:"getSimpleColumnFragment",value:function(e,t){return"".concat(e,".").concat(t)}},{key:"getComplexColumnFragment",value:function(e,t,n){var r="".concat(e.ta,".").concat(t);return r=this.sqlQueryAdapter.getFunctionAdaptor().getFunctionCalls(e,r,this.qEntityMapByAlias,this,n)}},{key:"getEntityManyToOneColumnName",value:function(e,t,n){return this.getEntityPropertyColumnName(e,t,n)}},{key:"getLogicalWhereFragment",value:function(e,t,n){var r,i=this;switch(e.o){case ae.AND:r="AND";break;case ae.OR:r="OR";break;case ae.NOT:var o=this.getWHEREFragment(e.v,t,n);return" NOT (".concat(o,")");default:throw new Error("Unknown logical operator: ".concat(e.o))}var a=e.v;if(!(a instanceof Array))throw new Error("Expecting an array of child operations as a value for operator ".concat(r,", \n\t\t\t\tin the WHERE Clause."));var s=a.map((function(e){return i.getWHEREFragment(e,t,n)})).join("\n".concat(t).concat(r," "));return"( ".concat(s," )")}},{key:"isParameterReference",value:function(e){if(null===e)return!1;if(void 0===e||""===e||Number.isNaN(e))throw new Error("Invalid query value: ".concat(e));switch(typeof e){case"boolean":case"number":throw new Error("Unexpected primitive instance, expecting parameter alias.");case"string":return!0}if(e instanceof Date)throw new Error("Unexpected date instance, expecting parameter alias.");return!1}}]),e}(),nc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,e,r,i,o,a,s,l,d,p,f,h,m)).relationManager=u,v}return(0,u.Z)(n,[{key:"getTableFragment",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e)throw new Error("Expecting exactly one table in UPDATE/DELETE clause");if(e.ri||e.jt)throw new Error("Table in UPDATE/DELETE clause cannot be joined");var r=this.airportDatabase.applications[e.si].currentVersion[0].applicationVersion.entities[e.ti],i=this.storeDriver.getEntityTableName(r,t);if(e.si!==this.dbEntity.applicationVersion.application.index||e.ti!==this.dbEntity.index)throw new Error("Unexpected table in UPDATE/DELETE clause: \n\t\t\t'".concat(i,"',\n\t\t\texpecting: '").concat(this.dbEntity.applicationVersion.application.name,".").concat(this.dbEntity.name,"'"));var o=new Ht(r,this.applicationUtils,this.relationManager),a=this.relationManager.getAlias(e);this.qEntityMapByAlias[a]=o;var s="\t".concat(i);return n&&(s+=" AS ".concat(a)),s}}]),n}(tc),rc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,i.applications[e.DF.si].currentVersion[0].applicationVersion.entities[e.DF.ti],r,i,o,a,s,l,u,d,p,f,h,m)).jsonDelete=e,v}return(0,u.Z)(n,[{key:"toSQL",value:function(e){var t=this.getTableFragment(this.jsonDelete.DF,e),n="",r=this.jsonDelete;return r.W&&(n=this.getWHEREFragment(r.W,"",e),n="\nWHERE\n".concat(n)),"DELETE\nFROM\n".concat(t).concat(n)}}]),n}(nc),ic=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,i.applications[e.II.si].currentVersion[0].applicationVersion.entities[e.II.ti],r,i,o,a,s,l,u,d,p,f,h,m)).jsonInsertValues=e,v}return(0,u.Z)(n,[{key:"toSQL",value:function(e){if(!this.jsonInsertValues.II)throw new Error("Expecting exactly one table in INSERT INTO clause");this.qValidator.validateInsertQEntity(this.dbEntity);var t=this.getTableFragment(this.jsonInsertValues.II,e,!1),n=this.getColumnsFragment(this.dbEntity,this.jsonInsertValues.C),r=this.getValuesFragment(this.jsonInsertValues.V,e);return"INSERT INTO\n".concat(t," ").concat(n,"\nVALUES\n").concat(r,"\n")}},{key:"getColumnsFragment",value:function(e,t){if(!t.length)return"";var n=t.map((function(t){return e.columns[t].name}));return"( ".concat(n.join(", \n")," )")}},{key:"getValuesFragment",value:function(e,t){var n=this,r=e.map((function(e){var r=e.map((function(e){if(null===e||["number","string"].indexOf(typeof e)>-1)return n.parameterReferences.push(e),n.sqlQueryAdapter.getParameterReference(n.parameterReferences,e);if(void 0===e)throw new Error("An 'undefined' value was provided when inserting into: ".concat(n.dbEntity.applicationVersion.application.name,".").concat(n.dbEntity.name));var r=n.getFieldValue(e,Bl.WHERE_CLAUSE,null,t);return"\n".concat(r,"\n")}));return"(".concat(r.join(","),")")}));return r.join(",\n")}}]),n}(nc);!function(e){e.MYSQL="MYSQL",e.POSTGRESQL="POSTGRESQL",e.SQLITE="SQLITE"}(ec||(ec={}));var oc,ac=function(){function e(){(0,c.Z)(this,e),this.map={}}return(0,u.Z)(e,[{key:"getForAlias",value:function(e){var t=this.map[e];return t||(t={},this.map[e]=t),t}}]),e}(),sc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m,v,y){var g;return(0,c.Z)(this,n),(g=t.call(this,r,i,a,s,l,u,d,f,h,m,v,y)).jsonQuery=e,g.queryResultType=o,g.relationManager=p,g.entityDefaults=new ac,g}return(0,u.Z)(n,[{key:"getFieldMap",value:function(){return this.fieldMap}},{key:"getEntityApplicationRelationFromJoin",value:function(e,t,n,r,i,o,a,s,l){var c,u=[],d=e.__driver__.dbEntity,p=t.__driver__.dbEntity,h=d.relations[n.ri];switch(h.relationType){case X.MANY_TO_ONE:c=h.manyRelationColumns;break;case X.ONE_TO_MANY:if(h.oneRelationColumns&&h.oneRelationColumns.length)c=h.oneRelationColumns;else{var m=h.relationEntity.relations.filter((function(e){return e.relationEntity._localId==d._localId&&e.manyToOneElems&&!0!==e.manyToOneElems&&e.manyToOneElems.mappedBy===h.property.name}));m.length&&(c=m[0].manyRelationColumns)}break;default:throw new Error("Unknown relation type ".concat(h.relationType," \non '").concat(d.applicationVersion.application.name,".").concat(d.name,".").concat(h.property.name,"'."))}var v,y=(0,f.Z)(c);try{for(y.s();!(v=y.n()).done;){var g=v.value,b=void 0,x=void 0;switch(h.relationType){case X.MANY_TO_ONE:b=g.manyColumn.name,x=g.oneColumn.name;break;case X.ONE_TO_MANY:b=g.oneColumn.name,x=g.manyColumn.name;break;default:throw new Error("Unknown relation type ".concat(h.relationType," \non '").concat(d.applicationVersion.application.name,".").concat(d.name,".").concat(h.property.name,"'."))}u.push({leftColumn:b,rightColumn:x})}}catch(R){y.e(R)}finally{y.f()}var w=u.map((function(e){return" ".concat(o,".").concat(e.leftColumn," = ").concat(i,".").concat(e.rightColumn)})).join("\n\t\t\tAND");if(n.joinWhereClause){var k=this.getWHEREFragment(n.joinWhereClause,"\t\t",l),E=n.joinWhereClauseOperator===ae.AND?"AND":"OR";w="".concat(w,"\n\t\t\t").concat(E," ").concat(k)}var I=this.storeDriver.getEntityTableName(p,l);return"\n\t".concat(a," ").concat(I," ").concat(i,"\n\t\tON ").concat(w)}}]),n}(tc),lc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,i.applications[e.U.si].currentVersion[0].applicationVersion.entities[e.U.ti],r,i,o,a,s,l,u,d,p,f,h,m)).jsonUpdate=e,v}return(0,u.Z)(n,[{key:"toSQL",value:function(e,t){if(!this.jsonUpdate.U)throw new Error("Expecting exactly one table in UPDATE clause");var n=this.getTableFragment(this.jsonUpdate.U,t),r=this.getSetFragment(this.jsonUpdate.S,t);e.SET&&e.SET.length&&(r+=","+e.SET.map((function(e){return"\n\t".concat(e.column.name," = ").concat(e.value)})).join(","));var i="",o=this.jsonUpdate;return o.W&&(i=this.getWHEREFragment(o.W,"",t),i="WHERE\n".concat(i)),"UPDATE\n".concat(n,"\nSET\n").concat(r,"\n").concat(i)}},{key:"getSetFragment",value:function(e,t){var n=[];for(var r in e){var i=e[r];void 0!==i&&(this.qValidator.validateUpdateColumn(this.dbEntity.columnMap[r]),this.addSetFragment(r,i,n,t))}return n.join(", \n")}},{key:"addSetFragment",value:function(e,t,n,r){var i;"number"===typeof t?(this.parameterReferences.push(t),i=this.sqlQueryAdapter.getParameterReference(this.parameterReferences,t)):i=this.getFieldValue(t,Bl.WHERE_CLAUSE,null,r),n.push("\t".concat(e," = ").concat(i))}},{key:"isManyToOneRelation",value:function(e){return"object"===typeof e&&e.ot===ne.MANY_TO_ONE_RELATION}},{key:"addManyToOneMappings",value:function(e){var t=[],n=e.value;if("object"!==typeof n||n.ot&&n.ot!==ne.MANY_TO_ONE_RELATION)t.push(e);else for(var r in n)if("ot"!==r||n[r]!==ne.MANY_TO_ONE_RELATION){var i={tableIndex:e.tableIndex,propertyChain:e.propertyChain.concat([r]),value:n[r]},o=this.addManyToOneMappings(i);t=t.concat(o)}return t}}]),n}(nc),cc=function(){function e(t){(0,c.Z)(this,e),this.jsonClauseField=t}return(0,u.Z)(e,[{key:"getValue",value:function(e,t){return e.getFieldFunctionValue(this.jsonClauseField,null,t)}}]),e}(),uc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m,v){return(0,c.Z)(this,n),t.call(this,e,null,r,i,o,a,s,l,u,d,p,f,h,m,v)}return(0,u.Z)(n,[{key:"addQEntityMapByAlias",value:function(e){for(var t in e)this.qEntityMapByAlias[t]=e[t]}},{key:"toSQL",value:function(e,t){var n=this.jsonQuery;this.joinTrees=this.buildFromJoinTree(n.F,{},t);var r=this.getSELECTFragment(!1,n.S,e,t),i=this.getFROMFragments(this.joinTrees,t),o="";n.W&&(o="\nWHERE\n\t".concat(this.getWHEREFragment(n.W,"",t)));var a="";n.GB&&n.GB.length&&(a="\nGROUP BY\n\t".concat(this.getGroupByFragment(n.GB)));var s="";n.H&&(s="\nHAVING\n\t".concat(this.getWHEREFragment(n.H,"",t)));var l="";n.OB&&n.OB.length&&(l="\nORDER BY\n\t".concat(this.orderByParser.getOrderByFragment(n.S,n.OB)));var c="";n.O&&(c=this.sqlQueryAdapter.getOffsetFragment(n.O));return n.L&&(c=this.sqlQueryAdapter.getLimitFragment(n.L)),"SELECT\n\t".concat(r,"\nFROM\n").concat(i).concat(o).concat(a).concat(s).concat(l).concat(c).concat("","\n").concat(this.storeDriver.getSelectQuerySuffix(this.jsonQuery,t))}},{key:"buildFromJoinTree",value:function(e,t,n){var r,i=[];if(e.length<1)throw new Error("FROM clause must have entries for non-Entity queries");var o=e[0];switch(o.rt){case K.SUB_QUERY_ROOT:case K.ENTITY_ROOT:break;default:throw new Error("First table in FROM clause cannot be joined")}var a=this.relationManager.getAlias(o);this.qValidator.validateReadFromEntity(o);var s=this.relationManager.createRelatedQEntity(o,n);this.qEntityMapByAlias[a]=s,r=new zt(o,[],null),i.push(r),t[a]=r;for(var l=1;l<e.length;l++){var c=void 0,u=e[l];if(!u.jt)throw new Error("Table ".concat(l+1," in FROM clause is missing joinType"));switch(this.qValidator.validateReadFromEntity(u),a=this.relationManager.getAlias(u),u.rt){case K.SUB_QUERY_ROOT:var d=this.addFieldsToView(u,a,n);this.qEntityMapByAlias[a]=d;continue;case K.ENTITY_ROOT:var p=this.relationManager.createRelatedQEntity(u,n);this.qEntityMapByAlias[a]=p;var f=new zt(u,[],null);if(t[a])throw new Error("Alias '".concat(a,"' used more than once in the FROM clause."));i.push(f),t[a]=f;continue;case K.ENTITY_APPLICATION_RELATION:if(!u.ri)throw new Error("Table ".concat(l+1," in FROM clause is missing relationPropertyName"));c=this.relationManager.createRelatedQEntity(u,n);break;case K.SUB_QUERY_JOIN_ON:u.joinWhereClause||this.warn("View ".concat(l+1," in FROM clause is missing joinWhereClause")),c=this.addFieldsToView(u,a,n);break;case K.ENTITY_JOIN_ON:u.joinWhereClause||this.warn("Table ".concat(l+1," in FROM clause is missing joinWhereClause")),c=this.relationManager.createRelatedQEntity(u,n);break;default:throw new Error("Unknown JSONRelationType ".concat(u.rt))}var h=this.relationManager.getParentAlias(u);if(!t[h])throw new Error("Missing parent entity for alias ".concat(h,", on table ").concat(l+1," in FROM clause. \n\t\t\t\t\tNOTE: sub-queries in FROM clause cannot reference parent FROM tables."));var m=t[h],v=new zt(u,[],m);if(m.addChildNode(v),this.qValidator.validateReadFromEntity(u),this.qEntityMapByAlias[a]=c,!c)throw new Error("Could not find entity ".concat(u.ti," for table ").concat(l+1," in FROM clause"));if(t[a])throw new Error("Alias '".concat(a,"' used more than once in the FROM clause."));t[a]=v}return i}},{key:"addFieldsToView",value:function(e,t,n){var r=new $t(e.fromClausePosition,null);return this.addFieldsToViewForSelect(r,t,e.subQuery.S,"f",null,n),r}},{key:"addFieldsToViewForSelect",value:function(e,t,n,r,i,o){var a=0,s=!1;for(var l in n){var c="".concat(r).concat(++a),u=n[l];if(u.ot){var d=i||c;s=s&&this.addFieldToViewForSelect(e,t,r,u,d,i,o)}else this.addFieldsToViewForSelect(e,t,u,"".concat(c,"_"),null,o)}if(a>1){if(s)throw new Error("DISTINCT clause must be the only property at its level");if(i)throw new Error("Field queries can have only one field in SELECT clause")}}},{key:"addFieldToViewForSelect",value:function(e,t,n,r,i){var o,a,s,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6?arguments[6]:void 0,u=!1;switch(r.ot){case ne.FIELD_FUNCTION:throw e[i]=new cc(r),new Error("Not implemented");case ne.EXISTS_FUNCTION:throw new Error("Exists function cannot be used in SELECT clause.");case ne.FIELD:switch(a=(o=this.airportDatabase.applications[r.si].currentVersion[0].applicationVersion.entities[r.ti]).properties[r.pi],s=o.columns[r.ci],r.dt){case re.BOOLEAN:e[i]=new kt(s,a,e);break;case re.DATE:e[i]=new Rt(s,a,e);break;case re.NUMBER:e[i]=new St(s,a,e);break;case re.STRING:e[i]=new Zt(s,a,e);break;default:throw new Error("Unknown SQLDataType: ".concat(r.dt,"."))}break;case ne.FIELD_QUERY:var d=r;this.addFieldToViewForSelect(e,t,n,d.S,i,i,c);break;case ne.DISTINCT_FUNCTION:this.addFieldsToViewForSelect(e,t,r.v,n,l,c),u=!0;break;case ne.MANY_TO_ONE_RELATION:throw new Error("@ManyToOne fields cannot be directly in a SELECT clause.\n\t\t\t\t\tPlease select a non-relational field within the relation.");default:throw new Error("Unexpected type property on JSONClauseField: ".concat(r.ot,"."))}return u}},{key:"getFieldSelectFragment",value:function(e,t,n,r,i){var o=this.getFieldValue(e,t,n,i);return void 0!==e.fa&&(o+=" as ".concat(e.fa)),0===r?"\n\t".concat(o):",\n\t".concat(o)}},{key:"getFROMFragments",value:function(e,t){var n=this;return e.map((function(e){return n.getFROMFragment(null,e,t)})).join("\n")}},{key:"getFROMFragment",value:function(e,t,n){var r="\t",i=t.jsonRelation,o=this.relationManager.getAlias(i),a=this.qEntityMapByAlias[o];if(e){var s,l=e.jsonRelation,c=this.relationManager.getAlias(l),u=this.qEntityMapByAlias[c],d=this.qEntityMapByAlias[o];switch(i.jt){case J.FULL_JOIN:s="FULL JOIN";break;case J.INNER_JOIN:s="INNER JOIN";break;case J.LEFT_JOIN:s="LEFT JOIN";break;case J.RIGHT_JOIN:s="RIGHT JOIN";default:throw new Error("Unsupported join type: ".concat(i.jt))}var p;switch(i.rt){case K.ENTITY_JOIN_ON:var f=i;p=this.getWHEREFragment(f.joinWhereClause,"\t",n),r+="\t".concat(s," ").concat(this.storeDriver.getEntityTableName(a.__driver__.dbEntity,n)," ").concat(o," ON\n").concat(p);break;case K.ENTITY_APPLICATION_RELATION:r+=this.getEntityApplicationRelationFromJoin(u,d,i,l,o,c,s,"Error building FROM: ",n);break;case K.SUB_QUERY_JOIN_ON:var h=i,m=this.subStatementSqlGenerator.getTreeQuerySql(h.subQuery,this.dialect,n),v=m.parameterReferences,y=m.subQuerySql;v.length&&(this.parameterReferences=this.parameterReferences.concat(v)),p=this.getWHEREFragment(h.joinWhereClause,"\t",n),r+="".concat(s," (").concat(y,") ").concat(o," ON\n").concat(p);break;default:throw new Error("Nested FROM entries must be Entity JOIN ON\n\t\t\t\t\tor Application Relation, or Sub-Query JOIN ON")}}else switch(i.rt){case K.ENTITY_ROOT:r+="".concat(this.storeDriver.getEntityTableName(a.__driver__.dbEntity,n)," ").concat(o);break;case K.SUB_QUERY_ROOT:var g=i,b=this.subStatementSqlGenerator.getTreeQuerySql(g.subQuery,this.dialect,n),x=b.parameterReferences,w=b.subQuerySql;x.length&&(this.parameterReferences=this.parameterReferences.concat(x)),r+="(".concat(w,") ").concat(o);break;default:throw new Error("Top level FROM entries must be Entity or Sub-Query root")}for(var k=0;k<t.childNodes.length;k++){var E=t.childNodes[k];r+=this.getFROMFragment(t,E,n)}return r}},{key:"getGroupByFragment",value:function(e){var t=this;return e.map((function(e){return t.qValidator.validateAliasedFieldAccess(e.fa),"".concat(e.fa)})).join(", ")}},{key:"getOrderByFragment",value:function(e){var t=this;return e.map((function(e){switch(t.qValidator.validateAliasedFieldAccess(e.fa),e.so){case ee.ASCENDING:return"".concat(e.fa," ASC");case ee.DESCENDING:return"".concat(e.fa," DESC")}})).join(", ")}}]),n}(sc),dc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,e,r,ve.FIELD,i,o,a,s,l,u,d,p,f,h,m)).orderByParser=new Gl(l),v}return(0,u.Z)(n,[{key:"parseQueryResults",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],t&&t.length){e.next=3;break}return e.abrupt("return",a);case 3:return a=[],t.forEach((function(e){var t=l.parseQueryResult(l.jsonQuery.S,e,[0]);a.push(t)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getSELECTFragment",value:function(e,t,n,r){if(!t)throw new Error("SELECT clause is not defined for a Field Query");var i=t;if(i.ot==ne.DISTINCT_FUNCTION){var o=this.getSELECTFragment(e,i.appliedFunctions[0].p[0],n,r);return"DISTINCT ".concat(o)}var a=t,s=0;return this.getFieldSelectFragment(a,Bl.NON_MAPPED_SELECT_CLAUSE,null,s++,r)}},{key:"parseQueryResult",value:function(e,t,n){var r=e,i=this.sqlQueryAdapter.getResultCellValue(t,r.fa,n[0],r.dt,null);return n[0]++,i}}]),n}(uc),pc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,e,r,ve.TREE,i,o,a,s,l,u,d,p,f,h,m)).queryParser=new Kl(o,a,h),v.orderByParser=new zl(l),v}return(0,u.Z)(n,[{key:"parseQueryResults",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],t&&t.length){e.next=3;break}return e.abrupt("return",a);case 3:return a=[],t.forEach((function(e){var t=new tt,n=l.parseQueryResult(l.jsonQuery.S,e,[0],t,t.getFollowingAlias());a.push(n),l.queryParser.flushRow()})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getSELECTFragment",value:function(e,t,n,r){var i=this,o=t;if(o.ot==ne.DISTINCT_FUNCTION){if(e)throw new Error("Cannot have DISTINCT specified in a nested SELECT clause");var a=this.getSELECTFragment(e,o.appliedFunctions[0].p[0],n,r);return"DISTINCT ".concat(a)}var s=0;for(var l in t){if("*"===l)throw new Error("'*' operator isn't yet implemented in mapped queries");if("id"===l)throw new Error("'id' operator isn't yet implemented in mapped queries");s++}if(0===s){if(e)throw new Error("Mapped query must have fields in a nested-SELECT clause");return"*"}var c=0,u="",d=function(){var e=t[p];return void 0===e?"continue":e instanceof cc?(u+=e.getValue(i,r),"continue"):void(u+=i.getFieldSelectFragment(e,Bl.MAPPED_SELECT_CLAUSE,(function(){return i.getSELECTFragment(!0,e,n,r)}),c++,r))};for(var p in t)d();return u}},{key:"parseQueryResult",value:function(e,t,n,r,i){if(!t||!(t instanceof Object)||t instanceof Date)return t;var o=e;if(o.ot==ne.DISTINCT_FUNCTION)return this.parseQueryResult(o.appliedFunctions[0].p[0],t,n,r,i);var a=this.queryParser.addEntity(i);for(var s in e)if(void 0!==e[s]){var l=e[s],c=l.dt;if(c){var u=this.sqlQueryAdapter.getResultCellValue(t,l.fa,n[0],c,null);this.queryParser.addProperty(i,a,c,s,u)}else{var d=this.parseQueryResult(l,t,n,r,r.getFollowingAlias());this.queryParser.bufferOneToManyCollection(i,a,s,d)}n[0]++}return this.queryParser.flushEntity(i,a)}}]),n}(uc),fc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getTreeQuerySql",value:function(e,t,n){var r=new pc(e,t,this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this.storeDriver,this,this.utils,n),i=r.toSQL({},n);return{parameterReferences:r.parameterReferences,subQuerySql:i}}},{key:"getFieldQuerySql",value:function(e,t,n,r){var i=new dc(e,t,this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this.storeDriver,this,this.utils,r);i.addQEntityMapByAlias(n);var o=i.toSQL({},r);return{parameterReferences:i.parameterReferences,subQuerySql:o}}}]),e}(),hc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m,v,y,g,b){var x;if((0,c.Z)(this,n),(x=t.call(this,e,r,i,o,a,s,l,d,p,f,h,m,v,y,g)).objectResultParserFactory=u,x.graphQueryConfiguration=b,x.columnAliases=new tt,b&&void 0!==x.graphQueryConfiguration.strict)throw new Error('"strict" configuration is not yet implemented for \n\t\t\tQueryResultType.ENTITY_GRAPH');return x.finalSelectTree=x.setupSelectFields(x.jsonQuery.S,r,g),x.orderByParser=new Hl(x.finalSelectTree,a,p,f,e.OB),x}return(0,u.Z)(n,[{key:"toSQL",value:function(e,t){this.joinTree=this.buildFromJoinTree(this.jsonQuery.F,{},t);var n=this.getSELECTFragment(this.dbEntity,this.finalSelectTree,this.joinTree,t),r=this.getFROMFragment(null,this.joinTree,t),i="",o=this.jsonQuery;o.W&&(i="\nWHERE\n".concat(this.getWHEREFragment(o.W,"",t)));var a="";return o.OB&&o.OB.length&&(a="\nORDER BY\n".concat(this.orderByParser.getOrderByFragment(this.joinTree,this.qEntityMapByAlias,t))),"SELECT\n\t".concat(n,"\nFROM\n").concat(r).concat(i).concat(a,"\n").concat(this.storeDriver.getSelectQuerySuffix(this.jsonQuery,t))}},{key:"parseQueryResults",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.queryParser=this.objectResultParserFactory.getObjectResultParser(this.queryResultType,this.graphQueryConfiguration,this.dbEntity),a=[],t&&t.length){e.next=4;break}return e.abrupt("return",a);case 4:for(a=[],c=0;c<t.length;c++)u=t[c],d=this.relationManager.getAlias(this.joinTree.jsonRelation),this.columnAliases.reset(),p=this.parseQueryResult(this.finalSelectTree,d,this.joinTree,u,[0],i),l?l!==p&&a.push(p):a.push(p),l=p,this.queryParser.flushRow();return e.abrupt("return",this.queryParser.bridge(a,this.jsonQuery.S,i));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"buildFromJoinTree",value:function(e,t,n){var r;if(e.length<1){var i={currentChildIndex:0,ti:this.dbEntity.index,fromClausePosition:[],jt:null,ri:null,rt:K.ENTITY_ROOT,rep:"r_",si:this.dbEntity.applicationVersion._localId};e.push(i)}var o=e[0];switch(o.rt){case K.ENTITY_ROOT:break;case K.SUB_QUERY_ROOT:case K.SUB_QUERY_JOIN_ON:throw new Error("Entity query's FROM clause cannot contain sub-queries");case K.ENTITY_JOIN_ON:throw new Error("Entity queries cannot use JOIN ON");default:throw new Error("First table in FROM clause cannot be result of a join")}var a=this.relationManager.getAlias(o),s=this.relationManager.createRelatedQEntity(o,n);this.qEntityMapByAlias[a]=s,this.jsonRelationMapByAlias[a]=o;var l=s.__driver__.dbEntity;if(l.applicationVersion.application.index!==this.dbEntity.applicationVersion.application.index||l.index!==this.dbEntity.index)throw new Error("ERROR: Unexpected first table in FROM clause: \n\t\t\t'".concat(l.applicationVersion.application.name,".").concat(l.name,"',\n\t\t\texpecting:\n\t\t\t'").concat(this.dbEntity.applicationVersion.application.name,".").concat(this.dbEntity.name,"'"));r=new zt(o,[],null),t[a]=r;for(var c=1;c<e.length;c++){var u=e[c];switch(u.rt){case K.ENTITY_ROOT:throw new Error("All Entity query tables after the first must be joined");case K.SUB_QUERY_JOIN_ON:throw new Error("Entity queries FROM clause cannot contain sub-queries");case K.ENTITY_JOIN_ON:throw new Error("Entity queries cannot use JOIN ON")}if(!u.ri&&0!==u.ri)throw new Error("Table ".concat(c+1," in FROM clause is missing \n\t\t\t\trelationPropertyName"));var d=this.relationManager.getParentAlias(u);if(!t[d])throw new Error("Missing parent entity for alias ".concat(d,", \n\t\t\t\ton table ").concat(c+1," in FROM clause"));var p=t[d],f=new zt(u,[],p);p.addChildNode(f),a=this.relationManager.getAlias(u);var h=this.relationManager.createRelatedQEntity(u,n);if(this.qEntityMapByAlias[a]=h,this.jsonRelationMapByAlias[a]=o,!h)throw new Error("Could not find entity ".concat(u.ti," for \n\t\t\t\ttable ").concat(c+1," in FROM clause"));if(t[a])throw new Error("Alias '".concat(a,"' used more than once in the FROM clause."));t[a]=f}return r}},{key:"parseQueryResult",value:function(e,t,n,r,i,o){var a=this;if(!r||!(r instanceof Object)||r instanceof Date)return r;var s=0,l=this.qEntityMapByAlias[t].__driver__.dbEntity,c=this.queryParser.addEntity(t,l,o),u=function(){var u=l.propertyMap[d];if(u.relation&&u.relation.length){var p=e[d],f=u.relation[0],h=f.relationEntity;if(null===p||p.__state__===ie.STUB)switch(f.relationType){case X.MANY_TO_ONE:var m=!1,v=[];a.applicationUtils.forEachColumnTypeOfRelation(f,(function(e,t){var n=a.columnAliases.getFollowingAlias(),o=a.sqlQueryAdapter.getResultCellValue(r,n,i[0],e.type,null);v.push({propertyNameChains:t,sqlDataType:e.type,value:o}),a.utils.objectExists(o)&&(m=!0,s++),i[0]++})),m?a.queryParser.bufferManyToOneStub(t,l,c,d,h,v,o):a.queryParser.bufferBlankManyToOneStub(t,c,d,v);break;case X.ONE_TO_MANY:a.queryParser.bufferOneToManyStub(l,d);break;default:throw new Error("Unknown relation type '".concat(f.relationType,"' for \n\t\t\t\t\t\t\t\t'").concat(l.name,".").concat(u.name,"'"))}else{var y=n.getEntityRelationChildNode(f),g=a.relationManager.getAlias(y.jsonRelation),b=a.qEntityMapByAlias[g].__driver__.dbEntity,x=a.parseQueryResult(p,g,y,r,i,o);switch(f.relationType){case X.MANY_TO_ONE:x?a.queryParser.bufferManyToOneObject(t,l,c,d,b,x,o):a.queryParser.bufferBlankManyToOneObject(t,c,d);break;case X.ONE_TO_MANY:x?a.queryParser.bufferOneToManyCollection(t,c,l,d,b,x,o):a.queryParser.bufferBlankOneToMany(t,c,l.name,d,b,o);break;default:throw new Error("Unknown relation type '".concat(f.relationType,"' for \n\t\t\t\t\t\t\t\t'").concat(l.name,".").concat(u.name,"'"))}}}else{var w=a.columnAliases.getFollowingAlias(),k=a.entityDefaults.getForAlias(t)[d],E=u.propertyColumns[0].column,I=a.sqlQueryAdapter.getResultCellValue(r,w,i[0],E.type,k);a.queryParser.addProperty(t,c,E.type,d,I)&&s++,i[0]++}};for(var d in e)u();if(0===s)return null;var p=this.applicationUtils.getIdKey(c,l);return this.queryParser.flushEntity(t,l,e,p,c,o)}},{key:"setupSelectFields",value:function(e,t,n,i){var o,a,s=!0;if(!e||e instanceof Array){var l="";throw i&&(l="(of '".concat(i.entity.name,".").concat(i.name,"') ")),new Error("'".concat(t.name,"' Entity SELECT clause ").concat(l,"must be specified as an Object."))}(a=o)&&"ID"===a.airportSelectField?(o={},s=!1):o=r({},e);var c=!1;(!0===o.__allFields__||!0===o["*"]||o["*"]&&!0===o["*"].airportSelectField)&&(c=!0,delete o.__allFields__,delete o["*"]);var u=!!t.idColumns.length;for(var d in o){c||(s=!1);var p=t.propertyMap[d];if(!p)throw new Error("Entity property '".concat(t.name,".").concat(d,"' does not exist."));var h=o[d];if(void 0===h||null===h||Je(h)){if(p.isId)throw new Error("@Id properties cannot be excluded from entity queries.");if(!u)throw new Error("Cannot exclude property '".concat(d,"' from SELECT clause \n\t\t\t\t\tfor '").concat(t.name,"' Entity - entity has no @Id so all properties must be included."));delete o[d]}else p.relation&&p.relation.length?o[d]=this.setupSelectFields(h,p.relation[0].relationEntity,n,p):Qe(h)||(o[d]=qe)}var m,v=(0,f.Z)(t.properties);try{for(v.s();!(m=v.n()).done;){var y=m.value;if(!u||y.isId||s){var g=u&&!y.isId;if(y.relation&&y.relation.length){var b=y.relation[0];switch(b.relationType){case X.ONE_TO_MANY:break;case X.MANY_TO_ONE:if(o[y.name])break;var x={};this.entityStateManager.markAsStub(x),o[y.name]=x;break;default:throw new Error("Unknown relation type: '".concat(b.relationType,"' \n\t\t\t\t\t\ton '").concat(t.name,".").concat(y.name,"'."))}}else{var w=o[y.name];if(void 0!==w&&null!==w){if(!g&&!Qe(w))throw new Error("".concat(u?"@Id properties":"Entities without @Id"," \n\t\t\t\t\t\tcannot have default SELECT values."))}else o[y.name]=qe}}}}catch(k){v.e(k)}finally{v.f()}return o}},{key:"getSELECTFragment",value:function(e,t,n,r,i){var o=this.relationManager.getAlias(n.jsonRelation),a=[];this.entityStateManager.isStub(t);var s=this.entityDefaults.getForAlias(o);for(var l in t)if("__state__"!==l){var c=t[l];Qe(c)||(s[l]=c);var u=e.propertyMap[l];if(u.relation&&u.relation.length){var d=u.relation[0];if(this.entityStateManager.isStub(t[l])){var p,h=(0,f.Z)(d.manyRelationColumns);try{for(h.s();!(p=h.n()).done;){var m=p.value.manyColumn;this.addFieldFromColumn(m);var v=this.getSimpleColumnFragment(o,m.name);a.push("".concat(v," ").concat(this.columnAliases.getFollowingAlias()))}}catch(x){h.e(x)}finally{h.f()}}else{var y=this.getSELECTFragment(d.relationEntity,t[l],n.getEntityRelationChildNode(d),r,u);a=a.concat(y)}}else{var g=u.propertyColumns[0].column;this.addFieldFromColumn(g);var b=this.getSimpleColumnFragment(o,g.name);a.push("".concat(b," ").concat(this.columnAliases.getFollowingAlias()))}}return a}},{key:"getFROMFragment",value:function(e,t,n){var r="\t",i=t.jsonRelation,o=this.relationManager.getAlias(i),a=this.qEntityMapByAlias[o];if(!a)throw new Error("Select clause doesn't match the from clause.\nPlease make sure that all entities present in the SELECT: {...} clause\nare specified in the FROM: [...] clause, with the SAME nesting pattern as\nin the SELECT: {...} clause.  The non-matching SELECT clause is:\n\n".concat(Ke(this.jsonQuery.S),"\n\n"));var s=this.storeDriver.getEntityTableName(a.__driver__.dbEntity,n);if(e){var l,c=e.jsonRelation,u=this.relationManager.getAlias(c),d=this.qEntityMapByAlias[u],p=this.qEntityMapByAlias[o];switch(i.jt){case J.FULL_JOIN:throw new Error("Full Joins are not allowed in Entity queries.");case J.INNER_JOIN:l="INNER JOIN";break;case J.LEFT_JOIN:l="LEFT JOIN";break;case J.RIGHT_JOIN:throw new Error("Right Joins are not allowed in Entity queries.");default:throw new Error("Unsupported join type: ".concat(i.jt))}if(i.rt!==K.ENTITY_APPLICATION_RELATION)throw new Error("Only Entity application relations are allowed in Entity query FROM clause.");r+=this.getEntityApplicationRelationFromJoin(d,p,i,c,o,u,l,"Error building FROM: ",n)}else r+="".concat(s," ").concat(o);for(var f=0;f<t.childNodes.length;f++){var h=t.childNodes[f];r+=this.getFROMFragment(t,h,n)}return r}}]),n}(sc),mc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,i,o,a,s,l,u,d,p,f,h,m){var v;return(0,c.Z)(this,n),(v=t.call(this,e,r,ve.SHEET,i,o,a,s,l,u,d,p,f,h,m)).orderByParser=new Gl(l),v}return(0,u.Z)(n,[{key:"parseQueryResults",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],t&&t.length){e.next=3;break}return e.abrupt("return",a);case 3:return a=[],t.forEach((function(e){var t=l.parseQueryResult(l.jsonQuery.S,e,[0],n);a.push(t)})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getSELECTFragment",value:function(e,t,n,r){var i=this;if(!t)throw new Error("SELECT clause is not defined for a Flat Query");var o=t;if(o.ot==ne.DISTINCT_FUNCTION){var a=this.getSELECTFragment(e,o.appliedFunctions[0].p[0],n,r);return"DISTINCT ".concat(a)}if(!(t instanceof Array))throw new Error("SELECT clause for a Flat Query must be an Array");var s=0,l=t.map((function(e){return i.getFieldSelectFragment(e,Bl.NON_MAPPED_SELECT_CLAUSE,null,s++,r)})).join(""),c=n.SELECT;return c&&c.length&&(s&&(l+="\n\t,"),l+=c.map((function(e){return"".concat(e.name)})).join("\n\t,")),l}},{key:"parseQueryResult",value:function(e,t,n,r){var i=this,o=e.map((function(e){var r=i.sqlQueryAdapter.getResultCellValue(t,e.fa,n[0],e.dt,null);return n[0]++,r})),a=r.SELECT;if(a&&a.length){var s,l=(0,f.Z)(a);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=this.sqlQueryAdapter.getResultCellValue(t,c.name,n[0],c.type,null);o.push(u),n[0]++}}catch(d){l.e(d)}finally{l.f()}}return o}}]),n}(uc),vc=function(){function e(){(0,c.Z)(this,e),this.transactionHistory_LocalIdColumns=[]}return(0,u.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.populateTransactionHistory_LocalIdColumns().then();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"populateTransactionHistory_LocalIdColumns",value:function(){var e=this;return new Promise((function(t,n){e.doPopulateTransactionHistory_LocalIdColumns(t)}))}},{key:"doPopulateTransactionHistory_LocalIdColumns",value:function(e){var t=this;if(_a.__dbApplication__&&_a.__dbApplication__.currentVersion){var n=this.getHoldingPatternDbEntity("TransactionHistory"),r=this.getHoldingPatternDbEntity("RepositoryTransactionHistory"),i=this.getHoldingPatternDbEntity("OperationHistory"),o=this.getHoldingPatternDbEntity("RecordHistory");this.transactionHistory_LocalIdColumns.push(n.idColumns[0]),this.transactionHistory_LocalIdColumns.push(r.idColumns[0]),this.transactionHistory_LocalIdColumns.push(i.idColumns[0]),this.transactionHistory_LocalIdColumns.push(o.idColumns[0]),e()}else setTimeout((function(){t.doPopulateTransactionHistory_LocalIdColumns(e)}),100)}},{key:"generateTransactionHistory_LocalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sequenceGenerator.generateSequenceNumbers(this.transactionHistory_LocalIdColumns,[1,t,n,r]);case 2:return i=e.sent,e.abrupt("return",{operationHistory_LocalIds:i[2],recordHistory_LocalIds:i[3],repositoryHistory_LocalIds:i[1],transactionHistory_LocalId:i[0][0]});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"generateEntityIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getHoldingPatternDbEntity",value:function(e){return _a.__dbApplication__.currentVersion[0].applicationVersion.entityMapByName[e]}}]),e}();!function(e){e.CREATED="CREATED",e.DELETED="DELETED",e.UPDATED="UPDATED"}(oc||(oc={}));var yc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"supportsLocalTransactions",value:function(e){return!0}},{key:"getEntityTableName",value:function(e,t){return this.getTableName(e.applicationVersion.application,e,t)}},{key:"getTableName",value:function(e,t,n){var r,i=t.name;return t.tableConfig&&t.tableConfig.name&&(i=t.tableConfig.name),r=e.fullName?e.fullName:this.dbApplicationUtils.getFullApplication_Name(e),this.composeTableName(r,i,n)}},{key:"internalSetupTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tearDownTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.childTransaction&&this.tearDownTransaction(t.childTransaction,n),t.parentTransaction&&(t.parentTransaction.childTransaction=null,t.parentTransaction=null);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"startTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(n);case 2:return e.prev=2,e.next=5,this.internalStartTransaction(t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(2),e.next=11,this.tearDownTransaction(t,n);case 11:throw console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"commit",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(n);case 2:return e.prev=2,e.next=5,this.internalCommit(t);case 5:e.next=19;break;case 7:return e.prev=7,e.t0=e.catch(2),console.error(e.t0),e.prev=10,e.next=13,this.internalRollback(t);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(10),console.error(e.t1);case 18:throw e.t0;case 19:return e.prev=19,e.next=22,this.tearDownTransaction(t,n);case 22:return e.finish(19);case 23:case"end":return e.stop()}}),e,this,[[2,7,19,23],[10,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rollback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(n);case 2:return e.prev=2,e.next=5,this.internalRollback(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,e.next=13,this.tearDownTransaction(t,n);case 13:return e.finish(10);case 14:case"end":return e.stop()}}),e,this,[[2,7,10,14]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){var o,a,l,c,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=this.splitValues(t.jsonQuery.V,n),a=0,l=(0,f.Z)(o),e.prev=3,l.s();case 5:if((c=l.n()).done){e.next=16;break}return u=c.value,d=new ic(r(r({},t.jsonQuery),{},{V:u}),this.getDialect(n),this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,n),p=d.toSQL(n),h=d.getParameters(t.parameterMap,n),e.t0=a,e.next=13,this.executeNative(p,h,n);case 13:a=e.t0+=e.sent;case 14:e.next=5;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(3),l.e(e.t1);case 21:return e.prev=21,l.f(),e.finish(21);case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this,[[3,18,21,24]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Me,i=new rc(t.jsonQuery,this.getDialect(n),this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,n),o=i.toSQL(n),a=i.getParameters(t.parameterMap,n),e.next=6,this.executeNative(o,a,n);case 6:return l=e.sent,this.activeQueries.markQueriesToRerun(r),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new lc(t.jsonQuery,this.getDialect(r),this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,r),o=i.toSQL(n,r),a=i.getParameters(t.parameterMap,r),e.next=5,this.executeNative(o,a,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(r);case 2:return r=e.sent,o=this.getSQLQuery(t,r),a=o.toSQL(n,r),l=o.getParameters(t.parameterMap,r),e.next=8,this.findNative(a,l,r);case 8:return c=e.sent,e.next=11,o.parseQueryResults(c,n,t.queryResultType,r);case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getSQLQuery",value:function(e,t){var n=e.jsonQuery,r=this.getDialect(t),i=e.queryResultType,o=ve;switch(i){case o.ENTITY_GRAPH:case o.ENTITY_TREE:var a=this.airportDatabase.applications[e.applicationIndex].currentVersion[0].applicationVersion.entities[e.tableIndex];return new hc(n,a,r,i,this.airportDatabase,this.applicationUtils,this.entityStateManager,this.objectResultParserFactory,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,t);case o.FIELD:return new dc(n,r,this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,t);case o.SHEET:return new mc(n,r,this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,t);case o.TREE:return new pc(n,r,this.airportDatabase,this.applicationUtils,this.entityStateManager,this.qMetadataUtils,this.qValidator,this.relationManager,this.sqlQueryAdapter,this,this.subStatementSqlGenerator,this.utils,t);case o.RAW:default:throw new Error("Unknown QueryResultType: ".concat(i))}}},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.find(t,n,r);case 2:if(!((o=e.sent).length>1)){e.next=5;break}throw new Error("Expecting a single result, got ".concat(o.length));case 5:if(1!=o.length){e.next=7;break}return e.abrupt("return",o[0]);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"warn",value:function(e){console.log(e)}},{key:"splitValues",value:function(e,t){var n=e[0].length;if(e.length*n<=this.maxValues)return[e];for(var r=Math.floor(this.maxValues/n),i=[],o=0;o<e.length;o+=r){var a=e.slice(o,o+r);i.push(a)}return i}},{key:"ensureContext",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),gc=function(){function e(t,n){(0,c.Z)(this,e),this.driver=t,this.parentTransaction=n,this.isSync=!1,this.initiator={application:"",domain:"",methodName:"",objectName:""},this.__container__=t.__container__,this.id=fa(),this.type=t.type,n&&(n.childTransaction=this)}return(0,u.Z)(e,[{key:"query",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:[],i=a.length>3?a[3]:void 0,o=a.length>4&&void 0!==a[4]&&a[4],e.abrupt("return",this.driver.query(t,n,r,i,o));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"doesTableExist",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.doesTableExist(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"dropTable",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.dropTable(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getEntityTableName",value:function(e,t){return this.driver.getEntityTableName(e,t)}},{key:"getSelectQuerySuffix",value:function(e,t){return this.driver.getSelectQuerySuffix(e,t)}},{key:"getTableName",value:function(e,t,n){return this.driver.getTableName(e,t,n)}},{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"startTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Nested transactions are not supported");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setupTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Nested transactions are not supported");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tearDownTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Nested transactions are not supported");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"commit",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.commit(this,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rollback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.rollback(this,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.deleteWhere(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.find(t,n,r,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.findOne(t,n,r,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"findNative",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.findNative(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.insertValues(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.driver.updateWhere(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"isValueValid",value:function(e,t,n){return this.driver.isValueValid(e,t,n)}}]),e}(),bc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"validateInsertQEntity",value:function(e){}},{key:"validateReadFromEntity",value:function(e){}},{key:"validateReadProperty",value:function(e){}},{key:"validateUpdateProperty",value:function(e,t){}},{key:"validateUpdateColumn",value:function(e){}},{key:"validateReadQEntityProperty",value:function(e,t,n){}},{key:"validateReadQEntityManyToOneRelation",value:function(e,t,n){}},{key:"addFunctionAlias",value:function(e){}},{key:"addSubQueryAlias",value:function(e){}},{key:"validateAliasedFieldAccess",value:function(e){}}]),e}(),xc=_("fuel-hydrant-system");xc.register(fc,vc,Xl,bc,yc);var wc=xc.token("SQLQueryAdaptor");xc.setDependencies(vc,{sequenceGenerator:Ge}),xc.setDependencies(Xl,{applicationUtils:Jr,entityStateManager:He,utils:ui}),xc.setDependencies(yc,{activeQueries:Pl,airportDatabase:pi,applicationUtils:Jr,dbApplicationUtils:Ze,entityStateManager:He,objectResultParserFactory:Xl,qMetadataUtils:ti,qValidator:bc,relationManager:oi,sqlQueryAdapter:wc,subStatementSqlGenerator:fc,transactionManager:Uo,utils:ui}),xc.setDependencies(fc,{airportDatabase:pi,applicationUtils:Jr,entityStateManager:He,qMetadataUtils:ti,qValidator:bc,relationManager:oi,sqlQueryAdapter:wc,storeDriver:Lo,utils:ui});var kc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"loadRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,p,h,m,v,y,g;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.repositoryExistenceChecked){e.next=2;break}return e.abrupt("return");case 2:return r.repositoryExistenceChecked=!0,e.next=5,this.repositoryDao.getRepositoryLoadInfo(t,n,r);case 5:if(i=e.sent,o=!1,a=0,i){if(!i.immutable){o=!0,l=(0,f.Z)(i.repositoryTransactionHistory);try{for(l.s();!(c=l.n()).done;)u=c.value,a<u.saveTimestamp&&(a=u.saveTimestamp)}catch(s){l.e(s)}finally{l.f()}}}else o=!0;if(o){e.next=11;break}return e.abrupt("return");case 11:return d=(new Date).getTime(),e.next=14,this.synchronizationAdapterLoader.load(t);case 14:if(p=e.sent,e.prev=15,!a){e.next=25;break}if(!(a>=d-1e4)){e.next=19;break}return e.abrupt("return");case 19:return a-=1e5,e.next=22,p.getTransactionsForRepository(t,n,a);case 22:h=e.sent,e.next=28;break;case 25:return e.next=27,p.getTransactionsForRepository(t,n);case 27:h=e.sent;case 28:m=new Map,v=(0,f.Z)(h);try{for(v.s();!(y=v.n()).done;)g=y.value,m.set(g.history.GUID,g)}catch(s){v.e(s)}finally{v.f()}return e.next=33,this.synchronizationInManager.receiveMessages(m,r);case 33:e.next=39;break;case 35:return e.prev=35,e.t0=e.catch(15),console.error(e.t0),e.abrupt("return");case 39:case"end":return e.stop()}}),e,this,[[15,35]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Ec=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"createRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.terminalSessionManager.getUserSession();case 2:if(!(o=e.sent).currentRootTransaction.newRepository){e.next=5;break}throw new Error("Cannot create more than one repository per transaction:\nAttempting to create a new repository and Operation Context\nalready contains a new repository.");case 5:return e.next=7,this.createRepositoryRecord(t,n,o.currentTransaction.actor,i);case 7:if(a=e.sent,!n){e.next=11;break}return e.next=11,this.doAddRepositoryNesting(n,a,r,!1,i);case 11:return o.currentRootTransaction.newRepository=a,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"addRepositoryNesting",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doAddRepositoryNesting(t,n,r,!0,i);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"doAddRepositoryNesting",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.parentRepository=t,(a=new Ta).parentRepository=t,a.childRepository=n,a.nestingType=r,a.childRepositoryName=n.name,t.repositoryNestings.push(a),!i){e.next=10;break}return e.next=10,this.repositoryDao.save(n,o);case 10:return e.next=12,this.repositoryNestingDao.save(a,o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"setUiEntryUri",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.terminalSessionManager.getUserSession();case 2:if(e.sent.currentTransaction.actor.application.fullName===n.fullApplicationName){e.next=5;break}throw new Error("Only the Application that created a repository may change the uiEntityUri.");case 5:return n.uiEntryUri=t,e.next=8,this.repositoryDao.updateUiEntityUri(n.GUID,t);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"goOffline",value:function(){throw new Error("not implemented")}},{key:"getUpdateState",value:function(e){throw new Error("not implemented")}},{key:"setUpdateStateForAll",value:function(e){throw new Error("not implemented")}},{key:"setUpdateState",value:function(e,t){throw new Error("not implemented")}},{key:"getRepositoryRecord",value:function(e,t){return{_localId:null,ageSuitability:0,createdAt:new Date,fullApplicationName:t.application.fullName,immutable:!1,name:e,owner:t.userAccount,parentRepository:null,repositoryNestings:[],repositoryTransactionHistory:[],source:"localhost:9000",uiEntryUri:null,GUID:fa()}}},{key:"createRepositoryRecord",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=this.getRepositoryRecord(t,r)).parentRepository=n,e.next=4,this.repositoryDao.save(o,i);case 4:return e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"ensureRepositoryScopeOnInsertValues",value:function(e,t){var n=t.INSERT_INTO;if(!n.__driver__.dbEntity.isAirEntity)return t;var r=t.columns.slice();if(r.some((function(e,t){return e.dbProperty.name===Qr})))return t;r.push(n[Qr]);for(var i=t.VALUES.slice(),o=0;o<i.length;o++){var a=i[o].slice();i[o]=a,a.push(e._localId)}return{INSERT_INTO:n,columns:r,VALUES:i}}},{key:"ensureRepositoryLinkOnUpdateWhere",value:function(e,t,n){if(e.__driver__.dbEntity.isAirEntity)return{UPDATE:n.UPDATE,SET:n.SET,WHERE:lt(n.WHERE,e.repository._localId.equals(t._localId))}}},{key:"ensureRepositoryScopeOnDeleteWhere",value:function(e,t,n){if(e.__driver__.dbEntity.isAirEntity)return{DELETE_FROM:n.DELETE_FROM,WHERE:lt(n.WHERE,e.repository._localId.equals(t._localId))}}}]),e}(),Ic=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"ensureApplicationRecords",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,o){var a,l,c,u,d,p,f,h,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.updateDomain(t,o);case 2:if(!(a=i.terminalStore.getApplicationActorMapByDomainAndApplication_Names().get(t.domain))){e.next=7;break}if((l=a.get(t.name))&&l.length){e.next=7;break}return e.abrupt("return");case 7:return c=i.terminalStore.getFrameworkActor(),e.next=10,i.terminalSessionManager.getUserSession();case 10:return u=e.sent,e.next=13,i.actorDao.findOneByDomainAndApplication_Names_UserAccountGUID_TerminalGUID(t.domain,t.name,u.userAccount.GUID,c.terminal.GUID);case 13:return d=e.sent,e.next=16,i.applicationDao.findByIndex(t.lastIds.applications+1);case 16:if(p=e.sent,d){e.next=22;break}return d={_localId:null,application:p,terminal:c.terminal,userAccount:u.userAccount,GUID:fa()},e.next=21,i.actorDao.save(d,o);case 21:l=[d];case 22:f=i.terminalStore.getTerminalState(),(h=f.applications.slice()).push(p),m=(m=f.applicationActors.slice()).concat(l),i.terminalStore.state.next(r(r({},f),{},{applicationActors:m,applications:h}));case 28:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),null,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"initTerminal",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new ks).GUID="AIRport-internal-"+fa(),o.username="internalUserAccount",(a=new ys).owner=o,a.isLocal=!0,a.GUID=fa(),(l=new wa).userAccount=o,l.terminal=a,l.GUID=fa(),e.next=13,i.getactorDaoAsync();case 13:return c=e.sent,e.next=16,c.save(l,n);case 16:u=i.terminalStore.getTerminalState(),i.terminalStore.state.next(r(r({},u),{},{frameworkActor:l,terminal:a}));case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),null,n);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateDomain",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i,o,a,l,c,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=this.terminalStore.getDomainMapByName().get(t.domain))||!this.entityStateManager.getOriginalValues(i)){e.next=3;break}return e.abrupt("return",i);case 3:return e.next=5,this.domainDao.findByName(t.domain);case 5:if(o=e.sent,!i){e.next=10;break}o&&(this.entityStateManager.setOriginalValues(this.entityStateManager.getOriginalValues(o),i),a=i),e.next=17;break;case 10:if(!o){e.next=14;break}a=o,e.next=17;break;case 14:return a={_localId:null,name:t.domain},e.next=17,this.domainDao.save(a,n);case 17:if(a){e.next=19;break}return e.abrupt("return",i);case 19:for(l=this.terminalStore.getTerminalState(),c=l.domains.slice(),u=!1,d=0;d<c.length;d++)c[d].name===i.name&&(c.splice(d,1,i),u=!0);return u||c.push(i),this.terminalStore.state.next(r(r({},l),{},{domains:c})),e.abrupt("return",a);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Rc=function(){function e(){(0,c.Z)(this,e),this.internal=!0}return(0,u.Z)(e,[{key:"callApi",value:function(e){throw new Error("InternalTransactionalConnector.callApi should never be called.\nInteral Application API requests should be made directly (since\nthey are internal to the AIRport framework).")}},{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.find(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n),i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.findOne(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n),i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"search",value:function(e,t,n){return this.transactionalServer.search(e,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},t),n)}},{key:"searchOne",value:function(e,t,n){return this.transactionalServer.searchOne(e,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},t),n)}},{key:"save",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.save(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveToDestination",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.saveToDestination(t,n,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.insertValues(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n),i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"insertValuesGetLocalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.insertValuesGetLocalIds(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.updateValues(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionalServer.deleteWhere(t,this.terminalStore.getInternalConnector().internalCredentials,r({internal:!0},n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){}}]),e}();var Tc=function(){function e(){(0,c.Z)(this,e),this.online=!1}return(0,u.Z)(e,[{key:"goOffline",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0&&void 0!==t[0]?t[0]:{},this.repositoryManager.goOffline(),this.online=!1;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"goOnline",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>0&&void 0!==t[0]?t[0]:{};case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"isOnline",value:function(){return this.online}}]),e}(),_c=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"processMessage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Te!==t.domain){e.next=3;break}throw new Error("Internal domain cannot be used in external calls");case 3:return i={application:t.application,domain:t.domain,methodName:t.methodName,objectName:t.objectName,transactionId:t.transactionId},(o={}).startedAt=new Date,e.next=8,this.doProcessMessage(t,i,o);case 8:a=e.sent,l=a.theErrorMessage,c=a.theResult,r=l,n=c,e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),n=null,r=e.t0.message;case 20:return e.abrupt("return",{application:t.application,category:"FromDb",domain:t.domain,errorMessage:r,id:t.id,type:t.type,result:n});case 21:case"end":return e.stop()}}),e,this,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"doProcessMessage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i){var o,a,l,c,u,d,p,f,h,m,v,y,g,b,x,w,k;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=null,a=null,e.t0=t.type,e.next=e.t0===ao.APP_INITIALIZING?5:e.t0===ao.APP_INITIALIZED?21:e.t0===ao.GET_LATEST_APPLICATION_VERSION_BY_APPLICATION_NAME?24:e.t0===ao.RETRIEVE_DOMAIN?26:e.t0===ao.DELETE_WHERE?28:e.t0===ao.FIND?33:e.t0===ao.FIND_ONE?38:e.t0===ao.INSERT_VALUES?43:e.t0===ao.INSERT_VALUES_GET_IDS?48:e.t0===ao.SAVE||e.t0===ao.SAVE_TO_DESTINATION?53:e.t0===ao.SEARCH?74:e.t0===ao.SEARCH_ONE?79:e.t0===ao.UPDATE_VALUES?84:89;break;case 5:if(l=t.jsonApplication,c=this.dbApplicationUtils.getFullApplication_Name(l),u=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),c===u){e.next=12;break}return a=null,e.abrupt("break",90);case 12:if(!this.terminalStore.getReceiver().initializingApps.has(c)){e.next=14;break}return e.abrupt("return",{theErrorMessage:o,theResult:a});case 14:return this.terminalStore.getReceiver().initializingApps.add(c),e.next=17,this.databaseManager.initFeatureApplications({},[l]);case 17:return e.next=19,this.internalRecordManager.ensureApplicationRecords(l,{});case 19:return a=l.lastIds,e.abrupt("break",90);case 21:return this.terminalStore.getReceiver().initializedApps.add(t.fullApplication_Name),e.abrupt("return",{theErrorMessage:o,theResult:a});case 24:return a=this.terminalStore.getLatestApplicationVersionMapByFullApplication_Name().get(t.fullApplication_Name),e.abrupt("break",90);case 26:return a=this.terminalStore.getDomainMapByName().get(t.domain),e.abrupt("break",90);case 28:return d=t,e.next=31,this.transactionalServer.deleteWhere(d.portableQuery,n,i);case 31:return a=e.sent,e.abrupt("break",90);case 33:return p=t,e.next=36,this.transactionalServer.find(p.portableQuery,n,r(r({},i),{},{repository:p.repository}));case 36:return a=e.sent,e.abrupt("break",90);case 38:return f=t,e.next=41,this.transactionalServer.findOne(f.portableQuery,n,r(r({},i),{},{repository:f.repository}));case 41:return a=e.sent,e.abrupt("break",90);case 43:return h=t,e.next=46,this.transactionalServer.insertValues(h.portableQuery,n,i);case 46:return a=e.sent,e.abrupt("break",90);case 48:return m=t,e.next=51,this.transactionalServer.insertValuesGetLocalIds(m.portableQuery,n,i);case 51:return a=e.sent,e.abrupt("break",90);case 53:if((v=t).dbEntity){e.next=57;break}return o="DbEntity id was not passed in",e.abrupt("break",90);case 57:if(y=v.dbEntity._localId,g=this.terminalStore.getAllEntities()[y]){e.next=62;break}return o="Could not find DbEntity with Id ".concat(y),e.abrupt("break",90);case 62:if(i.dbEntity=g,t.type!==ao.SAVE){e.next=69;break}return e.next=66,this.transactionalServer.save(v.entity,n,i);case 66:a=e.sent,e.next=73;break;case 69:return b=t,e.next=72,this.transactionalServer.saveToDestination(b.repositoryDestination,b.entity,n,i);case 72:a=e.sent;case 73:return e.abrupt("break",90);case 74:return x=t,e.next=77,this.transactionalServer.search(x.portableQuery,n,r(r({},i),{},{repository:x.repository}));case 77:return a=e.sent,e.abrupt("break",90);case 79:return w=t,e.next=82,this.transactionalServer.search(w.portableQuery,n,r(r({},i),{},{repository:w.repository}));case 82:return a=e.sent,e.abrupt("break",90);case 84:return k=t,e.next=87,this.transactionalServer.updateValues(k.portableQuery,n,i);case 87:return a=e.sent,e.abrupt("break",90);case 89:case 90:return e.abrupt("return",{theErrorMessage:o,theResult:a});case 91:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"startApiCall",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={application:t.application,domain:t.domain,methodName:t.methodName,objectName:t.objectName,transactionId:t.transactionId},e.next=3,this.transactionalServer.startTransaction(i,n);case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{isStarted:!1});case 5:return e.next=7,this.getApiCallActor(t,n);case 7:if(o=e.sent,(a=n.transaction.initiator).application=t.application,a.domain=t.domain,a.methodName=t.methodName,a.objectName=t.objectName,l=!0,e.prev=14,-1!==_e.indexOf(t.domain)){e.next=19;break}return l=!1,e.next=19,this.doNativeHandleCallback(t,o,n,r);case 19:e.next=26;break;case 21:return e.prev=21,e.t0=e.catch(14),n.errorMessage=e.t0.message,this.transactionalServer.rollback(i,n),e.abrupt("return",{isStarted:!1});case 26:return e.abrupt("return",{isFramework:l,isStarted:!0});case 27:case"end":return e.stop()}}),e,this,[[14,21]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"doNativeHandleCallback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.transactionId=r.transaction.id,t.actor={application:n.application,GUID:n.GUID,terminal:{GUID:n.terminal.GUID},userAccount:{GUID:n.userAccount.GUID,username:n.userAccount.username}},e.next=4,i();case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getApiCallActor",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.terminalSessionManager.getUserSession();case 2:if(i=e.sent,e.prev=3,!(_e.indexOf(t.domain)>-1&&n.transaction.parentTransaction)){e.next=7;break}return r=n.transaction.parentTransaction.actor,e.abrupt("return",r);case 7:return o=this.terminalStore.getTerminal(),e.next=10,this.actorDao.findOneByDomainAndApplication_Names_UserAccountGUID_TerminalGUID(t.domain,t.application,i.userAccount.GUID,o.GUID);case 10:if(!(r=e.sent)){e.next=13;break}return e.abrupt("return",r);case 13:return e.next=15,this.applicationDao.findOneByDomain_NameAndApplication_Name(t.domain,t.application);case 15:return a=e.sent,r={application:a,GUID:fa(),terminal:o,userAccount:i.userAccount},e.next=19,this.actorDao.save(r,n);case 19:return e.abrupt("return",r);case 20:return e.prev=20,n.transaction.actor=r,i.currentTransaction=n.transaction,e.finish(20);case 24:case"end":return e.stop()}}),e,this,[[3,,20,24]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"endApiCall",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=7;break}return e.next=4,this.transactionalServer.rollback(t,r);case 4:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,this.transactionalServer.commit(t,r);case 10:return e.prev=10,e.next=13,this.terminalSessionManager.getUserSession();case 13:return e.sent.currentTransaction=r.transaction,e.finish(10);case 16:case"end":return e.stop()}}),e,this,[[0,,10,16]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Sc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:{},e.next=3,this.transactionManager.initialize("airport",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=3,this.queryManager.find(t,r,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=3,this.queryManager.findOne(t,r,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"search",value:function(e,t,n,r){return(n.transaction||t.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(t,n),this.queryManager.search(e,n)}},{key:"searchOne",value:function(e,t,n,r){return(n.transaction||t.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(t,n),this.queryManager.searchOne(e,n)}},{key:"startTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transactionManager.startTransaction(t,n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),n.errorMessage=e.t0.message,console.error(e.t0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"commit",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transactionManager.commit(t,n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),n.errorMessage=e.t0.message,e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"rollback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.transactionManager.rollback(t,n);case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),n.errorMessage=e.t0.message,e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=5,this.getActor(n);case 5:return i=e.sent,r.actor=i,e.next=9,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.operationManager.performSave(t,i,n,r.rootTransaction,r);case 2:o=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n,r);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"saveToDestination",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,c=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return(i.transaction||r.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(r,i),e.next=5,this.getActor(r);case 5:return o=e.sent,i.actor=o,e.next=9,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.operationManager.performSave(n,o,t,r.rootTransaction,r);case 2:a=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r,i);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,c=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=3,this.getActor(n);case 3:return o=e.sent,e.next=6,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.insertManager.insertValues(t,o,n,r.rootTransaction,r,i);case 2:a=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n,r);case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"insertValuesGetLocalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=3,this.getActor(n);case 3:return i=e.sent,e.next=6,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.insertManager.insertValuesGetLocalIds(t,i,n,r.rootTransaction,r);case 2:o=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n,r);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=3,this.getActor(n);case 3:return i=e.sent,e.next=6,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateManager.updateValues(t,i,n,r.rootTransaction,r);case 2:o=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n,r);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r.transaction||n.transactionId)&&this.transactionManager.getTransactionFromContextOrCredentials(n,r),e.next=3,this.getActor(n);case 3:return i=e.sent,e.next=6,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.deleteManager.deleteWhere(t,i,n,r.rootTransaction,r);case 2:o=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),n,r);case 6:return e.abrupt("return",o);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getActor",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.tempActor){e.next=2;break}return e.abrupt("return",this.tempActor);case 2:if(Te!==t.domain){e.next=4;break}return e.abrupt("return",this.terminalStore.getFrameworkActor());case 4:if(n=this.terminalStore.getTransactionManager().transactionInProgressMap.get(t.transactionId)){e.next=7;break}throw new Error("Could not find transaction by Id: "+t.transactionId);case 7:if(r=n.actor){e.next=10;break}throw new Error("No actor associated with transaction Id: "+t.transactionId);case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();var Ac=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getPortableQuery",value:function(e,t,n,r){return{applicationIndex:e,tableIndex:t,jsonQuery:n.toJSON(this.queryUtils,this.fieldUtils,this.relationManager),parameterMap:n.getParameters(),queryResultType:r}}},{key:"doInsertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l,c,u,d,p,h,m,v=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.__driver__.dbEntity,a=[],l=[],c=(0,f.Z)(o.properties),e.prev=4,d=(0,s.Z)().mark((function e(){var t,n,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.value,n={name:t.name,nested:null},!t.relation||!t.relation.length){e.next=7;break}r=t.relation[0],v.applicationUtils.forEachColumnTypeOfRelation(r,(function(e,t){if(!a[e.index]){a[e.index]=e.index,l[e.index]=n;for(var r=t[0],i=1;i<r.length;i++){var o={name:r[i],nested:null};n.nested=o,n=o}}})),e.next=12;break;case 7:if(i=t.propertyColumns[0].column,!a[i.index]){e.next=10;break}return e.abrupt("return","continue");case 10:a[i.index]=i.index,l[i.index]=n;case 12:case"end":return e.stop()}}),e)})),c.s();case 7:if((u=c.n()).done){e.next=14;break}return e.delegateYield(d(),"t0",9);case 9:if("continue"!==e.t0){e.next=12;break}return e.abrupt("continue",12);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(4),c.e(e.t1);case 19:return e.prev=19,c.f(),e.finish(19);case 22:return p=r.map((function(e){return l.map((function(t){for(var n=e[t.name];t.nested&&n instanceof Object;)n=n[(t=t.nested).name];return void 0===n?null:n}))})),h=new wn({INSERT_INTO:n,columns:null,VALUES:p},a),m=this.getPortableQuery(o.applicationVersion.application.index,o.index,h,null),e.next=28,t.insertValues(m,i);case 28:return e.abrupt("return",e.sent);case 29:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}(),Nc=function(){function e(){(0,c.Z)(this,e),this.initialized=!1}return(0,u.Z)(e,[{key:"initNoDb",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.airportDatabase.load(),this.transactionalServer.tempActor=new wa,e.next=4,this.installStarterApplication(!0,!1,t);case 4:for(n=o.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=o[i];return e.next=7,this.applicationInitializer.stage(r,t);case 7:this.transactionalServer.tempActor=null,this.initialized=!0;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initWithDb",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.airportDatabase.load(),this.transactionalServer.tempActor=new wa,e.next=4,this.transactionManager.transactInternal(function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.storeDriver.doesTableExist(r.dbApplicationUtils.getFullApplication_Name(Gs.BLUEPRINT[0]),"PACKAGES",i);case 2:return o=e.sent,e.next=5,r.installStarterApplication(!1,o,i);case 5:if(o){e.next=8;break}return e.next=8,r.internalRecordManager.initTerminal(t,i);case 8:r.transactionalServer.tempActor=null,r.initialized=!0;case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),null,{doNotRecordHistory:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"isInitialized",value:function(){return this.initialized}},{key:"initFeatureApplications",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.applicationDao.findAllWithJson();case 2:r=e.sent,i=new Map,o=(0,f.Z)(r);try{for(o.s();!(a=o.n()).done;)l=a.value,i.set(l.fullName,l)}catch(s){o.e(s)}finally{o.f()}c=[],u=(0,f.Z)(n);try{for(u.s();!(d=u.n()).done;)p=d.value,(h=i.get(this.dbApplicationUtils.getFullApplication_Name(p)))?p.lastIds=h.versions[0].jsonApplication.lastIds:c.push(p)}catch(s){u.e(s)}finally{u.f()}return this.transactionalServer.tempActor=new wa,e.next=12,this.applicationInitializer.initialize(c,t,!0,!0,!0);case 12:this.transactionalServer.tempActor=null;case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"installStarterApplication",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.bind(n,392));case 2:if(o=e.sent,!t){e.next=8;break}return e.next=6,this.applicationInitializer.stage(o.BLUEPRINT,i);case 6:case 11:e.next=15;break;case 8:if(!r){e.next=13;break}return e.next=11,this.applicationInitializer.hydrate(o.BLUEPRINT,i);case 13:return e.next=15,this.applicationInitializer.initialize(o.BLUEPRINT,i,!1,!1,!1);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Zc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,p,h,m,v,y,g,b;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.airportDatabase.applications[t.applicationIndex].currentVersion[0].applicationVersion.entities[t.tableIndex],l=r.deleteWhere(t,o),!a.isLocal&&!r.isSync){e.next=6;break}return e.next=5,l;case 5:case 21:return e.abrupt("return",e.sent);case 6:return c=this.getCascadeSubTree(a),u=t.jsonQuery,d={S:c,F:[u.DF],W:u.W},p={applicationIndex:t.applicationIndex,tableIndex:t.tableIndex,jsonQuery:d,queryResultType:ve.ENTITY_TREE,parameterMap:t.parameterMap},e.next=12,r.find(p,{},o);case 12:h=e.sent,m=new Map,v=new Set,y=(0,f.Z)(h);try{for(y.s();!(g=y.n()).done;)b=g.value,this.recordRepositoryIds(b,a,m,v,this.applicationUtils)}catch(s){y.e(s)}finally{y.f()}return e.next=19,this.recordTreeToDelete(m,n,r,i,o);case 19:return e.next=21,l;case 22:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"recordRepositoryIds",value:function(e,t,n,r,i){var o=this,a=e.repository._localId;r.add(a);var s=Pe(n,t.applicationVersion.application.index),l=Ve(Pe(s,t.index),a),c={};l.push(c);var u,d=(0,f.Z)(t.properties);try{var p=function(){var a=u.value;if(a.relation&&a.relation.length){if(!e[a.name])return"continue";var s=a.relation[0];switch(s.relationType){case X.MANY_TO_ONE:i.forEachColumnOfRelation(s,e,(function(e,t,n){o.columnProcessed(a,c,e,t)}),!1);break;case X.ONE_TO_MANY:if(!s.oneToManyElems)return"continue";var l=e[s.property.name];if(l&&l.length){var d=s.relationEntity;l.forEach((function(e){o.recordRepositoryIds(e,d,n,r,i)}))}break;default:throw new Error("Unknown relation type: '".concat(s.relationType,"' \n\t\t\t\t\t\t\ton '").concat(t.name,".").concat(s.property.name,"'."))}}else{var p=e[a.name];if(null===p||void 0===p)return"continue";o.columnProcessed(a,c,a.propertyColumns[0].column,p)}};for(d.s();!(u=d.n()).done;)p()}catch(h){d.e(h)}finally{d.f()}}},{key:"columnProcessed",value:function(e,t,n,r){if(void 0===t[n.name])return t[n.name]=r,!1;if(!this.utils.valuesEqual(t[n.name],r))throw new Error("Found value mismatch in '".concat(e.entity.name,".").concat(e.name,"'\n\t\t\t(column: '").concat(n.name,"'): ").concat(t[n.name]," !== ").concat(r));return!0}},{key:"recordTreeToDelete",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=(0,f.Z)(t),e.prev=1,l.s();case 3:if((c=l.n()).done){e.next=62;break}u=(0,p.Z)(c.value,2),d=u[0],h=u[1],m=(0,f.Z)(h),e.prev=6,m.s();case 8:if((v=m.n()).done){e.next=52;break}if(y=(0,p.Z)(v.value,2),g=y[0],b=y[1],x=this.airportDatabase.applications[d].currentVersion[0].applicationVersion.entities[g],a){e.next=15;break}return e.next=14,ai(this.airportDatabase,this.sequenceGenerator);case 14:a=e.sent;case 15:w=(0,f.Z)(b),e.prev=16,w.s();case 18:if((k=w.n()).done){e.next=42;break}return E=(0,p.Z)(k.value,2),I=E[0],R=E[1],e.next=22,this.historyManager.getNewRepositoryTransactionHistory(r.transactionHistory,I,o);case 22:T=e.sent,_=this.repositoryTransactionHistoryDuo.startOperation(T,a,ce.DELETE_ROWS,x,n,i),S=(0,f.Z)(R),e.prev=25,N=(0,s.Z)().mark((function e(){var t,n,r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=A.value,n=Z.operationHistoryDuo.startRecordHistory(_,t.actor._localId,t._actorRecordId),r=(0,f.Z)(x.properties),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=22;break}if(!(o=i.value).relation||!o.relation.length){e.next=18;break}a=o.relation[0],e.t0=a.relationType,e.next=e.t0===X.MANY_TO_ONE?12:e.t0===X.ONE_TO_MANY?14:15;break;case 12:return Z.applicationUtils.forEachColumnOfRelation(a,t,(function(e,t,r){switch(e.name){case Q.ACTOR_LID:case Q.REPOSITORY_LID:break;default:Z.recordHistoryDuo.addOldValue(n,e,t)}})),e.abrupt("break",16);case 14:return e.abrupt("break",16);case 15:throw new Error("Unknown relation type: '".concat(a.relationType,"'\n\t\t\t\t\t\t\t\t\t\ton '").concat(x.name,".").concat(o.name,"'."));case 16:e.next=20;break;case 18:l=o.propertyColumns[0].column,Z.recordHistoryDuo.addOldValue(n,l,t[o.name]);case 20:e.next=5;break;case 22:e.next=27;break;case 24:e.prev=24,e.t1=e.catch(3),r.e(e.t1);case 27:return e.prev=27,r.f(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[3,24,27,30]])})),S.s();case 28:if((A=S.n()).done){e.next=32;break}return e.delegateYield(N(),"t0",30);case 30:e.next=28;break;case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(25),S.e(e.t1);case 37:return e.prev=37,S.f(),e.finish(37);case 40:e.next=18;break;case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(16),w.e(e.t2);case 47:return e.prev=47,w.f(),e.finish(47);case 50:e.next=8;break;case 52:e.next=57;break;case 54:e.prev=54,e.t3=e.catch(6),m.e(e.t3);case 57:return e.prev=57,m.f(),e.finish(57);case 60:e.next=3;break;case 62:e.next=67;break;case 64:e.prev=64,e.t4=e.catch(1),l.e(e.t4);case 67:return e.prev=67,l.f(),e.finish(67);case 70:case"end":return e.stop()}}),e,this,[[1,64,67,70],[6,54,57,60],[16,44,47,50],[25,34,37,40]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"getCascadeSubTree",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,f.Z)(e.properties);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=void 0;if(i.relation&&i.relation.length&&(o=i.relation[0]),o)switch(o.relationType){case X.ONE_TO_MANY:if(!o.oneToManyElems)continue;var a={};n[i.name]=a,this.getCascadeSubTree(o.relationEntity,a);break;case X.MANY_TO_ONE:this.applicationUtils.addRelationToEntitySelectClause(o,n);break;default:throw new Error("Unknown relation type: '".concat(o.relationType,"' \n\t\t\t\t\t\t\ton '").concat(e.name,".").concat(i.name,"'."))}else n[i.name]=qe}}catch(s){r.e(s)}finally{r.f()}return n}}]),e}(),Cc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getNewTransactionHistory",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:le.LOCAL,e.next=3,this.transactionHistoryDuo.getNewRecord(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNewRepositoryTransactionHistory",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transactionHistoryDuo.getRepositoryTransaction(t,n,!!r.rootTransaction.newRepository);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),Oc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internalInsertValues(t,n,r,i,o,!1,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()},{key:"insertValuesGetLocalIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.internalInsertValues(t,n,r,i,o,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"verifyNoGeneratedColumns",value:function(e,t,n){for(var r=0;r<t.C.length;r++){var i=t.C[r],o=e.columns[i];if(o.isGenerated)throw new Error(n+"You cannot explicitly insert into a @GeneratedValue column '".concat(o.name,"'"))}return e.columns.filter((function(e){return e.isGenerated}))}},{key:"internalInsertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=_.length>5&&void 0!==_[5]&&_[5],l=!(_.length>6&&void 0!==_[6])||_[6],c=this.airportDatabase.applications[t.applicationIndex].currentVersion[0].applicationVersion.entities[t.tableIndex],u="Error inserting into '".concat(c.name,"'.'\n"),this.validateValueRowLength(t,u),d=t.jsonQuery,p={},h=0,m=(0,f.Z)(d.C),e.prev=9,m.s();case 11:if((v=m.n()).done){e.next=40;break}if(!((y=v.value)<0||y>=c.columns.length)){e.next=15;break}throw new Error(u+"Invalid column index: ".concat(y));case 15:if(!p[y]){e.next=17;break}throw new Error(u+"Column ".concat(c.name,".").concat(c.columns[y].name," \nappears more than once in the Columns clause"));case 17:g=1,b=(0,f.Z)(d.V),e.prev=19,b.s();case 21:if((x=b.n()).done){e.next=28;break}if(void 0!==x.value[h]){e.next=25;break}throw new Error(u+"\n\t'undefined' value in column ".concat(c.name,".").concat(c.columns[y].name," of row ").concat(g,".\n\tAll values in an insert statment must either be null or have a non-null value."));case 25:g++;case 26:e.next=21;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(19),b.e(e.t0);case 33:return e.prev=33,b.f(),e.finish(33);case 36:h++,p[y]=!0;case 38:e.next=11;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(9),m.e(e.t1);case 45:return e.prev=45,m.f(),e.finish(45);case 48:if(k=t.jsonQuery,c.isAirEntity&&(w=this.ensureAirEntityIdValues(n,c,k,u,r,o)),r.isSync&&!o.generateOnSync||(E=this.verifyNoGeneratedColumns(c,t.jsonQuery,u)),c.isLocal){e.next=55;break}return e.next=54,ai(this.airportDatabase,this.sequenceGenerator);case 54:R=e.sent;case 55:if(r.isSync&&!o.generateOnSync||!l){e.next=59;break}return e.next=58,this.ensureGeneratedValues(c,k,n,w,E,R,u,this.sequenceGenerator);case 58:I=e.sent;case 59:if(c.isLocal||r.isSync){e.next=62;break}return e.next=62,this.addInsertHistory(c,t,n,R,r,i,o);case 62:return e.next=64,r.insertValues(t,o);case 64:return T=e.sent,e.abrupt("return",a?I:T);case 66:case"end":return e.stop()}}),e,this,[[9,42,45,48],[19,30,33,36]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"validateValueRowLength",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.jsonQuery.V).length){e.next=3;break}throw new Error(n+"no colum values provided");case 3:if((i=r[0])&&i.length){e.next=6;break}throw new Error(n+"First row has no values");case 6:o=i.length,a=0;case 8:if(!(a<r.length)){e.next=15;break}if((l=r[a]).length===o){e.next=12;break}throw new Error(n+"First row has ".concat(o," values,\n\twhile row ").concat(a+1," has ").concat(l.length," values"));case 12:a++,e.next=8;break;case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"ensureGeneratedValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l,c){var u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=n.V,d=t.idColumns,p=[],h=(0,f.Z)(u);try{for(h.s();!(m=h.n()).done;)m.value,p.push([])}catch(_){h.e(_)}finally{h.f()}t.isLocal||(v=i.actorIdColumn,y=i.sysWideOperationIdColumn),g=(0,f.Z)(d),e.prev=7,x=(0,s.Z)().mark((function e(){var i,o,a,c,d,f,h,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=b.value).isGenerated){e.next=3;break}return e.abrupt("return","continue");case 3:if(o=!1,c=n.C.filter((function(e,t){if(e===i.index)return a=t,!0})),!(c.length<1)){e.next=13;break}if(i._localId!==v._localId){e.next=12;break}o=!0,a=n.C.length,n.C.push(v.index),e.next=13;break;case 12:throw new Error(l+"Could not find @Id column ".concat(t.name,".").concat(i.name," in\n\t\t\t\t\tthe insert statement.  Non-generated @Id columns must be present in the Insert\n\t\t\t\t\tstatement (with exception of Actor ID)."));case 13:d=0;case 14:if(!(d<u.length)){e.next=29;break}if(f=u[d],h=p[d],m=void 0,!o){e.next=22;break}m=r._localId,e.next=25;break;case 22:if((m=f[a])||0===m){e.next=25;break}throw new Error(l+"No value provided on insert for @Id '".concat(t.name,".").concat(i.name,"'."));case 25:h[i.index]=m;case 26:d++,e.next=14;break;case 29:case"end":return e.stop()}}),e)})),g.s();case 10:if((b=g.n()).done){e.next=17;break}return e.delegateYield(x(),"t0",12);case 12:if("continue"!==e.t0){e.next=15;break}return e.abrupt("continue",15);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),g.e(e.t1);case 22:return e.prev=22,g.f(),e.finish(22);case 25:w=[],k=(0,f.Z)(o),e.prev=27,k.s();case 29:if((E=k.n()).done){e.next=37;break}return I=E.value,n.C.length,w.push(n.C.length),n.C.push(I.index),e.abrupt("continue",35);case 35:e.next=29;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(27),k.e(e.t2);case 42:return e.prev=42,k.f(),e.finish(42);case 45:return R=o.map((function(e){return u.length})),e.next=48,c.generateSequenceNumbers(o,R);case 48:if(T=e.sent,o.forEach((function(e,t){var n=T[t],r=w[t];u.forEach((function(t,i){var o=n[i];t[r]=o,p[i][e.index]=o}))})),t.isLocal||(n.C.push(y.index),u.forEach((function(e){e.push(a)}))),d.length||o.length){e.next=53;break}return e.abrupt("return",u.length);case 53:return e.abrupt("return",p);case 54:case"end":return e.stop()}}),e,null,[[7,19,22,25],[27,39,42,45]])})));return function(t,n,r,i,o,a,s,l){return e.apply(this,arguments)}}()},{key:"ensureAirEntityIdValues",value:function(e,t,n,r,i,o){for(var a,s=t.idColumnMap[Q.ACTOR_LID],l=t.idColumnMap[Q.ACTOR_RECORD_ID],c=t.idColumnMap[Q.REPOSITORY_LID],u=t.columnMap[Q.SYSTEM_WIDE_OPERATION_ID],d=!1,p=!1,h=!1,m=0;m<n.C.length;m++){switch(n.C[m]){case s.index:if(d=!0,o.isSaveOperation)break;if(!i.isSync)throw new Error(r+"You cannot explicitly provide an ACTOR_LID value for Repository entities.");break;case l.index:if(p=!0,!i.isSync)throw new Error(r+"You cannot explicitly provide an ACTOR_RECORD_ID value for Repository entities.");break;case u.index:if(h=!0,!i.isSync)throw new Error("Error inserting into '".concat(t.name,"'.\nYou cannot explicitly provide a SYSTEM_WIDE_OPERATION_ID value for Repository entities."));break;case c.index:a=m}}var v=r+"Error inserting into '".concat(t.name,"'.\nYou must provide a valid REPOSITORY_LID value for Repository entities.");if(void 0===a)throw new Error(v);if(i.isSync){if(!d)throw new Error(r+"ACTOR_LID must be provided for sync operations.");if(!p)throw new Error(r+"ACTOR_RECORD_ID must be provided for sync operations.");if(!h)throw new Error(r+"SYSTEM_WIDE_OPERATION_ID must be provided for sync operations.")}var y,g=(0,f.Z)(n.V);try{for(g.s();!(y=g.n()).done;){var b=y.value;if(b.length!==n.C.length)throw new Error(r+"Number of columns (".concat(n.C.length,") does not match number of values (").concat(b.length,").\n\t\t\t\t"));var x=b[a];if("number"!==typeof x||!Number.isInteger(x)||x<1)throw new Error(v);for(var w=0;w<b.length;w++)if(w!==a){var k=b[w],E=n.C[w],I=t.columns[E];if(I.notNull&&null===k)throw new Error(r+"Column '".concat(I.name,"' is NOT NULL\nand cannot have NULL values."))}o.isSaveOperation||i.isSync||(b[s.index]=e._localId)}}catch(R){g.e(R)}finally{g.f()}return{actorIdColumn:s,sysWideOperationIdColumn:u}}},{key:"addInsertHistory",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l){var c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.jsonQuery,u=[],d=[],p=t.columnMap[Q.REPOSITORY_LID].index,h=t.columnMap[Q.ACTOR_LID].index,m=t.columnMap[Q.ACTOR_RECORD_ID].index,e.t0=(0,s.Z)().keys(c.C);case 7:if((e.t1=e.t0()).done){e.next=21;break}b=e.t1.value,x=c.C[b],e.t2=x,e.next=e.t2===p?13:e.t2===h?15:e.t2===m?17:19;break;case 13:return v=b,e.abrupt("break",19);case 15:return y=b,e.abrupt("break",19);case 17:return g=b,e.abrupt("break",19);case 19:e.next=7;break;case 21:w=(0,f.Z)(c.V),e.prev=22,w.s();case 24:if((k=w.n()).done){e.next=50;break}if(E=k.value,I=E[v],R=d[I]){e.next=32;break}return e.next=31,this.historyManager.getNewRepositoryTransactionHistory(o.transactionHistory,I,l);case 31:R=e.sent;case 32:(T=u[I])||(T=this.repositoryTransactionHistoryDuo.startOperation(R,i,ce.INSERT_VALUES,t,r,a),u[I]=T),_=E[g],S=E[y],A=this.operationHistoryDuo.startRecordHistory(T,S,_),e.t3=(0,s.Z)().keys(c.C);case 38:if((e.t4=e.t3()).done){e.next=48;break}if((N=e.t4.value)!==v&&N!==y&&N!==g){e.next=42;break}return e.abrupt("continue",38);case 42:Z=c.C[N],C=t.columns[Z],O=E[N],this.recordHistoryDuo.addNewValue(A,C,O),e.next=38;break;case 48:e.next=24;break;case 50:e.next=55;break;case 52:e.prev=52,e.t5=e.catch(22),w.e(e.t5);case 55:return e.prev=55,w.f(),e.finish(55);case 58:case"end":return e.stop()}}),e,this,[[22,52,55,58]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}()}]),e}(),Dc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureRepositoryPresenceAndCurrentState(n);case 2:return e.next=4,this.storeDriver.find(t,{},n,r);case 4:if((i=e.sent)&&i.length){e.next=7;break}return e.abrupt("return",i);case 7:return e.next=9,this.populateEntityGuidEntitiesAndUserAccounts(t,i);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureRepositoryPresenceAndCurrentState(n);case 2:return e.next=4,this.storeDriver.findOne(t,{},n,r);case 4:if(i=e.sent){e.next=7;break}return e.abrupt("return",i);case 7:return e.next=9,this.populateEntityGuidEntitiesAndUserAccounts(t,[i]);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"search",value:function(e,t,n){var r=this;return this.observableQueryAdapter.wrapInObservable(e,(function(){return r.storeDriver.find(e,{},t).then((function(t){return t&&t.length?r.populateEntityGuidEntitiesAndUserAccounts(e,t):t}))}))}},{key:"searchOne",value:function(e,t,n){var r=this;return this.observableQueryAdapter.wrapInObservable(e,(function(){return r.storeDriver.findOne(e,{},t).then((function(t){return t?r.populateEntityGuidEntitiesAndUserAccounts(e,[t])[0]:t}))}))}},{key:"ensureRepositoryPresenceAndCurrentState",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.repository&&t.repository.source&&t.repository.GUID)){e.next=3;break}return e.next=3,this.repositoryLoader.loadRepository(t.repository.source,t.repository.GUID,t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"populateEntityGuidEntitiesAndUserAccounts",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=2;break}return e.abrupt("return");case 2:if(t.queryResultType===ve.ENTITY_GRAPH||t.queryResultType===ve.ENTITY_TREE){e.next=4;break}return e.abrupt("return");case 4:return r=this.airportDatabase.applications[t.applicationIndex].currentVersion[0].applicationVersion.entities[t.tableIndex],i=new Map,o=new Map,a=new Map,this.markEntities(n,new Set,i,o,a,r),e.next=11,this.populateActorsAndUserAccounts(o,a);case 11:return e.next=13,this.populateRepositories(i);case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"markEntities",value:function(e,t,n,r,i,o){var a,s=(0,f.Z)(e);try{for(s.s();!(a=s.n()).done;){var l=a.value;if(!t.has(l)){t.add(l);var c,u=(0,f.Z)(o.properties);try{for(u.s();!(c=u.n()).done;){var d=c.value,p=l[d.name];if(p&&(d.relation&&d.relation.length)){var h=d.relation[0],m=p;switch(h.relationType){case X.MANY_TO_ONE:if(this.processRepositoryOrActor(l,d,p,n,r,i))continue;m=[p];case X.ONE_TO_MANY:}this.markEntities(m,t,n,r,i,h.relationEntity)}}}catch(v){u.e(v)}finally{u.f()}}}}catch(v){s.e(v)}finally{s.f()}}},{key:"processRepositoryOrActor",value:function(e,t,n,r,i,o){var a=!0;switch(t.name){case Wr:break;case Qr:a=!1;break;default:return!1}if(!n._localId)throw new Error("Actor entity does not have a _localId");return n.GUID?!a||(n.userAccount||o.set(n._localId,n),!0):(a?Ve(i,n._localId).push(e):Ve(r,n._localId).push(e),!0)}},{key:"populateActorsAndUserAccounts",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,h,m,v,y,g,b,x;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Set,i=(0,f.Z)(t.keys());try{for(i.s();!(o=i.n()).done;)a=o.value,r.add(a)}catch(s){i.e(s)}finally{i.f()}l=(0,f.Z)(n.keys());try{for(l.s();!(c=l.n()).done;)u=c.value,r.add(u)}catch(s){l.e(s)}finally{l.f()}if(r.size){e.next=7;break}return e.abrupt("return");case 7:return d=Array.from(r),e.next=10,this.actorDao.findWithUserAccountBy_LocalIdIn(d);case 10:p=e.sent,h=(0,f.Z)(p);try{for(h.s();!(m=h.n()).done;){if(v=m.value,y=t.get(v._localId)){g=(0,f.Z)(y);try{for(g.s();!(b=g.n()).done;)b.value.actor=v}catch(s){g.e(s)}finally{g.f()}}(x=n.get(v._localId))&&(x.userAccount=v.userAccount)}}catch(s){h.e(s)}finally{h.f()}case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"populateRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=Array.from(t.keys())).length){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.repositoryDao.findWithOwnerBy_LocalIdIn(n);case 5:r=e.sent,i=(0,f.Z)(r);try{for(i.s();!(o=i.n()).done;){a=o.value,l=t.get(a._localId),c=(0,f.Z)(l);try{for(c.s();!(u=c.n()).done;)u.value.repository=a}catch(s){c.e(s)}finally{c.f()}}}catch(s){i.e(s)}finally{i.f()}case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Mc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storeDriver.initialize(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getInProgressTransactionById",value:function(e){return this.terminalStore.getTransactionManager().transactionInProgressMap.get(e)}},{key:"isServer",value:function(e){return this.terminalStore.getIsServer()}},{key:"transactInternal",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n||(n={application:"@airport/terminal",domain:Te,methodName:null,objectName:null}),e.next=3,this.transact(n,t,r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transact",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.transaction){e.next=4;break}return e.next=3,n(r.transaction,r);case 3:return e.abrupt("return");case 4:return e.next=6,this.startTransaction(t,r);case 6:return i=e.sent,e.prev=7,e.next=10,n(i,r);case 10:return e.next=12,this.commit(t,r);case 12:e.next=20;break;case 14:return e.prev=14,e.t0=e.catch(7),console.error(e.t0),e.next=19,this.rollback(t,r);case 19:throw e.t0;case 20:case"end":return e.stop()}}),e,this,[[7,14]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"startTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.transaction){e.next=2;break}return e.abrupt("return");case 2:if(r=this.terminalStore.getTransactionManager(),!t.transactionId){e.next=12;break}if(i=r.transactionInProgressMap.get(t.transactionId)){e.next=7;break}throw new Error("\nRecieved a startTransaction call (@Api call) with parent transaction id:\n\t".concat(t.transactionId,"\nBut, there is no such transaction in progress."));case 7:if(i.id===t.transactionId){e.next=9;break}throw new Error("\nIn-progress transaction id does not match the passed in transaction id:\n".concat(t.transactionId));case 9:this.checkForCircularDependencies(i,t),e.next=14;break;case 12:if(this.isServer(n)||!(r.transactionInProgressMap.size>0)){e.next=14;break}return e.abrupt("return",new Promise((function(e,i){r.pendingTransactionQueue.unshift({context:n,credentials:t,reject:i,resolve:e})})));case 14:return e.next=16,this.internalStartTransaction(t,i,n);case 16:if(o=e.sent,i){e.next=25;break}if((a=o).numberOfOperations=0,Te===t.domain){e.next=25;break}return e.next=23,this.terminalSessionManager.getUserSession();case 23:e.sent.currentRootTransaction=a;case 25:return e.abrupt("return",o);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"internalStartTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.terminalStore.getTransactionManager(),e.next=3,this.storeDriver.setupTransaction(r,n);case 3:return o=e.sent,e.next=6,this.storeDriver.startTransaction(o,r);case 6:return o.credentials=t,e.next=9,this.setupTransaction(t,o,n,i,r);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"rollback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getTransactionFromContextOrCredentials(t,n),i=r.parentTransaction,e.next=4,r.rollback(null,n);case 4:return e.next=6,this.clearTransaction(r,i,t,n);case 6:if(o=e.sent,i){e.next=10;break}return e.next=10,this.clearUserSessionRootTransaction(r);case 10:if(!o){e.next=13;break}return e.next=13,this.resumeParentOrPendingTransaction(i,n);case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getTransactionFromContextOrCredentials",value:function(e,t){var n=t.transaction;if(!n){if(!e.transactionId)throw new Error("\nNo Transaction Id is passed in Credentials for a transactional operation.\n\t\t\t\t");if(!(n=this.terminalStore.getTransactionManager().transactionInProgressMap.get(e.transactionId)))throw new Error("\nCould not find Transaction: ".concat(e.transactionId," in Transactons in-progress.\nNOTE: nested/child transactions must be commited or rolled back before their\nparent transactions.\n\t\t\t\t"));t.transaction=n}for(var r=n;r.parentTransaction;r=r.parentTransaction);return t.rootTransaction=r,n}},{key:"resumeParentOrPendingTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.terminalStore.getTransactionManager(),!t){e.next=6;break}return e.next=4,this.setupTransaction(t.credentials,t,t.parentTransaction,r,n);case 4:e.next=12;break;case 6:if(!r.pendingTransactionQueue.length){e.next=12;break}return i=r.pendingTransactionQueue.pop(),e.next=10,this.internalStartTransaction(i.credentials,null,i.context);case 10:o=e.sent,i.resolve(o);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"commit",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getTransactionFromContextOrCredentials(t,n),i=r.parentTransaction,e.prev=2,!i){e.next=7;break}n.doNotRecordHistory||this.copyTransactionHistoryToParentTransaction(r,i),e.next=10;break;case 7:if(n.doNotRecordHistory){e.next=10;break}return e.next=10,this.saveRepositoryHistory(r,n);case 10:return this.activeQueries.rerunQueries(),e.next=13,r.commit(null,n);case 13:if(o=r.transactionHistory,n.doNotRecordHistory){e.next=18;break}if(i||!o.allRecordHistory.length){e.next=18;break}return e.next=18,this.synchronizationOutManager.synchronizeOut(o.repositoryTransactionHistories);case 18:if(i){e.next=21;break}return e.next=21,this.clearUserSessionRootTransaction(r);case 21:return e.prev=21,e.next=24,this.clearTransaction(r,i,t,n);case 24:if(!e.sent){e.next=27;break}return e.next=27,this.resumeParentOrPendingTransaction(i,n);case 27:return e.finish(21);case 28:case"end":return e.stop()}}),e,this,[[2,,21,28]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"clearUserSessionRootTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Te!==t.credentials.domain){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.terminalSessionManager.getUserSession();case 4:e.sent.currentRootTransaction=null;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"copyTransactionHistoryToParentTransaction",value:function(e,t){var n,r=e.transactionHistory,i=t.transactionHistory,o=(0,f.Z)(r.allOperationHistory);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.repositoryTransactionHistory.repository._localId,l=i.repositoryTransactionHistoryMap[s];l?a.repositoryTransactionHistory=l:(i.repositoryTransactionHistoryMap[s]=a.repositoryTransactionHistory,i.repositoryTransactionHistories.push(a.repositoryTransactionHistory))}}catch(c){o.e(c)}finally{o.f()}i.allOperationHistory=i.allOperationHistory.concat(r.allOperationHistory),i.allRecordHistory=i.allRecordHistory.concat(r.allRecordHistory),i.allRecordHistoryNewValues=i.allRecordHistoryNewValues.concat(r.allRecordHistoryNewValues),i.allRecordHistoryOldValues=i.allRecordHistoryOldValues.concat(r.allRecordHistoryOldValues)}},{key:"checkForCircularDependencies",value:function(e,t){if(Te!==t.domain)do{if(this.isSameSource(e,t)){var n=this.getApiName(t),r=e;do{n="".concat(this.getApiName(r.initiator)," ->\n").concat(n)}while(r=r.parentTransaction);throw new Error("Circular API call detected:\n\t\t\t\t\n".concat(n,"\n\n\t\t\t\t"))}}while(e=e.parentTransaction)}},{key:"setupTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.transaction=n,t.transactionId=n.id,o.doNotRecordHistory||(n.transactionHistory=this.transactionHistoryDuo.getNewRecord()),i.transactionInProgressMap.set(n.id,n),r){for(i.transactionInProgressMap.delete(r.id),a=n;a.parentTransaction;a=a.parentTransaction);o.rootTransaction=a}else i.rootTransactionInProgressMap.set(n.id,n),o.rootTransaction=n;case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"isSameSource",value:function(e,t){var n=e.initiator;return n.domain===t.domain&&n.application===t.application&&n.objectName===t.objectName&&n.methodName===t.methodName}},{key:"getApiName",value:function(e){return"".concat(e.domain,".").concat(e.application,".").concat(e.objectName,".").concat(e.methodName)}},{key:"clearTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=this.terminalStore.getTransactionManager()).transactionInProgressMap.delete(t.id),n||o.rootTransactionInProgressMap.delete(t.id),i.transaction=null,r.transactionId=null,e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"saveRepositoryHistory",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.transactionHistory).allRecordHistory.length){e.next=3;break}return e.abrupt("return",!1);case 3:return i=r.applicationMap,e.next=6,this.idGenerator.generateTransactionHistory_LocalIds(r.repositoryTransactionHistories.length,r.allOperationHistory.length,r.allRecordHistory.length);case 6:return o=e.sent,i.ensureEntity(_a.TransactionHistory.__driver__.dbEntity,!0),r._localId=o.transactionHistory_LocalId,e.next=11,this.doInsertValues(t,_a.TransactionHistory,[r],n);case 11:return i.ensureEntity(_a.RepositoryTransactionHistory.__driver__.dbEntity,!0),r.repositoryTransactionHistories.forEach((function(e,t){e._localId=o.repositoryHistory_LocalIds[t],e.transactionHistory=r})),e.next=15,this.doInsertValues(t,_a.RepositoryTransactionHistory,r.repositoryTransactionHistories,n);case 15:return i.ensureEntity(_a.OperationHistory.__driver__.dbEntity,!0),r.allOperationHistory.forEach((function(e,t){e._localId=o.operationHistory_LocalIds[t]})),e.next=19,this.doInsertValues(t,_a.OperationHistory,r.allOperationHistory,n);case 19:return i.ensureEntity(_a.RecordHistory.__driver__.dbEntity,!0),r.allRecordHistory.forEach((function(e,t){e._localId=o.recordHistory_LocalIds[t]})),e.next=23,this.doInsertValues(t,_a.RecordHistory,r.allRecordHistory,n);case 23:if(!r.allRecordHistoryNewValues.length){e.next=27;break}return i.ensureEntity(_a.RecordHistoryNewValue.__driver__.dbEntity,!0),e.next=27,this.doInsertValues(t,_a.RecordHistoryNewValue,r.allRecordHistoryNewValues,n);case 27:if(!r.allRecordHistoryOldValues.length){e.next=31;break}return i.ensureEntity(_a.RecordHistoryOldValue.__driver__.dbEntity,!0),e.next=31,this.doInsertValues(t,_a.RecordHistoryOldValue,r.allRecordHistoryOldValues,n);case 31:return e.abrupt("return",!0);case 32:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Ac),Vc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"updateValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,f,h,m,v,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.airportDatabase.applications[t.applicationIndex].currentVersion[0].applicationVersion.entities[t.tableIndex],l="Error updating '".concat(a.name,"'\n"),c={SET:[]},a.isLocal||r.isSync){e.next=14;break}return e.next=6,ai(this.airportDatabase,this.sequenceGenerator);case 6:return f=e.sent,e.next=9,this.addUpdateHistory(t,n,f,l,r,i,o);case 9:h=e.sent,m=(0,p.Z)(h,2),u=m[0],d=m[1],c.SET.push({column:d.systemWideOperationIdColumn,value:f});case 14:return e.next=16,r.updateWhere(t,c,o);case 16:if(v=e.sent,a.isLocal||r.isSync){e.next=23;break}return y=o.dbEntity,o.dbEntity=a,e.next=22,this.addNewValueHistory(t.jsonQuery,u,f,d,l,r,o);case 22:o.dbEntity=y;case 23:return e.abrupt("return",v);case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"addUpdateHistory",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l){var c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P,U;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.dbEntity.isAirEntity){e.next=2;break}throw new Error(i+"Cannot add update history for a non-AirEntity");case 2:return c=this.airportDatabase.qApplications[l.dbEntity.applicationVersion.application.index][l.dbEntity.name],u=t.jsonQuery,d=this.applicationUtils.getSheetSelectFromSetClause(l.dbEntity,c,u.S,i),p=new kn(null),h=p.nonDistinctSelectClauseToJSON(d.selectClause,this.queryUtils,this.fieldUtils,this.relationManager),m={S:h,F:[u.U],W:u.W},v={applicationIndex:t.applicationIndex,tableIndex:t.tableIndex,jsonQuery:m,queryResultType:ve.SHEET,parameterMap:t.parameterMap},e.next=11,o.find(v,{},l);case 11:y=e.sent,g=this.groupRecordsByRepository(y,d),b=g.recordsByRepositoryId,x=g.repositoryIdSet,w=Array.from(x),k={},E=0,I=w;case 16:if(!(E<I.length)){e.next=60;break}return R=I[E],T={},k[R]=T,e.next=22,this.historyManager.getNewRepositoryTransactionHistory(o.transactionHistory,R,l);case 22:_=e.sent,S=this.repositoryTransactionHistoryDuo.startOperation(_,r,ce.UPDATE_ROWS,l.dbEntity,n,a),A=b[R],N=(0,f.Z)(A),e.prev=26,N.s();case 28:if((Z=N.n()).done){e.next=49;break}C=Z.value,O=C[d.actorIdColumnIndex],D=Le(T,O),M=C[d.actorRecordIdColumnIndex],V=this.operationHistoryDuo.startRecordHistory(S,O,M),D[M]=V,L=0;case 36:if(!(L<C.length)){e.next=47;break}e.t0=L,e.next=e.t0===d.actorIdColumnIndex||e.t0===d.actorRecordIdColumnIndex||e.t0===d.repositoryIdColumnIndex?40:41;break;case 40:return e.abrupt("continue",44);case 41:P=d.selectClause[L].dbColumn,U=C[L],this.recordHistoryDuo.addOldValue(V,P,U);case 44:L++,e.next=36;break;case 47:e.next=28;break;case 49:e.next=54;break;case 51:e.prev=51,e.t1=e.catch(26),N.e(e.t1);case 54:return e.prev=54,N.f(),e.finish(54);case 57:E++,e.next=16;break;case 60:return e.abrupt("return",[k,d]);case 61:case"end":return e.stop()}}),e,this,[[26,51,54,57]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}()},{key:"addNewValueHistory",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l){var c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O,D,M,V,L,P;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=this.airportDatabase.qApplications[l.dbEntity.applicationVersion.application.index][l.dbEntity.name],u=new kn({FROM:[c],SELECT:[],WHERE:c[Q.systemWideOperationId].equals(r)}),d=this.queryFacade.getPortableQuery(u,ve.SHEET,l),p=new Map,h=[],m=0,v=(0,f.Z)(i.selectClause);try{for(v.s();!(y=v.n()).done;)g=y.value,b=g.dbColumn,h.push(b),p.set(b.index,m),m++}catch(U){v.e(U)}finally{v.f()}return x={SELECT:h},e.next=11,a.find(d,x,l);case 11:w=e.sent,k=this.groupRecordsByRepository(w,i),E=k.recordsByRepositoryId,I=k.repositoryIdSet,R=(0,f.Z)(I),e.prev=14,R.s();case 16:if((T=R.n()).done){e.next=52;break}_=T.value,S=E[_],A=(0,f.Z)(S),e.prev=20,A.s();case 22:if((N=A.n()).done){e.next=42;break}Z=N.value,C=Z[p.get(i.repositoryIdColumnIndex)],O=Z[p.get(i.actorIdColumnIndex)],D=Z[p.get(i.actorRecordIdColumnIndex)],M=n[C][O][D],e.t0=(0,s.Z)().keys(t.S);case 29:if((e.t1=e.t0()).done){e.next=40;break}if(V=e.t1.value,L=l.dbEntity.columnMap[V],void 0!==(P=Z[p.get(L.index)])){e.next=35;break}throw new Error(o+"Values cannot be 'undefined'.");case 35:if(!L.notNull||null!==P){e.next=37;break}throw new Error(o+"Column '".concat(L.entity.name,"'.'").concat(L.name,"' is NOT NULL\n\t\t\t\t\t\tand cannot have NULL values."));case 37:this.recordHistoryDuo.addNewValue(M,L,P),e.next=29;break;case 40:e.next=22;break;case 42:e.next=47;break;case 44:e.prev=44,e.t2=e.catch(20),A.e(e.t2);case 47:return e.prev=47,A.f(),e.finish(47);case 50:e.next=16;break;case 52:e.next=57;break;case 54:e.prev=54,e.t3=e.catch(14),R.e(e.t3);case 57:return e.prev=57,R.f(),e.finish(57);case 60:case"end":return e.stop()}}),e,this,[[14,54,57,60],[20,44,47,50]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}()},{key:"groupRecordsByRepository",value:function(e,t){var n,r={},i=new Set,o=(0,f.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a[t.repositoryIdColumnIndex];i.add(s),Ve(r,s).push(a)}}catch(l){o.e(l)}finally{o.f()}return{recordsByRepositoryId:r,repositoryIdSet:i}}}]),e}(),Lc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"verify",value:function(e,t){return e instanceof Array||(e=[e]),e}}]),e}(),Pc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getOperationsInOrder",value:function(e,t){var n=this.getEntitiesToPersist(e,[],[],t);this.resolveCircularDependencies(n,t);var r=this.orderEntitiesToPersist(n,t),i=this.optimizePersistOperations(r,t);return this.ensureUpdatesAreGroupedCorrectly(i,t)}},{key:"getEntitiesToPersist",value:function(e,t,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=[],c=r.dbEntity,u=(0,f.Z)(e);try{for(u.s();!(a=u.n()).done;){var d=a.value,p=this.entityStateManager.getEntityStateTypeAsFlags(d,c),h=p.isCreate,m=p.isDelete,v=p.isParentSchemaId,y=p.isPassThrough,g=p.isStub,b=p.isUpdate;if(!g){var x=this.entityStateManager.getOperationUniqueId(d);if(s&&(h||b))throw new Error("Cannot do a Create or Update operation on an entity that will be\ndeleted by cascading rules.  Entity: ".concat(c.name,'.\nEntity "').concat(this.entityStateManager.getUniqueIdFieldName(),'":  ').concat(x));var w=void 0;if(y){if(n[x])continue;n[x]=!0}else{w=t[x];var k=!1;if(w?k=!0:v||s||(w={circleTraversedFor:{},dbEntity:c,dependsOnByOUID:[],dependsOn:[],entity:d,isCreate:h,isDelete:m},l.push(w),t[x]=w),!v&&!m){if(i&&!m){var E=this.entityStateManager.getOperationUniqueId(i.entity);w.dependsOnByOUID[E]||this.entityStateManager.getOperationUniqueId(w.entity)===E||(w.dependsOnByOUID[E]=i,w.dependsOn.push(i))}o&&(w.dependsOnByOUID[x]||this.entityStateManager.getOperationUniqueId(o.entity)===x||(o.dependsOnByOUID[x]=w,o.dependsOn.push(w)))}if(k)continue}var I,R=(0,f.Z)(r.dbEntity.properties);try{for(R.s();!(I=R.n()).done;){var T=I.value,_=void 0,S=d[T.name];if(S&&"object"===typeof S&&T.relation&&T.relation.length){var A=null,N=!1,Z=s||m,C=T.relation[0];switch(C.relationType){case X.MANY_TO_ONE:if(Z=!1,c.isAirEntity&&(T.name===Qr||T.name===Wr)&&!S[this.entityStateManager.getStateFieldName()])continue;var O=this.entityStateManager.getEntityStateTypeAsFlags(S,C.relationEntity);if(O.isParentSchemaId)continue;if(O.isDelete)if(y)this.entityStateManager.markForDeletion(d);else{if(!m)throw new Error("Cannot delete an entity without removing all references to it.\n\t\t\t\t\t\t\t\tFound a reference in ".concat(c.name,".").concat(T.name,'.\n\t\t\t\t\t\t\t\tEntity "').concat(this.entityStateManager.getUniqueIdFieldName(),'":  ').concat(x));s||(o&&o.dependsOn.pop(),l.pop()),s=!0}O.isCreate&&(N=!0),_=[S];break;case X.ONE_TO_MANY:h&&(A=w),_=S}if(_){var D=C.relationEntity,M=r.dbEntity;r.dbEntity=D;var V=this.getEntitiesToPersist(_,t,n,r,A,v||m||!N?null:w,Z);l=l.concat(V),r.dbEntity=M}}}}catch(L){R.e(L)}finally{R.f()}}}}catch(L){u.e(L)}finally{u.f()}return l}},{key:"resolveCircularDependencies",value:function(e,t){var n,r=(0,f.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=this.entityStateManager.getOperationUniqueId(i.entity);this.resolveCircularDependenciesForNode(i,o,i,t)}}catch(a){r.e(a)}finally{r.f()}}},{key:"resolveCircularDependenciesForNode",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(n.dependsOn&&!n.circleTraversedFor[t]){n.circleTraversedFor[t]=!0;for(var o=n.dependsOn.length-1;o>=0;o--){var a=n.dependsOn[o],s=this.entityStateManager.getOperationUniqueId(a.entity);if(s===t){var l,c=[],u=(0,f.Z)(i);try{for(u.s();!(l=u.n()).done;){var d=l.value,p=d.dbEntity.applicationVersion.application.name+":"+d.dbEntity.name;c.push(p)}}catch(m){u.e(m)}finally{u.f()}var h=a.dbEntity.applicationVersion.application.name+":"+a.dbEntity.name;throw c.push(h),h=i[0].dbEntity.applicationVersion.application.name+":"+i[0].dbEntity.name,new Error("Found a circular dependency in\n\t\t\t\t\t".concat(c.join(" -> "),"\n\t\t\t\t\t"))}i.push(a),this.resolveCircularDependenciesForNode(e,t,a,r,i),i.pop()}}}},{key:"orderEntitiesToPersist",value:function(e,t){for(var n=[],r=[];n.length<e.length;){var i,o=(0,f.Z)(e);try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.entityStateManager.getOperationUniqueId(a.entity);if(!r[s]){var l,c=!0,u=(0,f.Z)(a.dependsOn);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(!r[this.entityStateManager.getOperationUniqueId(d.entity)]){c=!1;break}}}catch(p){u.e(p)}finally{u.f()}c&&(r[s]=a,n.push(a))}}}catch(p){o.e(p)}finally{o.f()}}return n}},{key:"optimizePersistOperations",value:function(e,t){var n,r=[],i=[],o=[],a=(0,f.Z)(e);try{for(a.s();!(n=a.n()).done;){var s=n.value,l=s.dbEntity,c=Ve(o,l.applicationVersion.application.index),u=c[l.index];u||(u={create:[],delete:[],update:[]},c[l.index]=u);var d=[];d=s.isCreate?u.create:s.isDelete?u.delete:u.update;var p=void 0;d.length?p=d[d.length-1]:(p={dbEntity:l,entities:[],isCreate:s.isCreate,isDelete:s.isDelete},d.push(p),r.push(p));var h,m=!0,v=(0,f.Z)(s.dependsOn);try{for(v.s();!(h=v.n()).done;){var y=h.value,g=this.entityStateManager.getOperationUniqueId(y.entity);if(this.entityStateManager.getOperationUniqueId(y.entity),!i[g]){m=!1;break}}}catch(b){v.e(b)}finally{v.f()}!m&&p.entities.length&&(p={dbEntity:l,entities:[],isCreate:s.isCreate,isDelete:s.isDelete},d.push(p),r.push(p)),p.entities.push(s.entity)}}catch(b){a.e(b)}finally{a.f()}return r}},{key:"ensureUpdatesAreGroupedCorrectly",value:function(e,t){return e}}]),e}(),Uc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"restoreEntityGraph",value:function(e,t){for(var n=[],r=this.linkEntityGraph(e,n,!1,t),i=1;i<n.length;i++){if(!n[i])throw new Error('Missing entity for\n"'.concat(this.entityStateManager.getUniqueIdFieldName(),'": ').concat(i))}return t.lastOUID=n.length-1,r}},{key:"linkEntityGraph",value:function(e,t,n,r){var i,o=r.dbEntity,a=[],s=(0,f.Z)(e);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(!l)throw new Error("Null root entities and @OneToMany arrays with null entities are not allowed");var c=this.entityStateManager.getOperationUniqueId(l);if(!c||"number"!==typeof c||c<1)throw new Error('Invalid entity Unique Id Field\n"'.concat(this.entityStateManager.getUniqueIdFieldName(),'": ').concat(c,"."));var u=t[c];if(u)a.push(u);else{var d=this.entityStateManager.getEntityStateTypeAsFlags(l,o),p=d.isParentSchemaId,h=d.isStub,m={};m[this.entityStateManager.getUniqueIdFieldName()]=c,m[this.entityStateManager.getStateFieldName()]=this.entityStateManager.getEntityState(l),this.entityStateManager.copyEntityState(l,m),t[c]=m,n&&(this.entityStateManager.markAsOfParentSchema(m),p=!0);var v,y=(0,f.Z)(o.properties);try{for(y.s();!(v=y.n()).done;){var g=v.value,b=l[g.name];if(void 0!==b){if(g.relation&&g.relation.length){var x=!1,w=g.relation[0],k=b,E=!1;switch(this.assertRelationValueIsAnObject(b,g),w.relationType){case X.MANY_TO_ONE:E=!0,this.assertManyToOneNotArray(b,g),k=[b];break;case X.ONE_TO_MANY:this.assertOneToManyIsArray(b,g);break;default:throw new Error("Unexpected relation type ".concat(w.relationType,"\nfor ").concat(o.name,".").concat(g.name))}var I=r.dbEntity,R=I.applicationVersion.application,T=w.relationEntity.applicationVersion.application;"air"!==T.domain.name&&R.fullName!==T.fullName&&(x=!0),r.dbEntity=w.relationEntity;var _=void 0;if(b){if(_=this.linkEntityGraph(k,t,p||x,r),p||x){var S,A=(0,f.Z)(_);try{for(A.s();!(S=A.n()).done;){var N=S.value;t[this.entityStateManager.getOperationUniqueId(N)]||this.checkPropertyParentEntityStatus(N)}}catch(Z){A.e(Z)}finally{A.f()}}E&&(_=_[0])}b=_,r.dbEntity=I}else if(!g.isId&&h)throw new Error("Deletes and Stubs may only contain @Id properties or relations.");m[g.name]=b}}}catch(Z){y.e(Z)}finally{y.f()}a.push(m)}}}catch(Z){s.e(Z)}finally{s.f()}return a}},{key:"checkPropertyParentEntityStatus",value:function(e){if(!this.entityStateManager.isParentSchemaId(e)&&!this.entityStateManager.isPassThrough(e))throw new Error("Parent Ids may only contain relations that are themselves Parent Ids or Pass-Though objects.")}},{key:"assertRelationValueIsAnObject",value:function(e,t){if(null!==e&&void 0!==e&&("object"!=typeof e||e instanceof Date))throw new Error("Unexpected value in relation property: ".concat(t.name,", \n\t\t\t\tof entity ").concat(t.entity.name))}},{key:"assertManyToOneNotArray",value:function(e,t){if(e instanceof Array)throw new Error("@ManyToOne relation cannot be an array. Relation property: ".concat(t.name,", \nof entity ").concat(t.entity.name))}},{key:"assertOneToManyIsArray",value:function(e,t){if(null!==e&&void 0!==e&&!(e instanceof Array))throw new Error("@OneToMany relation must be an array. Relation property: ".concat(t.name,", \nof entity ").concat(t.entity.name,"`"))}}]),e}(),Fc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"performSave",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u,d,p,h,m,v,y,g,b,x,w,k,E;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.isSaveOperation=!0,o.internal?a=t instanceof Array?t:[t]:(l=this.cascadeGraphVerifier.verify(t,o),a=this.entityGraphReconstructor.restoreEntityGraph(l,o)),c=[],u=[],this.structuralEntityValidator.validate(a,[],c,u,o),!c.length){e.next=13;break}if(u.length){e.next=8;break}throw new Error("There are entities without an assigned repository and no top level object\npassed to '...Dao.save(...)' has a repository assigned");case 8:if(!(u.length>1)){e.next=10;break}throw new Error("When there are entities without an assigned repository\n(when passed to '...Dao.save(...)') there may only be one (and same) repository assigned\nin top level objects (that are passed into '...Dao.save(...)')");case 10:d=u[0],p=(0,f.Z)(c);try{for(p.s();!(h=p.n()).done;)(m=h.value).record[m.repositoryPropertyName]=d}catch(s){p.e(s)}finally{p.f()}case 13:v=this.dependencyGraphResolver.getOperationsInOrder(a,o),y=o.dbEntity,g={_localId:n._localId,GUID:n.GUID,userAccount:n.userAccount?{GUID:n.userAccount.GUID}:null},o.rootTransaction.newRepository&&(b={_localId:o.rootTransaction.newRepository._localId,createdAt:o.rootTransaction.newRepository.createdAt,GUID:o.rootTransaction.newRepository.GUID,ageSuitability:o.rootTransaction.newRepository.ageSuitability,source:o.rootTransaction.newRepository.source,ownerActor:{_localId:n._localId,GUID:n.GUID,userAccount:n.userAccount?{GUID:n.userAccount.GUID}:null}}),x={actor:g,created:{},deleted:{},newRepository:b,repositoryIdParts:b?{source:b.source,GUID:b.GUID}:null,updated:{}},w=(0,f.Z)(v),e.prev=19,w.s();case 21:if((k=w.n()).done){e.next=38;break}if(E=k.value,o.dbEntity=E.dbEntity,!E.isCreate){e.next=29;break}return e.next=27,this.internalCreate(E.entities,n,r,i,x,o,!0);case 27:e.next=36;break;case 29:if(!E.isDelete){e.next=34;break}return e.next=32,this.internalDelete(E.entities,n,r,i,x,o);case 32:e.next=36;break;case 34:return e.next=36,this.internalUpdate(E.entities,n,r,i,x,o);case 36:e.next=21;break;case 38:e.next=43;break;case 40:e.prev=40,e.t0=e.catch(19),w.e(e.t0);case 43:return e.prev=43,w.f(),e.finish(43);case 46:return o.dbEntity=y,e.abrupt("return",x);case 48:case"end":return e.stop()}}),e,this,[[19,40,43,46]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()},{key:"internalCreate",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l){var c,u,d,p,h,m,v,y,g,b,x,w,k,E,I,R,T,_,S,A,N,Z,C,O=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=this.airportDatabase.qApplications[a.dbEntity.applicationVersion.application.index][a.dbEntity.name],u={INSERT_INTO:c,columns:this.qMetadataUtils.getAllInsertableColumns(c),VALUES:[]},d=[],u.columns.forEach((function(e,t){d[e.dbColumn.index]=t})),p=(0,f.Z)(t);try{for(p.s();!(h=p.n()).done;)h.value.createdAt=new Date}catch(D){p.e(D)}finally{p.f()}m=(0,f.Z)(t),e.prev=7,y=(0,s.Z)().mark((function e(){var t,n,r,i,o,l,c,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=v.value,n=[],r=(0,f.Z)(a.dbEntity.properties),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=24;break}if(o=i.value,void 0===(l=t[o.name])&&(l=null),!o.relation||!o.relation.length){e.next=20;break}c=o.relation[0],e.t0=c.relationType,e.next=e.t0===X.MANY_TO_ONE?14:e.t0===X.ONE_TO_MANY?16:17;break;case 14:return O.applicationUtils.forEachColumnOfRelation(c,t,(function(e,t,r){e.isGenerated||(n[d[e.index]]=void 0===t?null:t)}),!1),e.abrupt("break",18);case 16:return e.abrupt("break",18);case 17:throw new Error("Unknown relationType '".concat(c.relationType,"' \n\t\t\t\t\t\tfor '").concat(a.dbEntity.name,".").concat(o.name,"'."));case 18:e.next=22;break;case 20:(p=o.propertyColumns[0].column).isGenerated||(n[d[p.index]]=l);case 22:e.next=5;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(3),r.e(e.t1);case 29:return e.prev=29,r.f(),e.finish(29);case 32:u.VALUES.push(n);case 33:case"end":return e.stop()}}),e,null,[[3,26,29,32]])})),m.s();case 10:if((v=m.n()).done){e.next=14;break}return e.delegateYield(y(),"t0",12);case 12:e.next=10;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(7),m.e(e.t1);case 19:return e.prev=19,m.f(),e.finish(19);case 22:if(g=new wn(u),!u.VALUES.length){e.next=37;break}if(b=a.dbEntity.columns.filter((function(e){return e.isGenerated})),!b.length||!l){e.next=33;break}return x=this.queryFacade.getPortableQuery(g,null,a),e.next=29,this.insertManager.insertValuesGetLocalIds(x,n,r,i,a);case 29:for(w=e.sent,k=0;k<t.length;k++){E=t[k],I={},o.created[this.entityStateManager.getOperationUniqueId(E)]=I,R=(0,f.Z)(b);try{for(R.s();!(T=R.n()).done;)_=T.value,S=_.propertyColumns[0].property.name,A=w[k][_.index],E[S]=A,I[S]=A}catch(D){R.e(D)}finally{R.f()}}e.next=37;break;case 33:return N=this.queryFacade.getPortableQuery(g,null,a),e.next=36,this.insertManager.insertValues(N,n,r,i,a,l);case 36:for(Z=0;Z<t.length;Z++)C=t[Z],o.created[this.entityStateManager.getOperationUniqueId(C)]=!0;case 37:case"end":return e.stop()}}),e,this,[[7,16,19,22]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}()},{key:"internalUpdate",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a){var l,c,u,d,p=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=this.airportDatabase.qApplications[a.dbEntity.applicationVersion.application.index][a.dbEntity.name],c=(0,f.Z)(t),e.prev=2,d=(0,s.Z)().mark((function e(){var t,c,d,h,m,v,y,g,b,x,w;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.value,c={},d=[],h=!1,m=p.entityStateManager.getOriginalValues(t)){e.next=7;break}return e.abrupt("return","continue");case 7:v=(0,f.Z)(a.dbEntity.properties),e.prev=8,g=(0,s.Z)().mark((function e(){var n,r,i,u,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y.value,r=t[n.name],n.relation&&n.relation.length){e.next=7;break}i=m[n.name],n.isId?d.push(l[n.name].equals(r)):p.utils.valuesEqual(i,r)||(c[n.name]=r,o.updated[p.entityStateManager.getOperationUniqueId(t)]=!0,h=!0),e.next=16;break;case 7:u=n.relation[0],e.t0=u.relationType,e.next=e.t0===X.MANY_TO_ONE?11:e.t0===X.ONE_TO_MANY?14:15;break;case 11:return v=m[n.name],p.applicationUtils.forEachColumnOfRelation(u,t,(function(e,r,i){var a,s=v,u=r,m=r,y=(0,f.Z)(i[0]);try{for(y.s();!(a=y.n()).done;){var g=a.value;s=s instanceof Object&&s[g]?s[g]:null,u instanceof Object&&u[g]?(u=u[g],m.push(g)):u=null}}catch(R){y.e(R)}finally{y.f()}if(n.isId){var b,x=l,w=(0,f.Z)(i[0]);try{for(w.s();!(b=w.n()).done;){x=x[b.value]}}catch(R){w.e(R)}finally{w.f()}d.push(x.equals(r))}else if(!p.utils.valuesEqual(s,u)){for(var k=c,E=0;E<m.length-1;E++){var I=m[E];k[I]||(k[I]={}),k=k[I]}k[m.length-1]=u,o.updated[p.entityStateManager.getOperationUniqueId(t)]=!0,h=!0}}),n.isId),e.abrupt("break",16);case 14:return e.abrupt("break",16);case 15:throw new Error("Unknown relationType '".concat(u.relationType,"' \n\t\t\t\t\t\tfor '").concat(a.dbEntity.name,".").concat(n.name,"'."));case 16:case"end":return e.stop()}}),e)})),v.s();case 11:if((y=v.n()).done){e.next=15;break}return e.delegateYield(g(),"t0",13);case 13:e.next=11;break;case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(8),v.e(e.t1);case 20:return e.prev=20,v.f(),e.finish(20);case 23:if(!h){e.next=30;break}return b=d.length>1?lt.apply(void 0,d):d[0],x=new Rn({UPDATE:l,SET:c,WHERE:b}),w=p.queryFacade.getPortableQuery(x,null,a),e.next=30,p.updateManager.updateValues(w,n,r,i,a);case 30:case"end":return e.stop()}}),e,null,[[8,17,20,23]])})),c.s();case 5:if((u=c.n()).done){e.next=12;break}return e.delegateYield(d(),"t0",7);case 7:if("continue"!==e.t0){e.next=10;break}return e.abrupt("continue",10);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(2),c.e(e.t1);case 17:return e.prev=17,c.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[2,14,17,20]])})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()},{key:"internalDelete",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a){var l,c,u,d,p,h,m,v,y,g,b,x,w,k=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=a.dbEntity,c=this.airportDatabase.qApplications[l.applicationVersion.application.index][l.name],u=[],d=[],p=[],h=(0,f.Z)(t),e.prev=6,h.s();case 8:if((m=h.n()).done){e.next=24;break}v=m.value,y=(0,s.Z)().mark((function e(){var t,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.hasOwnProperty(g)){e.next=2;break}return e.abrupt("return","continue");case 2:if(t=l.propertyMap[g]){e.next=5;break}return e.abrupt("return","continue");case 5:if(n=v[g],t.relation&&t.relation.length&&(r=t.relation[0]),r){e.next=11;break}t.isId&&u.push(c[g].equals(n)),e.next=18;break;case 11:e.t0=r.relationType,e.next=e.t0===X.MANY_TO_ONE?14:e.t0===X.ONE_TO_MANY?16:17;break;case 14:return k.applicationUtils.forEachColumnOfRelation(r,l,(function(e,n,r){if(t.isId&&void 0===d[e.index]){var i,o=c,a=(0,f.Z)(r[0]);try{for(a.s();!(i=a.n()).done;){o=o[i.value]}}catch(s){a.e(s)}finally{a.f()}u.push(o.equals(n))}}),!1),e.abrupt("break",18);case 16:return e.abrupt("break",18);case 17:throw new Error("Unknown relationType '".concat(r.relationType,"' \n\t\t\t\t\t\tfor '").concat(l.name,".").concat(t.name,"'."));case 18:case"end":return e.stop()}}),e)})),e.t0=(0,s.Z)().keys(v);case 12:if((e.t1=e.t0()).done){e.next=20;break}return g=e.t1.value,e.delegateYield(y(),"t2",15);case 15:if("continue"!==e.t2){e.next=18;break}return e.abrupt("continue",12);case 18:e.next=12;break;case 20:u.length>1?p.push(lt.apply(void 0,u)):p.push(u[0]),o.deleted[this.entityStateManager.getOperationUniqueId(v)]=!0;case 22:e.next=8;break;case 24:e.next=29;break;case 26:e.prev=26,e.t3=e.catch(6),h.e(e.t3);case 29:return e.prev=29,h.f(),e.finish(29);case 32:return b=1===p.length?p[0]:ct.apply(void 0,p),x=new hn({DELETE_FROM:c,WHERE:b}),w=this.queryFacade.getPortableQuery(x,null,a),e.next=38,this.deleteManager.deleteWhere(w,n,r,i,a);case 38:case"end":return e.stop()}}),e,this,[[6,26,29,32]])})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}()}]),e}(),Bc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"validate",value:function(e,t,n,r,i){var o=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,d=i.dbEntity;if(!d.idColumns.length)throw new Error("Cannot run 'save' for entity '".concat(d.name,"' with no @Id(s).\n\t\t\t\t\tPlease use non-entity operations (like 'insert' or 'updateWhere') instead."));var p,h=!!c,m=new Map,v=(0,f.Z)(e);try{var y=function(){var e=p.value;h||(c=e);var v=o.entityStateManager.getEntityStateTypeAsFlags(e,d),y=v.isCreate,g=v.isParentSchemaId,b=v.isPassThrough,x=v.isStub;if(g)return"continue";var w=o.entityStateManager.getOperationUniqueId(e);if(!!t[w])return"continue";t[w]=!0;var k,E=!1,I=(0,f.Z)(d.properties);try{var R=function(){var p=k.value,f=e[p.name];if(void 0!==f||x||(f=null,e[p.name]=f),p.relation&&p.relation.length){var h=p.relation[0],v=null,b=!1,I=!0;switch(h.relationType){case X.MANY_TO_ONE:if(p.isId){var R=!1;o.applicationUtils.forEachColumnOfRelation(h,e,(function(t,n,s){if(t.notNull&&(I=!1),o.isRepositoryColumnAndNewRepositoryNeed(d,p,t,y,e,n,i))R=!0;else if(o.applicationUtils.isRepositoryId(t.name)){var l=e[p.name];if(!l._localId||!l.GUID)throw new Error("Repository must have a _localId and GUID assigned:\nhence, it must an existing repository that exists locally.");m.has(l.GUID)||(m.set(l.GUID,l),1==a&&r.push(l))}}),!1),R&&(i.rootTransaction.newRepository?e[p.name]=i.rootTransaction.newRepository:(E=!0,n.push({record:e,repositoryPropertyName:p.name})))}if(s){var T=l.relation[0].oneToManyElems,_=T?T.mappedBy:null,S=h.manyToOneElems?h.manyToOneElems.mappedBy:null;_!==p.name&&S!==l.name||(e[p.name]=u)}var A="airport____at_airport_slash_holding_dash_pattern"===h.relationEntity.applicationVersion.application.fullName&&"Actor"===h.relationEntity.name;if(f){if(y&&A)throw new Error(".actor property must not be populated for new objects");v=[f]}else if(I)console.warn("Probably OK: Nullable @ManyToOne ".concat(d.name,".").concat(p.name," does not have anything assigned."));else if(!y&&!A)throw new Error("Non-nullable relation ".concat(d.name,".").concat(p.name," does not have value assigned"));break;case X.ONE_TO_MANY:b=!0,v=f;break;default:throw new Error("Unexpected relation type ".concat(h.relationType,"\nfor ").concat(d.name,".").concat(p.name))}if(v&&v.length){var N=i.dbEntity;i.dbEntity=h.relationEntity,o.validate(v,t,n,r,i,a+1,b,p,c,e),i.dbEntity=N}}else{var Z=p.propertyColumns[0].column;if(p.isId){var C=o.applicationUtils.isIdEmpty(f);o.ensureIdValue(d,p,Z,y,C)}else if((x||g)&&void 0!==f)throw new Error("Unexpected non-@Id value Stub|ParentSchemaId|Deleted record.\nProperty: ".concat(d.name,".").concat(p.name,', with "').concat(o.entityStateManager.getUniqueIdFieldName(),'":  ').concat(w));o.ensureNonRelationalValue(p,Z,f)}};for(I.s();!(k=I.n()).done;)R()}catch(T){I.e(T)}finally{I.f()}b||x||g||o.ensureRepositoryValidity(e,c,u,d,l,y,s,E,i)};for(v.s();!(p=v.n()).done;)y()}catch(g){v.e(g)}finally{v.f()}}},{key:"ensureRepositoryValidity",value:function(e,t,n,r,i,o,a,s,l){if(r.isAirEntity)if(n){if(!s){var c=e;if(t.repository._localId!==c.repository._localId){if(o)throw new Error("A newly created ".concat(r.name," via ").concat(r.name," record for repository _localId ").concat(c.repository._localId," (GUID: ").concat(c.repository.GUID,")\nis being assigned to repository _localId ").concat(c.repository._localId," (GUID: ").concat(c.repository.GUID,")\n\tThis is because it is being referenced via ").concat(i.entity.name,".").concat(i.name,",\n\tfrom a record of repository _localId ").concat(c.repository._localId," (GUID: ").concat(c.repository.GUID,")\n\t\n\tIf you are manually creating a copy of a record in another repository, there is no need,\n\tAIRport automatically copies all records refrenced via @ManyToOne()s into the created/modified\n\trepository.\n\n\tOtherwise, did you mean to set this record's repository to the same one as the referencing record?"));c.sourceRepository=c.repository,c.repository=t.repository,c.sourceActor=c.actor,c.sourceActorRecordId=c._actorRecordId,c.actor=l.actor,delete c._actorRecordId,c[this.entityStateManager.getStateFieldName()]=ie.CREATE}}}else{var u=this.entityStateManager.getOriginalValues(e);if(s&&u&&u.repository&&u.actor&&u._actorRecordId){var d=e;d.sourceRepository=u.repository,this.entityStateManager.markAsStub(d.sourceRepository),d.sourceActor=u.actor,this.entityStateManager.markAsStub(d.sourceActor),d.sourceActorRecordId=u._actorRecordId}}}},{key:"isRepositoryColumnAndNewRepositoryNeed",value:function(e,t,n,r,i,o,a){if(n.idIndex||0===n.idIndex){var s=this.applicationUtils.isIdEmpty(o);if(!e.isAirEntity)return this.ensureIdValue(e,t,n,r,s),!1;if(!s){if(r&&this.applicationUtils.isActorId(n.name))throw new Error("Actor cannot be passed in for create Operations");return!1}if(!r)throw new Error("Ids must be populated in entities for non-Create operations");if(this.applicationUtils.isRepositoryId(n.name))return!0;if(this.applicationUtils.isActorId(n.name))return i[t.name]=a.actor,!1;if(this.applicationUtils.isActorRecordId(n.name))return!1;throw new Error("Unexpected @Id column '".concat(n.name,"' in a AirEntity."))}}},{key:"ensureIdValue",value:function(e,t,n,r,i){if(n.isGenerated){if(r&&!i)throw new Error("@GeneratedValue() @Id() ".concat(e.name,".").concat(t.name,",\ncolumn:  ").concat(n.name,"\nmust NOT have a value for entity Insert operation."));if(!r&&i)throw new Error("@GeneratedValue() @Id() ".concat(e.name,".").concat(t.name," \ncolumn:  ").concat(n.name,"\nmust have a value for entity non-Insert operations."))}else if(i)throw new Error("non-@GeneratedValue() @Id() ".concat(e.name,".").concat(t.name,",\ncolumn:  ").concat(n.name,"\nmust always have a value for all entity operations."))}},{key:"ensureNonRelationalValue",value:function(e,t,n){if(void 0!==n&&null!==n)switch(t.type){case re.ANY:break;case re.BOOLEAN:"boolean"!==typeof n&&this.throwUnexpectedProperty(e,t,n);break;case re.DATE:"object"===typeof n&&n instanceof Date||this.throwUnexpectedProperty(e,t,n);break;case re.JSON:("object"!==typeof n||n instanceof Date)&&this.throwUnexpectedProperty(e,t,n);break;case re.NUMBER:"number"!==typeof n&&this.throwUnexpectedProperty(e,t,n);break;case re.STRING:"string"!==typeof n&&this.throwUnexpectedProperty(e,t,n)}}},{key:"throwUnexpectedProperty",value:function(e,t,n){throw new Error("Unexpected property value '".concat(n.toString(),"' in property '").concat(e.entity.name,".").concat(e.name,"'\n\t\t(column: '").concat(t.name,"')."))}}]),e}(),jc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"deserialize",value:function(e,t,n){if(e.length!==t.jsonQuery.parameters.length)throw new Error("Wrong number of parameters for ".concat(t.dbEntity.name,".").concat(t.jsonQuery.queryName,"\n            Received:  ").concat(e.length,"\n            Expecting: ").concat(t.jsonQuery.parameters.length,"\n            "));for(var r=[],i=0;i<e.length;i++){var o=this.deserializeParameter(e[i],t.jsonQuery.parameters[i],i+1,t,n);r.push(o)}return r}},{key:"deserializeParameter",value:function(e,t,n,r,i){switch(t.type){case re.BOOLEAN:this.checkTypeOfParameter(e,"boolean",n,r);break;case re.DATE:if(!(e instanceof Object)||!e.value)throw new Error("Invalid Serialized Date format for:\n                    ".concat(r.dbEntity.name,".").concat(r.jsonQuery.queryName,"\n                    parameter #: ").concat(n,"\n        got: ").concat(JSON.stringify(e),"\n                    "));try{return new Date(e)}catch(o){throw new Error("Invalid Serialized Date format for:\n                    ".concat(r.dbEntity.name,".").concat(r.jsonQuery.queryName,"\n                    parameter #: ").concat(n,"\n        got: ").concat(JSON.stringify(e),"\n                    "))}break;case re.NUMBER:this.checkTypeOfParameter(e,"number",n,r);break;case re.STRING:this.checkTypeOfParameter(e,"string",n,r);break;default:throw new Error("Unsupported parameter type for:\n                ".concat(r.dbEntity.name,".").concat(r.jsonQuery.queryName,"\n                parameter #: ").concat(n,"\n    got: ").concat(t.type,"\n                "))}return e}},{key:"checkTypeOfParameter",value:function(e,t,n,r){var i=typeof e;if(i!==t)throw new Error("Expecting a '".concat(t,"' parameter for:\n            ").concat(r.dbEntity.name,".").concat(r.jsonQuery.queryName,"\n            parameter #: ").concat(n,"\ngot: ").concat(i,"\n            "))}}]),e}(),Hc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"serialize",value:function(e,t,n,r){var i,o=this,a={lookupTable:[],sequence:0,stubLookupTable:[]};i=e instanceof Array?e.map((function(e){return o.doSerialize(e,t,a,n,r)})):this.doSerialize(e,t,a,n,r);for(var s=1;s<a.lookupTable.length;s++)delete a.lookupTable[s][n.getUniqueIdFieldName()];return i}},{key:"doSerialize",value:function(e,t,n,r,i){var o=this,a=r.getOperationUniqueId(e);if(a)return n.stubLookupTable[a];a=++n.sequence;var s={};s[r.getUniqueIdFieldName()]=a,s[r.getStateFieldName()]=ie.STUB,n.stubLookupTable[a]=s;var l={};n.lookupTable[a]=e,l[r.getUniqueIdFieldName()]=a,l[r.getStateFieldName()]=e[r.getStateFieldName()];var c,u=(0,f.Z)(t.properties);try{var d=function(){var a,s=c.value,u=e[s.name];if(i.isEmpty(u))return"continue";if(s.relation){var d=s.relation[0];a=u instanceof Array?u.map((function(e){o.doSerialize(e,d.relationEntity,n,r,i)})):o.doSerialize(u,d.relationEntity,n,r,i)}else switch(s.propertyColumns[0].column.type){case re.JSON:throw new Error("@Json() properties cannot be serialized.");case re.DATE:(a={value:u.toISOString()})[r.getStateFieldName()]=ie.DATE;break;case re.ANY:case re.BOOLEAN:case re.NUMBER:case re.STRING:a=u;break;default:throw new Error("Unsupported data type for property ".concat(t.applicationVersion.application.name,".").concat(t.name,".").concat(s.name))}l[s.name]=a};for(u.s();!(c=u.n()).done;)d()}catch(p){u.e(p)}finally{u.f()}return l}}]),e}();(new Date).getTime();var Gc=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"signUp",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.terminalStore.getIsServer()){e.next=2;break}throw new Error("Implement");case 2:return e.next=4,this.userAccountManager.addUserAccount(t.username,t.email,t.password);case 4:n=e.sent,r=n.userAccount,i=this.userStore.getAllSessions(),o={currentRootTransaction:null,currentTransaction:null,userAccount:r},i.push(o),(a=this.userStore.getSessionMapByEmail()).set(r.email,o),this.userStore.state.next({allSessions:i,sessionMapByEmail:a});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Implement");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getUserSession",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.terminalStore.getIsServer()){e.next=4;break}throw new Error("Implement");case 4:if(1==(r=this.userStore.getAllSessions()).length){e.next=7;break}throw new Error("Expecting exactly 1 user session");case 7:n=r[0];case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zc=_("terminal");fi.setClass(kc),ze.setClass(Rc),ze.setDependencies({terminalStore:Ao,transactionalServer:Bo}),Bo.setClass(Sc),Uo.setClass(Mc),Qs.setClass(jc),Js.setClass(Hc),zc.register(Ac,_c,Lc,Nc,Zc,Pc,Uc,Cc,Oc,Ic,Tc,Fc,Dc,Bc,Vc),zc.setDependencies(Ac,{applicationUtils:Jr,fieldUtils:Kr,queryUtils:Pt,relationManager:oi}),zc.setDependencies(_c,{terminalStore:Ao,transactionalServer:Bo}),zc.setDependencies(Nc,{airportDatabase:pi,applicationDao:Ji,applicationInitializer:Mo,dbApplicationUtils:Ze,internalRecordManager:Ic,storeDriver:Lo,transactionalServer:Bo,transactionManager:Uo}),zc.setDependencies(Zc,{airportDatabase:pi,applicationUtils:Jr,historyManager:Cc,operationHistoryDuo:Qa,recordHistoryDuo:Ja,repositoryTransactionHistoryDuo:es,sequenceGenerator:Ge,utils:ui}),zc.setDependencies(Pc,{entityStateManager:He}),zc.setDependencies(Uc,{entityStateManager:He}),zc.setDependencies(Cc,{transactionHistoryDuo:ts}),zc.setDependencies(Oc,{airportDatabase:pi,historyManager:Cc,operationHistoryDuo:Qa,recordHistoryDuo:Ja,repositoryTransactionHistoryDuo:es,sequenceGenerator:Ge}),zc.setDependencies(Ic,{actorDao:qa,applicationDao:Ji,domainDao:Wi,entityStateManager:He,terminalSessionManager:Po,terminalStore:Ao,transactionManager:Uo}),is.setClass(Ec),is.setDependencies({repositoryDao:Ya,repositoryNestingDao:Wa,terminalSessionManager:Po,terminalStore:Ao}),zc.setDependencies(Tc,{repositoryDao:Ya,repositoryManager:Ec,repositoryTransactionHistoryDao:$a,transactionManager:Uo}),zc.setDependencies(Fc,{airportDatabase:pi,applicationUtils:Jr,cascadeGraphVerifier:Lc,deleteManager:Zc,dependencyGraphResolver:Pc,entityGraphReconstructor:Uc,entityStateManager:He,insertManager:Oc,qMetadataUtils:ti,queryFacade:qr,repositoryManager:Ec,structuralEntityValidator:Bc,updateManager:Vc,utils:ui}),zc.setDependencies(Dc,{actorDao:qa,airportDatabase:pi,observableQueryAdapter:Ul,repositoryDao:Ya,repositoryLoader:fi,storeDriver:Lo}),fi.setDependencies({repositoryDao:Ya,synchronizationAdapterLoader:ml,synchronizationInManager:Tl}),zc.setDependencies(Bc,{applicationUtils:Jr,dbApplicationUtils:Ze,entityStateManager:He}),Po.setClass(Gc),Po.setDependencies({sessionStateApi:Ml,terminalStore:Ao,userAccountManager:ss,userStore:Co}),Uo.setDependencies({activeQueries:Pl,idGenerator:vc,storeDriver:Lo,synchronizationOutManager:Ol,terminalSessionManager:Po,terminalStore:Ao,transactionHistoryDuo:ts}),Fo.setDependencies({actorDao:qa,applicationDao:Ji,databaseManager:Nc,dbApplicationUtils:Ze,internalRecordManager:Ic,localApiServer:wo,terminalSessionManager:Po,terminalStore:Ao,transactionManager:Uo,transactionalServer:Bo}),Bo.setDependencies({deleteManager:Zc,insertManager:Oc,operationManager:Fc,queryManager:Dc,repositoryManager:Ec,terminalStore:Ao,transactionManager:Uo,updateManager:Vc}),zc.setDependencies(Vc,{airportDatabase:pi,applicationUtils:Jr,fieldUtils:Kr,historyManager:Cc,operationHistoryDuo:Qa,queryFacade:qr,queryUtils:Pt,recordHistoryDuo:Ja,relationManager:oi,repositoryTransactionHistoryDuo:es,sequenceGenerator:Ge});var $c=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"sequences",get:function(){return this.terminalStore.getSequenceGenerator().sequences}},{key:"sequenceBlocks",get:function(){return this.terminalStore.getSequenceGenerator().sequenceBlocks}},{key:"generatingSequenceNumbers",get:function(){return this.terminalStore.getSequenceGenerator().generatingSequenceNumbers},set:function(e){this.terminalStore.getSequenceGenerator().generatingSequenceNumbers=e}},{key:"exists",value:function(e){var t=e.columns.filter((function(e){return e.isGenerated}));if(!t.length)return!0;var n=this.sequences[e.applicationVersion.application.index];if(!n)return!1;var r=n[e.index];return!!r&&t.every((function(e){return!!r[e.index]}))}},{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return e.next=3,this.sequenceDao.findAll();case 3:n=e.sent;case 4:return this.addSequences(n),e.next=7,this.sequenceDao.incrementCurrentValues(t);case 7:Be(this);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"tempInitialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.addSequences(n),Be(this);case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"generateSequenceNumbers",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,this.waitForPreviousGeneration();case 4:return this.generatingSequenceNumbers=!0,e.prev=5,e.next=8,this.doGenerateSequenceNumbers(t,n);case 8:return e.abrupt("return",e.sent);case 9:return e.prev=9,this.generatingSequenceNumbers=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[5,,9,12]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"doGenerateSequenceNumbers",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i,o,a,l,c,u,d,p,f,h,m;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],o=0;case 2:if(!(o<t.length)){e.next=25;break}for(a=t[o],l=n[o],c=Ve(i,o),u=a.propertyColumns[0].property.entity,d=u.applicationVersion.application,p=this.sequenceBlocks[d.index][u.index][a.index],f=this.sequences[d.index][u.index][a.index];l&&p;)c.push(f.currentValue-p+1),l--,p--;if(this.sequenceBlocks[d.index][u.index][a.index]=p,!l){e.next=22;break}return h=f.incrementBy+l,(m=r({},f)).currentValue+=h,e.next=18,this.sequenceDao.save(m);case 18:for(this.sequences[d.index][u.index][a.index]=m,p=h;l;)c.push(f.currentValue-p+1),l--,p--;this.sequenceBlocks[d.index][u.index][a.index]=p;case 22:o++,e.next=2;break;case 25:return e.abrupt("return",i);case 26:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"waitForPreviousGeneration",value:function(){var e=this;return new Promise((function(t){e.isDoneGeneratingSeqNums(t)}))}},{key:"isDoneGeneratingSeqNums",value:function(e){var t=this;this.generatingSequenceNumbers?setTimeout((function(){t.isDoneGeneratingSeqNums(e)}),20):e()}},{key:"addSequences",value:function(e){var t,n=(0,f.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;Ve(Ve(this.sequences,r.applicationIndex),r.tableIndex)[r.columnIndex]=r,r.currentValue+=r.incrementBy,Ve(Ve(this.sequenceBlocks,r.applicationIndex),r.tableIndex)[r.columnIndex]=r.incrementBy}}catch(i){n.e(i)}finally{n.f()}}}]),e}();Ge.setClass($c),Ge.setDependencies({sequenceDao:wi,terminalStore:Ao});var qc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this)).maxValues=999,e}return(0,u.Z)(n,[{key:"composeTableName",value:function(e,t){return"".concat(e,"__").concat(t)}},{key:"doesTableExist",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findNative("SELECT\n\ttbl_name\nfrom\n\tsqlite_master\nWHERE\n\ttype = 'table'\n\tAND tbl_name = '".concat(t,"__").concat(n,"'"),[],r);case 2:return i=e.sent,e.abrupt("return",1===this.getNumberOfRows(i));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getSelectQuerySuffix",value:function(e,t){return""}},{key:"getNumberOfRows",value:function(e){return this.getRows(e).length}},{key:"dropTable",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findNative("DROP TABLE '".concat(t,"__").concat(n,"'"),[],r);case 2:return i=e.sent,e.abrupt("return",1===i.length);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findNative",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.map((function(e){return o.convertValueIn(e)})),e.next=3,this.query(de.SELECT,t,i,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeNative",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.query(de.MUTATE,t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"convertValueIn",value:function(e){switch(typeof e){case"boolean":return e?1:0;case"number":case"string":return e;case"undefined":return null;case"object":if(e){if(e instanceof Date)return e.getTime();throw new Error("Unexpected non-date object ".concat(e))}return null;default:throw new Error("Unexpected typeof value: ".concat(typeof e))}}},{key:"isValueValid",value:function(e,t,n){throw new Error("Method not implemented.")}},{key:"initTables",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<t.length)){e.next=8;break}return r=t[n],e.next=5,r;case 5:n++,e.next=1;break;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDialect",value:function(){return ec.SQLITE}}]),n}(yc),Yc=function(){function e(){(0,c.Z)(this,e),this.functionAdaptor=new Wc}return(0,u.Z)(e,[{key:"getParameterReference",value:function(e,t){return"?"}},{key:"dateToDbQuery",value:function(e){return""+e.getTime()}},{key:"getResultArray",value:function(e){return e.res.rows}},{key:"getResultCellValue",value:function(e,t,n,r,i){var o=this.getResultCellRawValue(e,t,n,r,i);switch(r){case re.BOOLEAN:if(null!==o)return!!o;break;case re.DATE:if(null!==o)return new Date(o);break;case re.JSON:if(null!==o)return JSON.parse(o);break;case re.ANY:case re.NUMBER:case re.STRING:return o;default:throw new Error("Unexpected data type for column ".concat(t))}}},{key:"getFunctionAdaptor",value:function(){return this.functionAdaptor}},{key:"getOffsetFragment",value:function(e){return"\nOFFSET\n\t".concat(e)}},{key:"getLimitFragment",value:function(e){return"\nLIMIT\n\t".concat(e)}},{key:"getParameterValue",value:function(e){return this.getValue(e.value)}},{key:"getValue",value:function(e){var t=this;switch(typeof e){case"boolean":return e?"1":"0";case"number":case"string":return e;case"object":if(e instanceof Date)return e.getTime();if(e instanceof Array)return e.map((function(e){return t.getValue(e,!1)}));throw new Error("Unexpected object as a parameter.");default:throw new Error("Unexpected type of parameter '".concat(typeof e,".'"))}}}]),e}(),Wc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getFunctionCall",value:function(e,t,n,r,i){var o,a=this;switch(e.ft){case te.ABS:return"ABS(".concat(t,")");case te.AVG:return"AVG(".concat(t,")");case te.COUNT:return"COUNT(".concat(t,")");case te.MAX:return"MAX(".concat(t,")");case te.MIN:return"MIN(".concat(t,")");case te.SUM:return"SUM(".concat(t,")");case te.UCASE:return"UPPER(".concat(t,")");case te.LCASE:return"LOWER(".concat(t,")");case te.MID:var s=r.getFunctionCallValue(e.p[0],i),l=r.getFunctionCallValue(e.p[1],i);return"SUBSTR(".concat(t,", ").concat(s,", ").concat(l,")");case te.LEN:return"LENGTH(".concat(t,")");case te.ROUND:var c=r.getFunctionCallValue(e.p[0],i);return"ROUND(".concat(t,", ").concat(c,")");case te.NOW:return"DATE('now')";case te.FORMAT:for(var u="FORMAT('".concat(t,"', "),d=0;d<e.p.length;d++){var p=e.p[d];p=r.getFunctionCallValue(p,i),u="".concat(u,", ").concat(p)}return u+=")";case te.REPLACE:var f=r.getFunctionCallValue(e.p[0],i);return o=r.getFunctionCallValue(e.p[1],i),"REPLACE('".concat(t,"', ").concat(f,", ").concat(o,")");case te.TRIM:return"TRIM(".concat(t,")");case te.DISTINCT:throw new Error("Invalid placement of a distinct function");case te.EXISTS:throw new Error("Invalid placement of an exists function");case te.DIVIDE:return o=r.getFunctionCallValue(e.p[0],i),"".concat(t," / ").concat(o);case te.MINUS:return o=r.getFunctionCallValue(e.p[0],i),"".concat(t," - ").concat(o);case te.MULTIPLY:return o=r.getFunctionCallValue(e.p[0],i),"".concat(t," * ").concat(o);case te.PLUS:return o=r.getFunctionCallValue(e.p[0],i),"".concat(t," + ").concat(o);case te.CONCATENATE:return e.p.reduce((function(e,t){return a.toString(r.getFunctionCallValue(t,i)),e+t}),this.toString(t));case te.COALESCE:throw new Error("Not Implemented");default:throw new Error("Unknown function type: ".concat(e.ft))}}},{key:"toString",value:function(e){switch(typeof e){case"string":return e;case"boolean":case"number":return e.toString();case"undefined":return"null";case"object":if(null===e)return"null";if(e instanceof Date)return e.toJSON();throw new Error("Unsupported value for conversion to string.");default:throw new Error("Unsupported value for conversion to string.")}}}]),n}(jl),Qc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"createApplication",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getColumnSuffix",value:function(e,t,n){var r="";(n.notNull||this.isPrimaryKeyColumn(t,n))&&(r=" NOT NULL");var i=r;switch(n.type){case re.ANY:return i;case re.BOOLEAN:return"INTEGER ".concat(i);case re.DATE:return"REAL ".concat(i);case re.JSON:return"TEXT ".concat(i);case re.NUMBER:return i?"INTEGER ".concat(i):"REAL";case re.STRING:return"TEXT ".concat(i);default:throw new Error("Unexpected data type for ".concat(e.name,".").concat(t.name,".").concat(n.name))}}},{key:"getCreateTableSuffix",value:function(e,t){return" WITHOUT ROWID"}},{key:"buildAllSequences",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("buildAllSequences"),r=[],i=(0,f.Z)(t);try{for(i.s();!(o=i.n()).done;){a=o.value,l=this.airportDatabase.QM[this.dbApplicationUtils.getFullApplication_Name(a)],c=(0,f.Z)(a.versions[a.versions.length-1].entities);try{for(c.s();!(u=c.n()).done;)d=u.value,r=r.concat(this.buildSequences(l.__dbApplication__,d))}catch(s){c.e(s)}finally{c.f()}}}catch(s){i.e(s)}finally{i.f()}return e.next=6,this.sequenceDao.save(r,n);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stageSequences",value:function(e,t){console.log("stageSequences");var n,r=[],i=(0,f.Z)(e);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,s=this.airportDatabase.QM[this.dbApplicationUtils.getFullApplication_Name(a)],l=(0,f.Z)(a.versions[a.versions.length-1].entities);try{for(l.s();!(o=l.n()).done;){var c=o.value;r=r.concat(this.buildSequences(s.__dbApplication__,c))}}catch(u){l.e(u)}finally{l.f()}}}catch(u){i.e(u)}finally{i.f()}return r}},{key:"buildSequences",value:function(e,t){var n,r=[],i=(0,f.Z)(t.columns);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.isGenerated){var a=o.allocationSize;a||(a=100),r.push({applicationIndex:e.index,tableIndex:t.index,columnIndex:o.index,incrementBy:a,currentValue:0})}}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"getIndexSql",value:function(e,t,n,r){return"CREATE".concat(r?" UNIQUE":""," INDEX ").concat(e,"\n    ON ").concat(t," (\n    ").concat(n.join(", "),"\n    )")}},{key:"getForeignKeySql",value:function(e,t,n,r,i){return null}}]),n}(Wo);ia.setClass(Qc);var Jc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(gc),Xc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this)).type=fe.SQLJS,e}return(0,u.Z)(n,[{key:"initialize",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,initSqlJs({locateFile:function(e){return"./assets/".concat(e)}});case 2:t=e.sent,this._db=new t.Database;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setupTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Jc(this,n),e.next=3,this.internalSetupTransaction(r,t);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"internalStartTransaction",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._db){e.next=5;break}return e.next=3,this.wait(50);case 3:e.next=0;break;case 5:r="SAVEPOINT '".concat(t.id,"'"),console.warn((new Date).toISOString()+"  "+r),this._db.exec(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"internalCommit",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._db){e.next=5;break}return e.next=3,this.wait(50);case 3:e.next=0;break;case 5:r="RELEASE SAVEPOINT '".concat(t.id,"'"),console.warn((new Date).toISOString()+"  "+r),this._db.exec(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"internalRollback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._db){e.next=5;break}return e.next=3,this.wait(50);case 3:e.next=0;break;case 5:r="ROLLBACK TO SAVEPOINT '".concat(t.id,"'"),console.warn((new Date).toISOString()+"  "+r),this._db.exec(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"query",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i=this,o=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=o.length>2&&void 0!==o[2]?o[2]:[],o.length>3?o[3]:void 0,o.length>4&&void 0!==o[4]&&o[4];case 3:if(this._db){e.next=8;break}return e.next=6,this.wait(50);case 6:e.next=3;break;case 8:return e.abrupt("return",new Promise((function(e,t){var o;try{["TQ_BOOLEAN_FIELD_CHANGE","TQ_DATE_FIELD_CHANGE","TQ_NUMBER_FIELD_CHANGE","TQ_STRING_FIELD_CHANGE","TQ_ENTITY_CHANGE","TQ_ENTITY_WHERE_CHANGE","TQ_TRANSACTION"].some((function(e){return n.indexOf(e)>-1}))||(console.debug(n),console.debug(r)),(o=i._db.prepare(n)).bind(r);for(var a=[];o.step();)a.push(o.get());console.debug(a),e(a)}catch(s){t(s)}finally{o&&o.free()}})));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){throw e}},{key:"getRows",value:function(e){return e}},{key:"wait",value:function(e){return new Promise((function(t){setTimeout((function(){t()}),e)}))}},{key:"getReturnValue",value:function(e,t){switch(e){case de.MUTATE:return t.rowsAffected;case de.SELECT:return t.rows;default:return null}}},{key:"getDialect",value:function(){return ec.SQLITE}}]),n}(qc),Kc=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"getResultCellRawValue",value:function(e,t,n,r,i){return e[n]}}]),n}(Yc);function eu(e){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.get(Nc);case 2:return n=e.sent,e.next=5,n.initWithDb(t,{});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Lo.setClass(Xc),wc.setClass(Kc),console.log("injecting SequenceGenerator");var nu,ru=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"serializeAsArray",value:function(e){var t=this,n=[];return e?n=e instanceof Array?e.map((function(e){return t.serialize(e)})):[this.serialize(e)]:n}},{key:"serialize",value:function(e){var t={namePath:["root"],processedEntityMap:new Map,sequence:0,stubLookupTable:[]};return this.doSerialize(e,t)}},{key:"doSerialize",value:function(e,t){var n=this;if(!(e instanceof Object))return e;if(e instanceof Array)return e.map((function(e){return n.doSerialize(e,t)}));if(e instanceof Date)return this.serializationStateManager.serializeAsDate(e);var r=t.processedEntityMap.get(e);if(r)return t.stubLookupTable[r];r=++t.sequence,t.processedEntityMap.set(e,r);var i={};this.serializationStateManager.markAsStub(e),i[this.serializationStateManager.getUniqueIdFieldName()]=r,t.stubLookupTable[r]=i;var o={};o[this.serializationStateManager.getUniqueIdFieldName()]=r;var a=!0;for(var s in e){var l=e[s],c=void 0;a||t.namePath.pop(),a=!1,t.namePath.push(s),c=l instanceof Object?l instanceof Array?l.map((function(e){return n.doSerialize(e,t)})):l instanceof Date?this.serializationStateManager.serializeAsDate(l):this.doSerialize(l,t):l,o[s]=c}return a||t.namePath.pop(),o}}]),e}();!function(e){e.DATE="DATE",e.STUB="STUB"}(nu||(nu={}));var iu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getSerializationUniqueId",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t[e.SERIALIZATION_UNIQUE_ID_FIELD];if((!r||"number"!==typeof r||r<1)&&n)throw new Error('Could not find "'.concat(e.SERIALIZATION_UNIQUE_ID_FIELD,'" property on DTO:\n        \n        ').concat(JSON.stringify(t)));return r}},{key:"getEntityState",value:function(t){return t[e.SERIALIZATION_STATE_FIELD]}},{key:"markAsStub",value:function(e){this.markAs(e,nu.STUB)}},{key:"isStub",value:function(e){return this.is(e,nu.STUB)}},{key:"serializeAsDate",value:function(e){return{__serializationState__:nu.DATE,value:e.toISOString()}}},{key:"isDate",value:function(e){return this.is(e,nu.DATE)}},{key:"getUniqueIdFieldName",value:function(){return e.SERIALIZATION_UNIQUE_ID_FIELD}},{key:"is",value:function(t,n){return t[e.SERIALIZATION_STATE_FIELD]==n}},{key:"markAs",value:function(t,n){t[e.SERIALIZATION_STATE_FIELD]=n}}]),e}();iu.SERIALIZATION_UNIQUE_ID_FIELD="__SUID__",iu.SERIALIZATION_STATE_FIELD="__serializationState__",iu.ORIGINAL_VALUES_PROPERTY="__originalValues__";var ou=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"deserialize",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{lookupTable:[]};return e instanceof Array?e.map((function(e){return t.doDeserialize(e,n)})):this.doDeserialize(e,n)}},{key:"doDeserialize",value:function(e,t){var n=this.serializationStateManager.getEntityState(e);if(n===nu.DATE)return new Date(e.value);var r=this.serializationStateManager.getSerializationUniqueId(e);if(!r||"number"!==typeof r||r<1)throw new Error("Invalid or missing ".concat(this.serializationStateManager.getUniqueIdFieldName()," field."));var i=t.lookupTable[r];if(n===nu.STUB){if(!i)throw new Error("Could not find an already present entity for\n\t\t\t\t\t".concat(this.serializationStateManager.getUniqueIdFieldName()," of ").concat(r));return i}if(i)throw new Error("Entity appears more than once for\n\t\t\t\t\t".concat(this.serializationStateManager.getUniqueIdFieldName()," of ").concat(r));var o={};for(var a in t.lookupTable[r]=o,e){var s=e[a],l=void 0;l=s instanceof Object?this.deserialize(s,t):s,o[a]=l}return delete o[this.serializationStateManager.getUniqueIdFieldName()],o}},{key:"deepCopyProperties",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(e instanceof Object&&!(e instanceof Date)){for(var i in e)e.hasOwnProperty(i)&&this.copyObject(e,i,t,n);for(var o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)||delete t[o]);this.doSetPropertyDescriptors(t,r)}}},{key:"copyObject",value:function(e,t,n,r){var i=e[t],o=n[t],a=r.get(i);if(a)n[t]=a;else if(i instanceof Object)if(i instanceof Array){o&&o instanceof Array||(o=[],n[t]=o),r.set(i,o);for(var s=0;s<i.length;s++)this.copyObject(i,s,o,r)}else i instanceof Date?n[t]=new Date(i.getTime()):((!o||!(o instanceof Object)||o instanceof Date||o instanceof Array)&&(o={},n[t]=o),r.set(i,o),this.deepCopyProperties(i,o,r));else n[t]=i}},{key:"setPropertyDescriptors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(e instanceof Array)for(var n=0;n<e.length;n++)this.setPropertyDescriptors(e[n],t);else if(e instanceof Object&&!(e instanceof Date)&&!t.has(e)){for(var r in t.add(e),e)if(e.hasOwnProperty(r)){var i=e[r];r!==iu.ORIGINAL_VALUES_PROPERTY&&!(i instanceof Date)&&i instanceof Object&&this.setPropertyDescriptors(i,t)}this.doSetPropertyDescriptors(e,t)}}},{key:"doSetPropertyDescriptors",value:function(e,t){var n=Object.getPrototypeOf(e);if(!Object.getOwnPropertyDescriptor(e,"id")&&(!n||!Object.getOwnPropertyDescriptor(n,"id"))&&!e.id){var r=this;Object.defineProperty(e,"id",{get:function(){var e=r.__container__;return e||(e=globalThis.IOC),e.getSync(globalThis.AIR_ENTITY_UTILS).encodeId(this)},set:function(e){var t=r.__container__;return t||(t=globalThis.IOC),t.getSync(globalThis.AIR_ENTITY_UTILS).setId(e,this)}})}Object.getOwnPropertyDescriptor(e,"isNew")||n&&Object.getOwnPropertyDescriptor(n,"isNew")||e.isNew||Object.defineProperty(e,"isNew",{get:function(){return!!this._actorRecordId}}),Object.getOwnPropertyDescriptor(e,"createdBy")||n&&Object.getOwnPropertyDescriptor(n,"createdBy")||e.createdBy||Object.defineProperty(e,"createdBy",{get:function(){return this.actor.userAccount}})}}]),e}();globalThis.IOC&&(globalThis.OPERATION_SERIALIZER.setClass(ru),globalThis.SERIALIZATION_STATE_MANAGER.setClass(iu),globalThis.QUERY_RESULTS_DESERIALIZER.setClass(ou),globalThis.OPERATION_SERIALIZER.setDependencies({serializationStateManager:globalThis.SERIALIZATION_STATE_MANAGER}),globalThis.QUERY_RESULTS_DESERIALIZER.setDependencies({airEntityUtils:globalThis.AIR_ENTITY_UTILS,serializationStateManager:globalThis.SERIALIZATION_STATE_MANAGER}));var au=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"initialize",value:function(e){this.applicationStore.state.api=e}},{key:"findApiObjectAndOperation",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.findObjectAndOperationForApi(this.applicationStore.state.api,t,n,r,i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"findObjectAndOperationForApi",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.apiObjectMap[i]){e.next=3;break}throw new Error("Could not find API object for\n        Domain:\n            ".concat(n,"\n        Application:\n            ").concat(r,"\n        Interface:\n            ").concat(i,"\n            \n            ---===<<<((( Please remember, generator must be run after API modifications )))>>>===---\n\n            "));case 3:if(l=a.operationMap[o]){e.next=6;break}throw new Error("Could not find API object method for \n        Domain:\n            ".concat(n,"\n        Application:\n            ").concat(r,"\n        Interface:\n            ").concat(i,"\n        Method name:\n            ").concat(o,"\n            \n            ---===<<<((( Please remember, generator must be run after API modifications )))>>>===---\n\n            "));case 6:return e.next=8,this.containerAccessor.getContainer(this).getByNames(n,r,i);case 8:return c=e.sent,e.abrupt("return",{apiObject:c,apiOperation:l});case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}()}]),e}(),su=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"validate",value:function(e,t){}}]),e}(),lu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"handleRequest",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.requestManager.actor=t.actor,this.requestManager.userAccount=t.actor.userAccount,e.next=5,this.coreHandleRequest(t,this.applicationStore.state.api);case 5:n=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),r=e.t0.message?e.t0.message:e.t0,console.error(e.t0);case 12:return i={application:t.application,args:t.args,category:"ToClient",domain:t.domain,errorMessage:r,id:t.id,hostDomain:t.hostDomain,hostProtocol:t.hostProtocol,methodName:t.methodName,objectName:t.objectName,protocol:t.protocol,payload:n,transactionId:t.transactionId},e.abrupt("return",i);case 14:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"coreHandleRequest",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,p,h;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiRegistry.findObjectAndOperationForApi(n,t.domain,t.application,t.objectName,t.methodName);case 2:if(i=e.sent,o=i.apiObject,a=i.apiOperation,t.args,r&&[].concat((0,d.Z)(t.args),[r]),!(t.args.length>a.parameters.length)){e.next=9;break}throw new Error("\n    Too many parameters passed in to @Api() request\nDomain:      ".concat(t.domain,"\nApplication: ").concat(t.application,"\n@Api()\n").concat(t.objectName,".").concat(t.methodName,"\n"));case 9:for(l=0;l<a.parameters.length-t.args.length;l++)t.args.push(void 0);c=(0,f.Z)(t.args);try{for(c.s();!(u=c.n()).done;)p=u.value,this.queryResultsDeserializer.setPropertyDescriptors(p)}catch(s){c.e(s)}finally{c.f()}if(h=o[t.methodName].apply(o,[].concat((0,d.Z)(t.args),[r])),!a.isAsync){e.next=19;break}return e.next=16,h;case 16:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",h);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}(),cu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"deserialize",value:function(e,t,n,r){var i=this,o={lookupTable:[]};return e instanceof Array?e.map((function(e){return i.doDeserialize(e,t,o,n,r)})):this.doDeserialize(e,t,o,n,r)}},{key:"doDeserialize",value:function(e,t,n,r,i){var o=this,a=r.getEntityState(e),s=r.getOperationUniqueId(e);if(!s||"number"!==typeof s||s<1||s%1===0)throw new Error("Invalid or missing ".concat(r.getUniqueIdFieldName()," field."));var l=n.lookupTable[s];if(a===ie.STUB){var c=n.lookupTable[s];if(!c)throw new Error("Could not find an already present entity for\n\t\t\t\t\t".concat(r.getUniqueIdFieldName()," of ").concat(s));return c}if(l)throw new Error("Entity appears more than once for\n\t\t\t\t\t".concat(r.getUniqueIdFieldName()," of ").concat(s));var u={};n.lookupTable[s]=u,u[r.getStateFieldName()]=a;var d,p=(0,f.Z)(t.properties);try{var h=function(){var a,s=d.value,l=e[s.name];if(i.isEmpty(l))return"continue";if(s.relation){var c=s.relation[0];switch(c.relationType){case X.ONE_TO_MANY:if(!(l instanceof Array))throw new Error("Expecting @OneToMany for an array entity relation");a=l.map((function(e){return o.doDeserialize(e,c.entity,n,r,i)}));break;case X.MANY_TO_ONE:if(!(l instanceof Object)||l instanceof Array)throw new Error("Expecting @ManyToOne for a non-array entity relation");a=o.doDeserialize(l,c.entity,n,r,i);break;default:throw new Error("Unknown relation type: ".concat(c.relationType))}}else{switch(s.propertyColumns[0].column.type){case re.JSON:throw new Error("Json properties cannot be deserialized");case re.DATE:if(!(l instanceof Object)||l[r.getStateFieldName()]!==ie.DATE||!l.value)throw new Error("Invalid Serialized Date format for ".concat(t.name,".").concat(s.name));try{a=new Date(l)}catch(p){throw new Error("Invalid Serialized Date format for ".concat(t.name,".").concat(s.name))}break;case re.ANY:case re.BOOLEAN:case re.NUMBER:case re.STRING:a=l;break;default:throw new Error("Unexpected data type for ".concat(t.name,".").concat(s.name))}}u[s.name]=a};for(p.s();!(d=p.n()).done;)h()}catch(m){p.e(m)}finally{p.f()}return u}},{key:"cleanJsonObject",value:function(e,t,n){var r,i=this;if(e instanceof Object)if(e instanceof Array)r=e.map((function(e){return i.cleanJsonObject(e,t,n)}));else{if(r={},e[n.getStateFieldName()]===ie.STUB)throw new Error("Interlinked object graphs are not supported in @Json() columns \n                    ".concat(t.entity.name,".").concat(t.name));for(var o in delete e[n.getStateFieldName()],delete e[n.getUniqueIdFieldName()],e){var a=e[o];r[o]=this.cleanJsonObject(a,t,n)}}else r=e;return r}}]),e}(),uu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"copyEntityForProcessing",value:function(e,t,n,r){var i={processedEntityMap:new Map,sequence:r.lastOUID?r.lastOUID:0},o=this.doCopyEntityForProcessing(e,t,n,i);return r.lastOUID=i.sequence,o}},{key:"doCopyEntityForProcessing",value:function(e,t,n,r){var i=this;if(e instanceof Array)return e.map((function(e){return i.doCopyEntityForProcessing(e,t,n,r)}));var o={};if(r.processedEntityMap.has(e))return r.processedEntityMap.get(e);r.processedEntityMap.set(e,o);var a=++r.sequence;o[n.getUniqueIdFieldName()]=a,e[n.getUniqueIdFieldName()]=a,n.setOriginalValues(n.getOriginalValues(e),o);var s,l=(0,f.Z)(t.properties);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=e[c.name];c.relation&&c.relation.length&&u?o[c.name]=this.doCopyEntityForProcessing(u,c.relation[0].relationEntity,n,r):o[c.name]=u}}catch(d){l.e(d)}finally{l.f()}return o[n.getStateFieldName()]=e[n.getStateFieldName()],o}}]),e}(),du=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"saveOriginalValues",value:function(e,t){this.doSaveOriginalValues(e,t,new Set)}},{key:"doSaveOriginalValues",value:function(e,t,n){if(e instanceof Array)for(var r=0;r<e.length;r++)this.doSaveOriginalValues(e[r],t,n);else if(e&&!n.has(e)){n.add(e);var i={};this.entityStateManager.setOriginalValues(i,e);var o,a=(0,f.Z)(t.properties);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=e[s.name];if(s.relation&&s.relation.length){if(!l)continue;s.relation[0].relationType===X.MANY_TO_ONE&&this.applicationUtils.forEachColumnTypeOfRelation(s.relation[0],(function(t,n){var r,o=(0,f.Z)(n);try{for(o.s();!(r=o.n()).done;)for(var a=r.value,s=e,l=i,c=0;c<a.length;c++){var u=a[c];if(s instanceof Object){s=s[u];var d=void 0;d=c===a.length-1?s:{},l[u]=d,l=l[u]}else l[u]=s}}catch(p){o.e(p)}finally{o.f()}})),this.doSaveOriginalValues(l,s.relation[0].relationEntity,n)}else i[s.name]=e[s.name]}}catch(c){a.e(c)}finally{a.f()}}}},{key:"setOperationState",value:function(e,t,n,r){var i=this;if(e instanceof Array)for(var o=0;o<e.length;o++)this.setOperationState(e[o],t,n,r);else if(!n.has(e)){n.add(e);var a,s=this.entityStateManager.getOriginalValues(e),l=e[this.entityStateManager.getStateFieldName()],c=!0,u=!1,d=(0,f.Z)(t.properties);try{for(d.s();!(a=d.n()).done;){var p=a.value;if(p.isId){var h,m=(0,f.Z)(p.propertyColumns);try{for(m.s();!(h=m.n()).done;){h.value.column.isGenerated&&(u=!0)}}catch(E){m.e(E)}finally{m.f()}p.relation&&p.relation.length?this.applicationUtils.forEachColumnTypeOfRelation(p.relation[0],(function(t,n){var r,i=(0,f.Z)(n);try{for(i.s();!(r=i.n()).done;){for(var o=r.value,a=e,s=0;s<o.length;s++){var u=o[s];a&&(a=a[u])}if(!a){if(l===ie.DELETE)throw new Error("Entity is marked for deletion but does not have an @Id() property:\n            ".concat(o.join("."),"\n                                    "));return l=ie.CREATE,c=!1,!0}}}catch(E){i.e(E)}finally{i.f()}})):e[p.name]||0===e[p.name]||(c=!1)}}}catch(E){d.e(E)}finally{d.f()}if(s){var v,y=(0,f.Z)(t.properties);try{var g=function(){var t=v.value,n=e[t.name];if(t.relation&&t.relation.length){if(!n)return"continue";var r=t.relation[0];i.entityStateManager.getOriginalValues(n),i.applicationUtils.forEachColumnTypeOfRelation(r,(function(t,r){var o,a=i.entityStateManager.getOriginalValues(n),s=(0,f.Z)(r);try{for(s.s();!(o=s.n()).done;)for(var c=o.value,u=e,d=a,p=0;p<c.length;p++){var h=c[p];u=u[h],0!==p&&(d=d[h]);var m=null===d||void 0===d;if(null===u||void 0===u){if(d)return l=ie.UPDATE,!0;break}if(m){if(u)return l=ie.UPDATE,!0;break}if("object"===typeof u){if("object"!==typeof d)return l=ie.UPDATE,!0}else{if("object"===typeof d)return l=ie.UPDATE,!0;if(u!==d)return l=ie.UPDATE,!0}}}catch(E){s.e(E)}finally{s.f()}}))}else{if(l)return"continue";var o,a=s[t.name];switch(t.propertyColumns[0].column.type){case re.DATE:a&&(a=a.getTime()),n&&(o=n.getTime());break;case re.JSON:a&&(a=JSON.stringify(a)),n&&(o=JSON.stringify(n));break;default:o=n}o!==a&&(l=ie.UPDATE)}};for(y.s();!(v=y.n()).done;)g()}catch(E){y.e(E)}finally{y.f()}}var b,x=(0,f.Z)(t.properties);try{for(x.s();!(b=x.n()).done;){var w=b.value,k=e[w.name];k&&w.relation&&w.relation.length&&this.setOperationState(k,w.relation[0].relationEntity,n,r)}}catch(E){x.e(E)}finally{x.f()}l||(l=c&&(!r||u)||s?ie.PASS_THROUGH:ie.CREATE),e[this.entityStateManager.getStateFieldName()]=l}}},{key:"afterSaveModifications",value:function(e,t,n,r){this.updateOriginalValuesAfterSave(e,t,n,new Set),this.removeDeletedEntities(e,t,n,r)}},{key:"updateOriginalValuesAfterSave",value:function(e,t,n,r){if(e instanceof Array)for(var i=0;i<e.length;i++)this.updateOriginalValuesAfterSave(e[i],t,n,r);else{if(r.has(e))return;r.add(e);var o,a=this.entityStateManager.getOperationUniqueId(e,!1,t);o=this.doUpdateOriginalValuesAfterSave(e,t,n,r,a),this.entityStateManager.setOriginalValues(o,e)}}},{key:"doUpdateOriginalValuesAfterSave",value:function(e,t,n,r,i){var o=n.created[i];if(o){if(!0!==o){for(var a in o)e[a]=o[a];if(t.isAirEntity){var s=e;s.repository&&s.repository._localId||(s.repository=n.newRepository),s.actor=n.actor}}}else if(n.deleted[i])return this.entityStateManager.setIsDeleted(!0,e),void this.entityStateManager.setOriginalValues(null,e);var l,c={},u=(0,f.Z)(t.properties);try{for(u.s();!(l=u.n()).done;){var d=l.value,p=e[d.name];p&&d.relation&&d.relation.length?(d.relation[0].relationType===X.MANY_TO_ONE&&this.applicationUtils.forEachColumnTypeOfRelation(d.relation[0],(function(t,n){var r,i=(0,f.Z)(n);try{for(i.s();!(r=i.n()).done;)for(var o=r.value,a=e,s=c,l=0;l<o.length;l++){var u=o[l];if(a instanceof Object){a=a[u];var d=void 0;d=l===o.length-1?a:{},s[u]=d,s=s[u]}else s[u]=a}}catch(p){i.e(p)}finally{i.f()}})),this.updateOriginalValuesAfterSave(p,d.relation[0].relationEntity,n,r)):c[d.name]=p}}catch(h){u.e(h)}finally{u.f()}return c}},{key:"removeDeletedEntities",value:function(e,t,n,r){if(e instanceof Array){for(var i=e.length-1;i>=0;i--)this.removeDeletedEntities(e[i],t,n,r)&&e.splice(i,1);return!e.length}if(r.has(e))return this.entityStateManager.isDeleted(e);r.add(e);var o,a=(0,f.Z)(t.relations);try{for(a.s();!(o=a.n()).done;){var s=o.value,l=s.property,c=e[l.name];if(c)switch(s.relationType){case X.MANY_TO_ONE:this.removeDeletedEntities(c,s.relationEntity,n,r)&&(e[l.name]=null);break;case X.ONE_TO_MANY:this.removeDeletedEntities(c,s.relationEntity,n,r)}}}catch(u){a.e(u)}finally{a.f()}return this.entityStateManager.isDeleted(e)}}]),e}(),pu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"isStub",value:function(e){return this.getEntityState(e)===ie.STUB}},{key:"isParentSchemaId",value:function(e){return this.getEntityState(e)===ie.PARENT_SCHEMA_ID}},{key:"isPassThrough",value:function(e){return this.getEntityState(e)===ie.PASS_THROUGH}},{key:"markAsOfParentSchema",value:function(t){t[e.STATE_FIELD]=ie.PARENT_SCHEMA_ID}},{key:"markForDeletion",value:function(t){t[e.STATE_FIELD]=ie.DELETE}},{key:"markToCreate",value:function(t){t[e.STATE_FIELD]=ie.CREATE}},{key:"markToUpdate",value:function(t){t[e.STATE_FIELD]=ie.UPDATE}},{key:"getEntityState",value:function(t){return t[e.STATE_FIELD]}},{key:"getOriginalValues",value:function(t){return t[e.ORIGINAL_VALUES_PROPERTY]}},{key:"setOriginalValues",value:function(t,n){n[e.ORIGINAL_VALUES_PROPERTY]=t}},{key:"copyEntityState",value:function(t,n){n[e.STATE_FIELD]=t[e.STATE_FIELD],n[e.ORIGINAL_VALUES_PROPERTY]=t[e.ORIGINAL_VALUES_PROPERTY]}},{key:"getStateFieldName",value:function(){return e.STATE_FIELD}},{key:"getEntityStateTypeAsFlags",value:function(e,t){var n,r,i,o,a,s,l,c=this.getEntityState(e);switch(c){case ie.CREATE:n=!0;break;case ie.DELETE:r=!0;break;case ie.PARENT_SCHEMA_ID:i=!0;break;case ie.PASS_THROUGH:o=!0;break;case ie.DATE:a=!0;break;case ie.STUB:s=!0;break;case ie.UPDATE:l=!0;break;default:throw new Error('Unexpected entity state\n"'.concat(this.getStateFieldName(),'" for ').concat(t.name,": ").concat(c))}return{isCreate:n,isDelete:r,isParentSchemaId:i,isPassThrough:o,isResultDate:a,isStub:s,isUpdate:l}}},{key:"setIsDeleted",value:function(t,n){n[e.STATE_FIELD]=ie.DELETE}},{key:"isDeleted",value:function(t){return t[e.STATE_FIELD]===ie.DELETE}},{key:"getOperationUniqueId",value:function(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=t[e.OPERATION_UNIQUE_ID_FIELD];if((!o||"number"!==typeof o||o<1)&&r)throw n=i?i.applicationVersion.application.name+"."+i.name:JSON.stringify(t),new Error('Could not find "'.concat(e.OPERATION_UNIQUE_ID_FIELD,'" property on DTO:\n        \n        ').concat(n));return o}},{key:"copyOperationUniqueId",value:function(t,n){var r=t[e.OPERATION_UNIQUE_ID_FIELD];n[e.OPERATION_UNIQUE_ID_FIELD]=r}},{key:"markAsStub",value:function(t){t[e.STATE_FIELD]=ie.STUB}},{key:"getUniqueIdFieldName",value:function(){return e.OPERATION_UNIQUE_ID_FIELD}}]),e}();pu.DELETED_PROPERTY="__deleted__",pu.ORIGINAL_VALUES_PROPERTY=iu.ORIGINAL_VALUES_PROPERTY,pu.STATE_FIELD="__state__",pu.OPERATION_UNIQUE_ID_FIELD="__OUID__";var fu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"insertColumnValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return t instanceof Function&&(t=t()),r=new xn(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.insertValues(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return t instanceof Function&&(t=t()),r=new wn(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.insertValues(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertColumnValuesGenerateIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return t instanceof Function&&(t=t()),r=new xn(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.insertValuesGetLocalIds(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValuesGenerateIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",[]);case 2:return t instanceof Function&&(t=t()),r=new wn(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.insertValuesGetLocalIds(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return t instanceof Function&&(t=t()),r=new hn(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.deleteWhere(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.preSaveOperations(t,n,this.transactionalConnector.internal);case 4:return r=e.sent,e.next=7,this.transactionalConnector.save(r,n);case 7:return i=e.sent,this.updateCacheManager.afterSaveModifications(t,n.dbEntity,i,new Set),e.abrupt("return",i);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"saveToDestination",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,this.preSaveOperations(n,r,this.transactionalConnector.internal);case 4:return i=e.sent,e.next=7,this.transactionalConnector.saveToDestination(t,i,r);case 7:return o=e.sent,this.updateCacheManager.afterSaveModifications(n,r.dbEntity,o,new Set),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"preSaveOperations",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return i=n.dbEntity,o=this.entityCopier.copyEntityForProcessing(t,i,this.entityStateManager,n),this.updateCacheManager.setOperationState(o,i,new Set,r),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateColumnsWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return t instanceof Function&&(t=t()),r=new In(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.updateValues(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",0);case 2:return t instanceof Function&&(t=t()),r=new Rn(t),e.next=6,this.ensureQueryContext(n);case 6:return i=e.sent,o=this.queryFacade.getPortableQuery(r,null,i),e.next=10,this.transactionalConnector.updateValues(o,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"prepare",value:function(e){return new hu(e)}},{key:"ensureQueryContext",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),hu=function(){function e(t){throw(0,c.Z)(this,e),new Error("Not Implemented")}return(0,u.Z)(e,[{key:"find",value:function(){}}]),e}(),mu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"find",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(r);case 2:return e.next=4,this.transactionalConnector.find(this.getPortableQuery(t,n,r),r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"findOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(r);case 2:return e.next=4,this.transactionalConnector.findOne(this.getPortableQuery(t,n,r),r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getPortableQuery",value:function(e,t,n){return{jsonQuery:e.toJSON(this.queryUtils,this.fieldUtils,this.relationManager),parameterMap:e.getParameters(),queryResultType:t,applicationIndex:n.dbEntity.applicationVersion.application.index,tableIndex:n.dbEntity.index}}},{key:"search",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(r);case 2:return e.next=4,this.transactionalConnector.search(this.getPortableQuery(t,n,r),r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"searchOne",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ensureContext(r);case 2:return e.next=4,this.transactionalConnector.searchOne(this.getPortableQuery(t,n,r),r);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"ensureContext",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),vu=function(){function e(t,n,r){(0,c.Z)(this,e),this.applicationDomain=t,this.applicationName=n,this.entityMap=r}return(0,u.Z)(e,[{key:"add",value:function(e,t){this.entityMap.set(e,{entity:{index:t,name:e.name},application:{domain:this.applicationDomain,name:this.applicationName}})}}]),e}(),yu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"entityMap",get:function(){return this.databaseStore.entityMap}},{key:"F",get:function(){return this.databaseStore.functions}},{key:"functions",get:function(){return this.databaseStore.functions}},{key:"A",get:function(){return this.databaseStore.applications}},{key:"applications",get:function(){return this.databaseStore.applications}},{key:"qApplications",get:function(){return this.databaseStore.qApplications}},{key:"Q",get:function(){return this.databaseStore.qApplications}},{key:"QM",get:function(){return this.databaseStore.QM}},{key:"load",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setQApp",value:function(e){var t=this.dbApplicationUtils.getFullApplication_Name(e),n=this.QM[t];if(n){var r=n.__dbApplication__;r&&(e.__dbApplication__=r,this.qApplicationBuilderUtils.setQAppEntities(r,e,this.qApplications,this.appliationUtils,this.relationManager),this.Q[r.index]=e)}this.QM[t]=e}},{key:"getAccumulator",value:function(e,t){return new vu(e,t,this.entityMap)}},{key:"insertColumnValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.insertColumnValues(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValues",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.insertValues(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertColumnValuesGenerateIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.insertColumnValuesGenerateIds(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"insertValuesGenerateIds",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.insertValuesGenerateIds(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.deleteWhere(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.save(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"updateColumnsWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.updateColumnsWhere(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateWhere",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.databaseFacade.updateWhere(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function gu(){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eu("AIRport-prerelease");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_("tower").register(uu),pi.setClass(yu),He.setClass(pu),Io.setClass(au),Io.setDependencies({applicationStore:yo,containerAccessor:Z}),Ro.setClass(su),wo.setClass(lu),wo.setDependencies({apiRegistry:Io,applicationStore:yo,queryResultsDeserializer:D,requestManager:zs}),Ws.setClass(cu),$e.setClass(du),$r.setClass(fu),$r.setDependencies({entityCopier:uu,queryFacade:qr}),qr.setClass(mu),console.log("Injecting Server Source"),console.debug("@airport@air-traffic-control loaded"),console.log("Injecting TransactionalConnector"),console.log("Injecting AirportDatabase"),console.log("Injecting TransactionalServer"),console.log("inject EntityStateManager");var xu=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"getAllApplications",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.get(Ji);case 2:return t=e.sent,e.next=5,t.findAll();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRootRepositories",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.get(Ya);case 2:return t=e.sent,e.next=5,t.findRootRepositories();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRepository",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.get(Ya);case 2:return n=e.sent,e.next=5,n.findRepository(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"signUp",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.get(Po);case 2:r=e.sent,e.t0=t,e.next="signUp"===e.t0?6:9;break;case 6:return e.next=8,r.signUp(n).then();case 8:return e.abrupt("break",10);case 9:throw new Error("Unsupported user action: ".concat(t));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),wu=new xu,ku=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"retrieveDomain",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}(),Eu=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"nativeInitializeApplication",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.terminalStore.getReceiver().initializedApps.has(r)){e.next=2;break}return e.abrupt("return");case 2:(i=document.getElementsByName(r)).length?o=i[0]:((o=document.createElement("iframe")).src="http://"+t+"/AIRport/apps/"+n+"/index.html",o.name=r,o.style.display="none",document.body.appendChild(o));case 4:if(this.terminalStore.getReceiver().initializedApps.has(r)){e.next=9;break}return e.next=7,this.wait(100);case 7:e.next=4;break;case 9:this.terminalStore.getApplicationInitializer().applicationWindowMap.set(r,o.contentWindow),this.terminalStore.getApplicationInitializer().initializingApplicationMap.set(r,!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(ta),Iu=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"init",value:function(){var e=window.location.hostname.split(".");("www"===e[0]||e[0].startsWith("random_"))&&e.splice(0,1);var t="."+e.join(".");"localhost"!==document.domain&&(document.domain="random_"+Math.random()+"_"+Math.random()+t);var n=this.terminalStore.getWebReceiver();n.domainPrefix=t,n.mainDomainFragments=e}},{key:"handleClientRequest",value:function(e){if(e instanceof Object&&!e.__received__&&(e.__received__=!0,this.hasValidApplicationInfo(e))){if(this.webMessageReceiver.needMessageSerialization())throw new Error("Deserialization is not yet implemented.");var t=this.terminalStore.getWebReceiver();if(t.onClientMessageCallback){var n=new Date;e.__receivedTime__=n.getTime(),t.onClientMessageCallback(e)}switch(e.category){case"FromClient":var i=r(r({},e),{},{__received__:!1,__receivedTime__:null,category:"FromClientRedirected"});this.handleFromClientRequest(i).then();break;case"IsConnectionReady":this.ensureConnectionIsReady(e).then()}}}},{key:"handleAppRequest",value:function(e,t,n){var r=this;if(!e.__received__&&(e.__received__=!0,this.hasValidApplicationInfo(e))){var i=this.terminalStore.getWebReceiver();if(i.onClientMessageCallback){var o=new Date;e.__receivedTime__=o.getTime(),i.onClientMessageCallback(e)}switch(e.category){case"ToDb":this.handleIsolateMessage(e,t,n).then();break;case"ToClient":var a=i.pendingInterAppApiCallMessageMap.get(e.id),s={};this.endApiCall({application:e.application,domain:e.domain,methodName:e.methodName,objectName:e.objectName,transactionId:e.transactionId},e.errorMessage,s).then((function(n){a?a.resolve(e):r.replyToClient(e,e.args,n?e.errorMessage:s.errorMessage,e.payload,e.protocol,n,t).then()}))}}}},{key:"replyToClient",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,i,o,a,l,c){var u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r(r({},t),{},{__received__:!1,__receivedTime__:null,application:t.application,args:n,category:"ToClientRedirected",domain:t.domain,errorMessage:i,hostDomain:t.hostDomain,hostProtocol:t.hostProtocol,methodName:t.methodName,objectName:t.objectName,payload:o,protocol:a,transactionId:t.transactionId}),l||(u.errorMessage=i,u.payload=null),!c){e.next=7;break}return e.next=5,this.messageIsFromValidApp(u,c);case 5:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:this.replyToClientRequest(u);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}()},{key:"onMessage",value:function(e){this.terminalStore.getWebReceiver().onClientMessageCallback=e}},{key:"nativeStartApiCall",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i,o=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r({},t),e.next=3,this.startApiCall(i,n,(0,l.Z)((0,s.Z)().mark((function e(){var r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),!(a=o.getFrameWindow(r))){e.next=7;break}i.transactionId=n.transaction.id,a.postMessage(i,"*"),e.next=8;break;case 7:throw new Error("No Application IFrame found for: ".concat(r));case 8:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"nativeHandleApiCall",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i,o,a,l,c,u,d,p,f,h=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(i=r({},t)).__received__,delete i.__receivedTime__,i.category="FromClientRedirected",e.next=6,this.nativeStartApiCall(i,n);case 6:if((o=e.sent).isStarted){e.next=9;break}throw new Error(n.errorMessage);case 9:if(!o.isFramework){e.next=19;break}return e.next=12,this.callFrameworkApi(t,n);case 12:d=e.sent,l=d.errorMessage,c=d.payload,a=t.args,u=t.transactionId,e.next=26;break;case 19:return e.next=21,new Promise((function(e){h.terminalStore.getWebReceiver().pendingInterAppApiCallMessageMap.set(i.id,{message:r(r({},i),{},{category:"FromDb",type:ao.CALL_API}),resolve:e})}));case 21:p=e.sent,a=p.args,l=p.errorMessage,c=p.payload,u=p.transactionId;case 26:return f=r(r({},i),{},{category:"FromDb",args:a,errorMessage:l,payload:c,transactionId:u}),e.abrupt("return",f);case 28:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"callFrameworkApi",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var i,o,a,l,c,u,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(r({},t),{},{transactionId:n.transaction.id}),l=this.terminalStore.getInternalConnector().internalCredentials,c=l.transactionId,e.prev=3,l.transactionId=n.transaction.id,u=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),d=this.terminalStore.getApplicationMapByFullName().get(u)){e.next=9;break}throw new Error("Could not find AIRport Framework Application: ".concat(u));case 9:return e.next=11,this.localApiServer.coreHandleRequest(a,d.currentVersion[0].applicationVersion.jsonApplication.versions[0].api,n);case 11:i=e.sent,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),o=e.t0.message?e.t0.message:e.t0,console.error(e.t0);case 18:return e.prev=18,e.prev=19,e.next=22,this.endApiCall({application:t.application,domain:t.domain,methodName:t.methodName,objectName:t.objectName,transactionId:a.transactionId},o,n);case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(19),o=e.t1.message?e.t1.message:e.t1,console.error(e.t1);case 28:return e.prev=28,l.transactionId=c,e.finish(28);case 31:return e.finish(18);case 32:return e.abrupt("return",{errorMessage:o,payload:i});case 33:case"end":return e.stop()}}),e,this,[[3,14,18,32],[19,24,28,31]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"ensureConnectionIsReady",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_e.indexOf(t.domain)>-1)){e.next=3;break}return this.sendConnectionReadyMessage(t),e.abrupt("return");case 3:if(n=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),!this.terminalStore.getApplicationInitializer().initializingApplicationMap.get(n)){e.next=7;break}return e.abrupt("return");case 7:if(this.terminalStore.getApplicationInitializer().applicationWindowMap.get(n)){e.next=12;break}return this.terminalStore.getApplicationInitializer().initializingApplicationMap.set(n,!0),e.next=12,this.applicationInitializer.nativeInitializeApplication(t.domain,t.application,n);case 12:this.sendConnectionReadyMessage(t);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendConnectionReadyMessage",value:function(e){var t={application:e.application,args:e.args,category:"ConnectionIsReady",domain:e.domain,errorMessage:null,id:e.id,hostDomain:e.hostDomain,hostProtocol:e.hostProtocol,methodName:e.methodName,objectName:e.objectName,protocol:window.location.protocol,payload:null,transactionId:e.transactionId};this.webMessageReceiver.needMessageSerialization(),this.webMessageReceiver.sendMessageToClient(t)}},{key:"hasValidApplicationInfo",value:function(e){return"string"===typeof e.domain&&e.domain.length>=3&&"string"===typeof e.application&&e.application.length>=3}},{key:"handleFromClientRequest",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.terminalStore.getWebReceiver(),(r=n.pendingHostCounts.get(t.domain))||(r=0),!(r>4)){e.next=5;break}return e.abrupt("return");case 5:if(i=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),(o=n.pendingApplicationCounts.get(i))||(o=0),-1!==o){e.next=10;break}return e.abrupt("return");case 10:return n.pendingHostCounts.set(t.domain,r+1),n.pendingApplicationCounts.set(i,o+1),e.next=14,this.ensureApplicationIsInstalled(t.domain,i);case 14:if(e.sent){e.next=17;break}return this.relyToClientWithError(t,"Application is not installed"),e.abrupt("return");case 17:return a={},l=t,e.next=21,this.nativeStartApiCall(l,a);case 21:if((c=e.sent).isStarted){e.next=26;break}this.relyToClientWithError(t,a.errorMessage),e.next=32;break;case 26:if(!c.isFramework){e.next=32;break}return e.next=29,this.callFrameworkApi(l,a);case 29:return u=e.sent,e.next=32,this.replyToClient(t,t.args,u.errorMessage,u.payload,t.protocol,!u.errorMessage,null);case 32:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"relyToClientWithError",value:function(e,t){var n={__received__:!1,__receivedTime__:null,application:e.application,args:e.args,category:"ToClientRedirected",domain:e.domain,errorMessage:t,id:e.id,hostDomain:e.hostDomain,hostProtocol:e.hostProtocol,methodName:e.methodName,objectName:e.objectName,payload:null,protocol:e.protocol,transactionId:e.transactionId};this.replyToClientRequest(n)}},{key:"getFrameWindow",value:function(e){var t=document.getElementsByName(e);return t&&t[0]?t[0].contentWindow:null}},{key:"replyToClientRequest",value:function(e){var t=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(e.domain,e.application),n=this.terminalStore.getWebReceiver(),r=n.pendingHostCounts.get(e.domain);r>0&&n.pendingHostCounts.set(e.domain,r-1);var i=n.pendingApplicationCounts.get(t);i>0&&n.pendingApplicationCounts.set(e.domain,i-1),this.webMessageReceiver.needMessageSerialization(),this.webMessageReceiver.sendMessageToClient(e)}},{key:"ensureApplicationIsInstalled",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",!1);case 2:if(!(_e.indexOf(t)>-1)){e.next=4;break}return e.abrupt("return",!0);case 4:return e.abrupt("return",!!this.terminalStore.getApplicationInitializer().applicationWindowMap.get(n));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"messageIsFromValidApp",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.split("//")[1],i=r.split("."),"localhost"!==r.split(":")[0]){e.next=4;break}return e.abrupt("return",!0);case 4:if(o=this.terminalStore.getWebReceiver(),a=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),n.startsWith("https")&&r===a+o.domainPrefix){e.next=8;break}return e.abrupt("return",!1);case 8:if(i.length===o.mainDomainFragments.length+1){e.next=10;break}return e.abrupt("return",!1);case 10:if("www"!==i[0]){e.next=12;break}return e.abrupt("return",!1);case 12:if(i[0]===a){e.next=15;break}return e.abrupt("return",!1);case 15:return e.abrupt("return",!!this.terminalStore.getApplicationInitializer().applicationWindowMap.get(a));case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleIsolateMessage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,p,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.messageIsFromValidApp(t,n);case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:i=this.terminalStore.getWebReceiver(),o=this.dbApplicationUtils.getFullApplication_NameFromDomainAndName(t.domain,t.application),e.t0=t.type,e.next=e.t0===ao.SEARCH_UNSUBSCRIBE?9:18;break;case 9:if(a=i.subsriptionMap.get(o)){e.next=12;break}return e.abrupt("return");case 12:if(l=a.get(t.id)){e.next=15;break}return e.abrupt("return");case 15:return l.unsubscribe(),a.delete(t.id),e.abrupt("return");case 18:if(t.type!==ao.CALL_API){e.next=24;break}return e.next=21,this.nativeHandleApiCall(t,{startedAt:new Date});case 21:c=e.sent,e.next=27;break;case 24:return e.next=26,this.processMessage(t);case 26:c=e.sent;case 27:if(c){e.next=29;break}return e.abrupt("return");case 29:u=o+"."+i.localDomain,e.t1=t.type,e.next=e.t1===ao.SEARCH||e.t1===ao.SEARCH_ONE?33:40;break;case 33:return(d=c).result.pipe(mo((function(e){window.postMessage(e,u)}))),p=d.result.subscribe(),(f=i.subsriptionMap.get(o))||(f=new Map,i.subsriptionMap.set(o,f)),f.set(t.id,p),e.abrupt("return");case 40:r.postMessage(c,"*");case 41:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(_c);function Ru(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var Tu={},_u={},Su={};Object.defineProperty(Su,"__esModule",{value:!0}),Su.PROMISE_RESOLVED_VOID=Su.PROMISE_RESOLVED_TRUE=Su.PROMISE_RESOLVED_FALSE=void 0,Su.isPromise=function(e){return!(!e||"function"!==typeof e.then)},Su.microSeconds=function(){var e=(new Date).getTime();return e===Cu?1e3*e+ ++Ou:(Cu=e,Ou=0,1e3*e)},Su.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},Su.randomToken=function(){return Math.random().toString(36).substring(2)},Su.sleep=function(e,t){e||(e=0);return new Promise((function(n){return setTimeout((function(){return n(t)}),e)}))};var Au=Promise.resolve(!1);Su.PROMISE_RESOLVED_FALSE=Au;var Nu=Promise.resolve(!0);Su.PROMISE_RESOLVED_TRUE=Nu;var Zu=Promise.resolve();Su.PROMISE_RESOLVED_VOID=Zu;var Cu=0,Ou=0;var Du,Mu={},Vu={exports:{}};(Du=Vu).exports=function(e){return e&&e.__esModule?e:{default:e}},Du.exports.__esModule=!0,Du.exports.default=Du.exports;!function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}({exports:{}});var Lu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.averageResponseTime=c,e.canBeUsed=l,e.close=o,e.create=i,e.microSeconds=e.default=void 0,e.onMessage=s,e.postMessage=a,e.type=void 0;var t=Su,n=t.microSeconds;e.microSeconds=n;var r="native";function i(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t}function o(e){e.bc.close(),e.subFns=[]}function a(e,n){try{return e.bc.postMessage(n,!1),t.PROMISE_RESOLVED_VOID}catch(r){return Promise.reject(r)}}function s(e,t){e.messagesCallback=t}function l(){if("undefined"===typeof window)return!1;if("function"===typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1}function c(){return 150}e.type=r;var u={create:i,close:o,onMessage:s,postMessage:a,canBeUsed:l,type:r,averageResponseTime:c,microSeconds:n};e.default=u}(Lu);var Pu={},Uu=function(){function e(e){this.ttl=e,this.map=new Map,this._to=!1}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.add=function(e){var t=this;this.map.set(e,Bu()),this._to||(this._to=!0,setTimeout((function(){t._to=!1,Fu(t)}),0))},e.prototype.clear=function(){this.map.clear()},e}();function Fu(e){for(var t=Bu()-e.ttl,n=e.map[Symbol.iterator]();;){var r=n.next().value;if(!r)return;var i=r[0];if(!(r[1]<t))return;e.map.delete(i)}}function Bu(){return(new Date).getTime()}var ju=Ru(Object.freeze({__proto__:null,ObliviousSet:Uu,removeTooOldValues:Fu,now:Bu})),Hu={};Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));"undefined"===typeof t.webWorkerSupport&&(t.webWorkerSupport=!0);t.idb||(t.idb={});t.idb.ttl||(t.idb.ttl=45e3);t.idb.fallbackInterval||(t.idb.fallbackInterval=150);e.idb&&"function"===typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose);t.localstorage||(t.localstorage={});t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4);e.methods&&(t.methods=e.methods);t.node||(t.node={});t.node.ttl||(t.node.ttl=12e4);t.node.maxParallelWrites||(t.node.maxParallelWrites=2048);"undefined"===typeof t.node.useFastPath&&(t.node.useFastPath=!0);return t},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TRANSACTION_SETTINGS=void 0,e.averageResponseTime=k,e.canBeUsed=w,e.cleanOldMessages=h,e.close=g,e.commitIndexedDBTransaction=l,e.create=m,e.createDatabase=c,e.default=void 0,e.getAllMessages=function(e){var t=e.transaction(o,"readonly",a),n=t.objectStore(o),r=[];return new Promise((function(e){n.openCursor().onsuccess=function(n){var i=n.target.result;i?(r.push(i.value),i.continue()):(l(t),e(r))}}))},e.getIdb=s,e.getMessagesHigherThan=d,e.getOldMessages=f,e.microSeconds=void 0,e.onMessage=x,e.postMessage=b,e.removeMessagesById=p,e.type=void 0,e.writeMessage=u;var t=Su,n=ju,r=Hu,i=t.microSeconds;e.microSeconds=i;var o="messages",a={durability:"relaxed"};e.TRANSACTION_SETTINGS=a;function s(){if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof window){if("undefined"!==typeof window.mozIndexedDB)return window.mozIndexedDB;if("undefined"!==typeof window.webkitIndexedDB)return window.webkitIndexedDB;if("undefined"!==typeof window.msIndexedDB)return window.msIndexedDB}return!1}function l(e){e.commit&&e.commit()}function c(e){var t="pubkey.broadcast-channel-0-"+e,n=s().open(t);return n.onupgradeneeded=function(e){e.target.result.createObjectStore(o,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,t){n.onerror=function(e){return t(e)},n.onsuccess=function(){e(n.result)}}))}function u(e,t,n){var r={uuid:t,time:(new Date).getTime(),data:n},i=e.transaction([o],"readwrite",a);return new Promise((function(e,t){i.oncomplete=function(){return e()},i.onerror=function(e){return t(e)},i.objectStore(o).add(r),l(i)}))}function d(e,t){var n=e.transaction(o,"readonly",a),r=n.objectStore(o),i=[],s=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var c=r.getAll(s);return new Promise((function(e,t){c.onerror=function(e){return t(e)},c.onsuccess=function(t){e(t.target.result)}}))}return new Promise((function(e,o){var a=function(){try{return s=IDBKeyRange.bound(t+1,1/0),r.openCursor(s)}catch(e){return r.openCursor()}}();a.onerror=function(e){return o(e)},a.onsuccess=function(r){var o=r.target.result;o?o.value.id<t+1?o.continue(t+1):(i.push(o.value),o.continue()):(l(n),e(i))}}))}function p(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(o,"readwrite",a).objectStore(o);return Promise.all(t.map((function(e){var t=n.delete(e);return new Promise((function(e){t.onsuccess=function(){return e()}}))})))}function f(e,t){var n=(new Date).getTime()-t,r=e.transaction(o,"readonly",a),i=r.objectStore(o),s=[];return new Promise((function(e){i.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var o=i.value;if(!(o.time<n))return l(r),void e(s);s.push(o),i.continue()}else e(s)}}))}function h(e){return f(e.db,e.options.idb.ttl).then((function(t){return p(e,t.map((function(e){return e.id})))}))}function m(e,i){return i=(0,r.fillOptionsWithDefaults)(i),c(e).then((function(r){var o={closed:!1,lastCursorId:0,channelName:e,options:i,uuid:(0,t.randomToken)(),eMIs:new n.ObliviousSet(2*i.idb.ttl),writeBlockPromise:t.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){o.closed=!0,i.idb.onclose&&i.idb.onclose()},v(o),o}))}function v(e){e.closed||y(e).then((function(){return(0,t.sleep)(e.options.idb.fallbackInterval)})).then((function(){return v(e)}))}function y(e){return e.closed?t.PROMISE_RESOLVED_VOID:e.messagesCallback?d(e.db,e.lastCursorId).then((function(n){var r=n.filter((function(e){return!!e})).map((function(t){return t.id>e.lastCursorId&&(e.lastCursorId=t.id),t})).filter((function(t){return function(e,t){return e.uuid!==t.uuid&&!t.eMIs.has(e.id)&&!(e.data.time<t.messagesCallbackTime)}(t,e)})).sort((function(e,t){return e.time-t.time}));return r.forEach((function(t){e.messagesCallback&&(e.eMIs.add(t.id),e.messagesCallback(t.data))})),t.PROMISE_RESOLVED_VOID})):t.PROMISE_RESOLVED_VOID}function g(e){e.closed=!0,e.db.close()}function b(e,n){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return u(e.db,e.uuid,n)})).then((function(){0===(0,t.randomInt)(0,10)&&h(e)})),e.writeBlockPromise}function x(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,y(e)}function w(){return!!s()}function k(e){return 2*e.idb.fallbackInterval}e.type="idb";var E={create:m,close:g,onMessage:x,postMessage:b,canBeUsed:w,type:"idb",averageResponseTime:k,microSeconds:i};e.default=E}(Pu);var Gu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.addStorageEventListener=c,e.averageResponseTime=m,e.canBeUsed=h,e.close=p,e.create=d,e.default=void 0,e.getLocalStorage=a,e.microSeconds=void 0,e.onMessage=f,e.postMessage=l,e.removeStorageEventListener=u,e.storageKey=s,e.type=void 0;var t=ju,n=Hu,r=Su,i=r.microSeconds;e.microSeconds=i;var o="localstorage";function a(){var e;if("undefined"===typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(t){}return e}function s(e){return"pubkey.broadcastChannel-"+e}function l(e,t){return new Promise((function(n){(0,r.sleep)().then((function(){var i=s(e.channelName),o={token:(0,r.randomToken)(),time:(new Date).getTime(),data:t,uuid:e.uuid},l=JSON.stringify(o);a().setItem(i,l);var c=document.createEvent("Event");c.initEvent("storage",!0,!0),c.key=i,c.newValue=l,window.dispatchEvent(c),n()}))}))}function c(e,t){var n=s(e),r=function(e){e.key===n&&t(JSON.parse(e.newValue))};return window.addEventListener("storage",r),r}function u(e){window.removeEventListener("storage",e)}function d(e,i){if(i=(0,n.fillOptionsWithDefaults)(i),!h())throw new Error("BroadcastChannel: localstorage cannot be used");var o=(0,r.randomToken)(),a=new t.ObliviousSet(i.localstorage.removeTimeout),s={channelName:e,uuid:o,eMIs:a};return s.listener=c(e,(function(e){s.messagesCallback&&e.uuid!==o&&e.token&&!a.has(e.token)&&(e.data.time&&e.data.time<s.messagesCallbackTime||(a.add(e.token),s.messagesCallback(e.data)))})),s}function p(e){u(e.listener)}function f(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function h(){var e=a();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch(n){return!1}return!0}function m(){var e=navigator.userAgent.toLowerCase();return e.includes("safari")&&!e.includes("chrome")?240:120}e.type=o;var v={create:d,close:p,onMessage:f,postMessage:l,canBeUsed:h,type:o,averageResponseTime:m,microSeconds:i};e.default=v}(Gu);var zu={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.averageResponseTime=c,e.canBeUsed=l,e.close=o,e.create=i,e.microSeconds=e.default=void 0,e.onMessage=s,e.postMessage=a,e.type=void 0;var t=Su.microSeconds;e.microSeconds=t;var n="simulate";e.type=n;var r=new Set;function i(e){var t={name:e,messagesCallback:null};return r.add(t),t}function o(e){r.delete(e)}function a(e,t){return new Promise((function(n){return setTimeout((function(){Array.from(r).filter((function(t){return t.name===e.name})).filter((function(t){return t!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(t)})),n()}),5)}))}function s(e,t){e.messagesCallback=t}function l(){return!0}function c(){return 5}var u={create:i,close:o,onMessage:s,postMessage:a,canBeUsed:l,type:n,averageResponseTime:c,microSeconds:t};e.default=u}(zu);var $u=Vu.exports;Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.chooseMethod=function(e){var t=[].concat(e.methods,Ju).filter(Boolean);if(e.type){if("simulate"===e.type)return Qu.default;var n=t.find((function(t){return t.type===e.type}));if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter((function(e){return"idb"!==e.type})));var r=t.find((function(e){return e.canBeUsed()}));if(r)return r;throw new Error("No useable method found in "+JSON.stringify(Ju.map((function(e){return e.type}))))};var qu=$u(Lu),Yu=$u(Pu),Wu=$u(Gu),Qu=$u(zu),Ju=[qu.default,Yu.default,Wu.default];Object.defineProperty(_u,"__esModule",{value:!0}),_u.OPEN_BROADCAST_CHANNELS=_u.BroadcastChannel=void 0,_u.clearNodeFolder=function(e){e=(0,ed.fillOptionsWithDefaults)(e);var t=(0,Ku.chooseMethod)(e);return"node"===t.type?t.clearNodeFolder().then((function(){return!0})):Xu.PROMISE_RESOLVED_FALSE},_u.enforceOptions=function(e){nd=e};var Xu=Su,Ku=Mu,ed=Hu,td=new Set;_u.OPEN_BROADCAST_CHANNELS=td;var nd,rd=0,id=function(e,t){this.id=rd++,td.add(this),this.name=e,nd&&(t=nd),this.options=(0,ed.fillOptionsWithDefaults)(t),this.method=(0,Ku.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);(0,Xu.isPromise)(t)?(e._prepP=t,t.then((function(t){e._state=t}))):e._state=t}(this)};function od(e,t,n){var r={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Xu.PROMISE_RESOLVED_VOID).then((function(){var t=e.method.postMessage(e._state,r);return e._uMP.add(t),t.catch().then((function(){return e._uMP.delete(t)})),t}))}function ad(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function sd(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&ad(e)){var t=function(t){e._addEL[t.type].forEach((function(e){var n=1e5,r=e.time-n;t.time>=r&&e.fn(t.data)}))},n=e.method.microSeconds();e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,t,n)})):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function ld(e,t,n){e._addEL[t]=e._addEL[t].filter((function(e){return e!==n})),function(e){if(e._iL&&!ad(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}_u.BroadcastChannel=id,id._pubkey=!0,id.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(e));return od(this,"message",e)},postInternal:function(e){return od(this,"internal",e)},set onmessage(e){var t={time:this.method.microSeconds(),fn:e};ld(this,"message",this._onML),e&&"function"===typeof e?(this._onML=t,sd(this,"message",t)):this._onML=null},addEventListener:function(e,t){sd(this,e,{time:this.method.microSeconds(),fn:t})},removeEventListener:function(e,t){ld(this,e,this._addEL[e].find((function(e){return e.fn===t})))},close:function(){var e=this;if(!this.closed){td.delete(this),this.closed=!0;var t=this._prepP?this._prepP:Xu.PROMISE_RESOLVED_VOID;return this._onML=null,this._addEL.message=[],t.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}};var cd={};var ud={add:function(e){if("function"===typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!==typeof window.addEventListener)return;window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}},dd=new Set,pd=!1;function fd(){var e=[];return dd.forEach((function(t){e.push(t()),dd.delete(t)})),Promise.all(e)}var hd=Ru(Object.freeze({__proto__:null,add:function(e){if(pd||(pd=!0,ud.add(fd)),"function"!==typeof e)throw new Error("Listener is no function");return dd.add(e),{remove:function(){return dd.delete(e)},run:function(){return dd.delete(e),e()}}},runAll:fd,removeAll:function(){dd.clear()},getSize:function(){return dd.size}}));Object.defineProperty(cd,"__esModule",{value:!0}),cd.beLeader=bd,cd.createLeaderElection=function(e,t){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function(e,t){e||(e={});e=JSON.parse(JSON.stringify(e)),e.fallbackInterval||(e.fallbackInterval=3e3);e.responseTime||(e.responseTime=t.method.averageResponseTime(t.options));return e}(t,e);var n=new yd(e,t);return e._befC.push((function(){return n.die()})),e._leaderElector=n,n};var md=Su,vd=hd,yd=function(e,t){var n=this;this.broadcastChannel=e,this._options=t,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,md.randomToken)(),this._aplQ=md.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(e){"leader"===e.context&&("death"===e.action&&(n.hasLeader=!1),"tell"===e.action&&(n.hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};function gd(e,t){var n={context:"leader",action:t,token:e.token};return e.broadcastChannel.postInternal(n)}function bd(e){e.isLeader=!0,e.hasLeader=!0;var t=(0,vd.add)((function(){return e.die()}));e._unl.push(t);var n=function(t){"leader"===t.context&&"apply"===t.action&&gd(e,"tell"),"leader"!==t.context||"tell"!==t.action||e._dpLC||(e._dpLC=!0,e._dpL(),gd(e,"tell"))};return e.broadcastChannel.addEventListener("internal",n),e._lstns.push(n),gd(e,"tell")}yd.prototype={applyOnce:function(e){var t=this;if(this.isLeader)return(0,md.sleep)(0,!0);if(this.isDead)return(0,md.sleep)(0,!1);if(this._aplQC>1)return this._aplQ;return this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(t.isLeader)return md.PROMISE_RESOLVED_TRUE;var n,r=!1,i=new Promise((function(e){n=function(){r=!0,e()}})),o=function(e){"leader"===e.context&&e.token!=t.token&&("apply"===e.action&&e.token>t.token&&n(),"tell"===e.action&&(n(),t.hasLeader=!0))};t.broadcastChannel.addEventListener("internal",o);var a=e?4*t._options.responseTime:t._options.responseTime;return gd(t,"apply").then((function(){return Promise.race([(0,md.sleep)(a),i.then((function(){return Promise.reject(new Error)}))])})).then((function(){return gd(t,"apply")})).then((function(){return Promise.race([(0,md.sleep)(a),i.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return t.broadcastChannel.removeEventListener("internal",o),!r&&bd(t).then((function(){return!0}))}))}()})).then((function(){t._aplQC=t._aplQC-1})),this._aplQ.then((function(){return t.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function(e){if(e.isLeader)return md.PROMISE_RESOLVED_VOID;return new Promise((function(t){var n=!1;function r(){n||(n=!0,e.broadcastChannel.removeEventListener("internal",i),t(!0))}e.applyOnce().then((function(){e.isLeader&&r()})),function t(){return(0,md.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!n)return e.isLeader?void r():e.applyOnce(!0).then((function(){e.isLeader?r():t()}))}))}();var i=function(t){"leader"===t.context&&"death"===t.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&r()})))};e.broadcastChannel.addEventListener("internal",i),e._lstns.push(i)}))}(this)),this._aLP},set onduplicate(e){this._dpL=e},die:function(){var e=this;return this._lstns.forEach((function(t){return e.broadcastChannel.removeEventListener("internal",t)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,gd(this,"death")}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"BroadcastChannel",{enumerable:!0,get:function(){return t.BroadcastChannel}}),Object.defineProperty(e,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return t.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(e,"beLeader",{enumerable:!0,get:function(){return n.beLeader}}),Object.defineProperty(e,"clearNodeFolder",{enumerable:!0,get:function(){return t.clearNodeFolder}}),Object.defineProperty(e,"createLeaderElection",{enumerable:!0,get:function(){return n.createLeaderElection}}),Object.defineProperty(e,"enforceOptions",{enumerable:!0,get:function(){return t.enforceOptions}});var t=_u,n=cd}(Tu);var xd={BroadcastChannel:Tu.BroadcastChannel,createLeaderElection:Tu.createLeaderElection,clearNodeFolder:Tu.clearNodeFolder,enforceOptions:Tu.enforceOptions,beLeader:Tu.beLeader},wd=function(){function e(){(0,c.Z)(this,e)}return(0,u.Z)(e,[{key:"init",value:function(){var e=this;this.isNativeBroadcastChannel="function"===typeof BroadcastChannel;!function t(){e.communicationChannel=new xd.BroadcastChannel("clientCommunication",{idb:{onclose:function(){e.communicationChannel.close(),t()}}}),e.communicationChannel.onmessage=function(t){e.transactionalReceiver.handleClientRequest(t)}}(),window.addEventListener("message",(function(t){var n=t.data;e.transactionalReceiver.handleAppRequest(n,t.origin,t.source)}),!1)}},{key:"needMessageSerialization",value:function(){return!this.isNativeBroadcastChannel}},{key:"sendMessageToClient",value:function(e){this.communicationChannel.postMessage(e)}},{key:"sendMessageToApp",value:function(){}}]),e}();function kd(){xe.getSync(Ao).getWebReceiver().localDomain="localhost:31717"}var Ed=_("web-terminal");function Id(){return(Id=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kd(),gu(),e.next=4,xe.get(wd);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ed.register(wd),Vo.setClass(ku),Mo.setClass(Eu),Mo.setDependencies({terminalStore:Ao}),Ed.setDependencies(wd,{transactionalReceiver:Fo}),Fo.setClass(Iu),Fo.setDependencies({actorDao:qa,applicationDao:Ji,applicationInitializer:Mo,databaseManager:Nc,dbApplicationUtils:Ze,localApiServer:wo,internalRecordManager:Ic,terminalSessionManager:Po,terminalStore:Ao,transactionalServer:Bo,webMessageReceiver:wd});var Rd=n(6965),Td=n(912),_d=n(8200);function Sd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,_d.Z)(e,t)}var Ad=n(1134),Nd=n.n(Ad);function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zd.apply(this,arguments)}function Cd(e){return"/"===e.charAt(0)}function Od(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var Dd=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],o=e&&Cd(e),a=t&&Cd(t),s=o||a;if(e&&Cd(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];"."===d?Od(i,u):".."===d?(Od(i,u),c++):c&&(Od(i,u),c--)}if(!s)for(;c--;c)i.unshift("..");!s||""===i[0]||i[0]&&Cd(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function Md(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var Vd=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=Md(t),i=Md(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},Ld="Invariant failed";function Pd(e,t){if(!e)throw new Error(Ld)}function Ud(e){return"/"===e.charAt(0)?e:"/"+e}function Fd(e){return"/"===e.charAt(0)?e.substr(1):e}function Bd(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function jd(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Hd(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function Gd(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=Zd({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(o){throw o instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):o}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Dd(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function zd(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var $d=!("undefined"===typeof window||!window.document||!window.document.createElement);function qd(e,t){t(window.confirm(e))}var Yd="popstate",Wd="hashchange";function Qd(){try{return window.history.state||{}}catch(e){return{}}}function Jd(e){void 0===e&&(e={}),$d||Pd(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,o=i.forceRefresh,a=void 0!==o&&o,s=i.getUserConfirmation,l=void 0===s?qd:s,c=i.keyLength,u=void 0===c?6:c,d=e.basename?jd(Ud(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return d&&(o=Bd(o,d)),Gd(o,r,n)}function f(){return Math.random().toString(36).substr(2,u)}var h=zd();function m(e){Zd(_,e),_.length=t.length,h.notifyListeners(_.location,_.action)}function v(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(p(e.state))}function y(){b(p(Qd()))}var g=!1;function b(e){if(g)g=!1,m();else{h.confirmTransitionTo(e,"POP",l,(function(t){t?m({action:"POP",location:e}):function(e){var t=_.location,n=w.indexOf(t.key);-1===n&&(n=0);var r=w.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(g=!0,E(i))}(e)}))}}var x=p(Qd()),w=[x.key];function k(e){return d+Hd(e)}function E(e){t.go(e)}var I=0;function R(e){1===(I+=e)&&1===e?(window.addEventListener(Yd,v),r&&window.addEventListener(Wd,y)):0===I&&(window.removeEventListener(Yd,v),r&&window.removeEventListener(Wd,y))}var T=!1;var _={length:t.length,action:"POP",location:x,createHref:k,push:function(e,r){var i="PUSH",o=Gd(e,r,f(),_.location);h.confirmTransitionTo(o,i,l,(function(e){if(e){var r=k(o),s=o.key,l=o.state;if(n)if(t.pushState({key:s,state:l},null,r),a)window.location.href=r;else{var c=w.indexOf(_.location.key),u=w.slice(0,c+1);u.push(o.key),w=u,m({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=Gd(e,r,f(),_.location);h.confirmTransitionTo(o,i,l,(function(e){if(e){var r=k(o),s=o.key,l=o.state;if(n)if(t.replaceState({key:s,state:l},null,r),a)window.location.replace(r);else{var c=w.indexOf(_.location.key);-1!==c&&(w[c]=o.key),m({action:i,location:o})}else window.location.replace(r)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return T||(R(1),T=!0),function(){return T&&(T=!1,R(-1)),t()}},listen:function(e){var t=h.appendListener(e);return R(1),function(){R(-1),t()}}};return _}var Xd="hashchange",Kd={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Fd(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Fd,decodePath:Ud},slash:{encodePath:Ud,decodePath:Ud}};function ep(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function tp(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function np(e){window.location.replace(ep(window.location.href)+"#"+e)}function rp(e){void 0===e&&{},$d||Pd(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?qd:r,o=n.hashType,a=void 0===o?"slash":o,s=e.basename?jd(Ud(e.basename)):"",l=Kd[a],c=l.encodePath,u=l.decodePath;function d(){var e=u(tp());return s&&Bd(e,s),Gd(e)}var p=zd();function f(e){Zd(R,e),R.length=t.length,p.notifyListeners(R.location,R.action)}var h=!1,m=null;function v(){var e,t,n=tp(),r=c(n);if(n!==r)np(r);else{var o=d(),a=R.location;if(!h&&(o,a.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===Hd(o))return;null,function(e){if(h)!1,f();else{var t="POP";p.confirmTransitionTo(e,t,i,(function(n){n?f({action:t,location:e}):function(e){var t=R.location,n=x.lastIndexOf(Hd(t));-1===n&&0;var r=x.lastIndexOf(Hd(e));-1===r&&0;var i=n-r;i&&(!0,w(i))}(e)}))}}(o)}}var y=tp(),g=c(y);y!==g&&np(g);var b=d(),x=[Hd(b)];function w(e){t.go(e)}var k=0;function E(e){1===(k+=e)&&1===e?window.addEventListener(Xd,v):0===k&&window.removeEventListener(Xd,v)}var I=!1;var R={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&ep(window.location.href),n+"#"+c(s+Hd(e))},push:function(e,t){var n="PUSH",r=Gd(e,void 0,void 0,R.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Hd(r),i=c(s+t);if(tp()!==i){t,function(e){window.location.hash=e}(i);var o=x.lastIndexOf(Hd(R.location)),a=x.slice(0,o+1);a.push(t),a,f({action:n,location:r})}else f()}}))},replace:function(e,t){var n="REPLACE",r=Gd(e,void 0,void 0,R.location);p.confirmTransitionTo(r,n,i,(function(e){if(e){var t=Hd(r),i=c(s+t);tp()!==i&&(t,np(i));var o=x.indexOf(Hd(R.location));-1!==o&&(x[o]=t),f({action:n,location:r})}}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return I||(E(1),!0),function(){return I&&(!1,E(-1)),t()}},listen:function(e){var t=p.appendListener(e);return E(1),function(){E(-1),t()}}};return R}function ip(e,t,n){return Math.min(Math.max(e,t),n)}function op(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,o=t.initialIndex,a=void 0===o?0:o,s=t.keyLength,l=void 0===s?6:s,c=zd();function u(e){Zd(v,e),v.length=v.entries.length,c.notifyListeners(v.location,v.action)}function d(){return Math.random().toString(36).substr(2,l)}var p=ip(a,0,i.length-1),f=i.map((function(e){return Gd(e,void 0,"string"===typeof e?d():e.key||d())})),h=Hd;function m(e){var t=ip(v.index+e,0,v.entries.length-1),r=v.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?u({action:"POP",location:r,index:t}):u()}))}var v={length:f.length,action:"POP",location:f[p],index:p,entries:f,createHref:h,push:function(e,t){var r="PUSH",i=Gd(e,t,d(),v.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=v.index+1,n=v.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),u({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=Gd(e,t,d(),v.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(v.entries[v.index]=i,u({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=v.index+e;return t>=0&&t<v.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return v}var ap=n(9646),sp=n.n(ap);n(9651);function lp(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var cp=n(9241),up=n.n(cp),dp=1073741823,pp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function fp(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var hp=Rd.createContext||function(e,t){var n,r,i="__create-react-context-"+function(){var e="__global_unique_id__";return pp[e]=(pp[e]||0)+1}()+"__",o=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=fp(t.props.value),t}Sd(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):dp,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(Rd.Component);o.childContextTypes=((n={})[i]=Nd().object.isRequired,n);var a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Sd(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?dp:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?dp:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(Rd.Component);return a.contextTypes=((r={})[i]=Nd().object,r),{Provider:o,Consumer:a}},mp=function(e){var t=hp();return t.displayName=e,t},vp=mp("Router-History"),yp=mp("Router"),gp=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}Sd(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return Rd.createElement(yp.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Rd.createElement(vp.Provider,{children:this.props.children||null,value:this.props.history}))},t}(Rd.Component);Rd.Component;var bp=function(e){function t(){return e.apply(this,arguments)||this}Sd(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(Rd.Component);var xp={},wp=0;function kp(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(xp[e])return xp[e];var t=sp().compile(e);return wp<1e4&&(xp[e]=t,wp++),t}(e)(t,{pretty:!0})}function Ep(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return Rd.createElement(yp.Consumer,null,(function(e){e||Pd(!1);var r=e.history,o=e.staticContext,a=i?r.push:r.replace,s=Gd(t?"string"===typeof n?kp(n,t.params):Zd({},n,{pathname:kp(n.pathname,t.params)}):n);return o?(a(s),null):Rd.createElement(bp,{onMount:function(){a(s)},onUpdate:function(e,t){var n,r,i=Gd(t.to);n=i,r=Zd({},s,{key:i.key}),n.pathname===r.pathname&&n.search===r.search&&n.hash===r.hash&&n.key===r.key&&Vd(n.state,r.state)||a(s)},to:n})}))}var Ip={},Rp=0;function Tp(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ip[n]||(Ip[n]={});if(r[e])return r[e];var i=[],o={regexp:sp()(e,i,t),keys:i};return Rp<1e4&&(r[e]=o,Rp++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),p=e===u;return o&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var _p=function(e){function t(){return e.apply(this,arguments)||this}return Sd(t,e),t.prototype.render=function(){var e=this;return Rd.createElement(yp.Consumer,null,(function(t){t||Pd(!1);var n=e.props.location||t.location,r=Zd({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Tp(n.pathname,e.props):t.match}),i=e.props,o=i.children,a=i.component,s=i.render;return Array.isArray(o)&&function(e){return 0===Rd.Children.count(e)}(o)&&(o=null),Rd.createElement(yp.Provider,{value:r},r.match?o?"function"===typeof o?o(r):o:a?Rd.createElement(a,r):s?s(r):null:"function"===typeof o?o(r):null)}))},t}(Rd.Component);function Sp(e){return"/"===e.charAt(0)?e:"/"+e}function Ap(e,t){if(!e)return t;var n=Sp(e);return 0!==t.pathname.indexOf(n)?t:Zd({},t,{pathname:t.pathname.substr(n.length)})}function Np(e){return"string"===typeof e?e:Hd(e)}function Zp(e){return function(){Pd(!1)}}function Cp(){}Rd.Component;Rd.Component;var Op=Rd.useContext;var Dp,Mp=n(4418),Vp=n(883),Lp=function(){function e(){(0,c.Z)(this,e),this.m=new Map}return(0,u.Z)(e,[{key:"reset",value:function(e){this.m=new Map(Object.entries(e))}},{key:"get",value:function(e,t){var n=this.m.get(e);return void 0!==n?n:t}},{key:"getBoolean",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.m.get(e);return void 0===n?t:"string"===typeof n?"true"===n:!!n}},{key:"getNumber",value:function(e,t){var n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}},{key:"set",value:function(e,t){this.m.set(e,t)}}]),e}(),Pp=new Lp,Up=function(e){try{var t=e.sessionStorage.getItem(Gp);return null!==t?JSON.parse(t):{}}catch(n){return{}}},Fp=function(e,t){try{e.sessionStorage.setItem(Gp,JSON.stringify(t))}catch(n){return}},Bp=function(e){var t={};return e.location.search.slice(1).split("&").map((function(e){return e.split("=")})).map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return[decodeURIComponent(n),decodeURIComponent(r)]})).filter((function(e){var t=(0,p.Z)(e,1)[0];return jp(t,Hp)})).map((function(e){var t=(0,p.Z)(e,2),n=t[0],r=t[1];return[n.slice(Hp.length),r]})).forEach((function(e){var n=(0,p.Z)(e,2),r=n[0],i=n[1];t[r]=i})),t},jp=function(e,t){return e.substr(0,t.length)===t},Hp="ionic:",Gp="ionic-persist-config",zp=function(e,t){return"string"===typeof e&&(t=e,e=void 0),function(e){return $p(e)}(e).includes(t)},$p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;if("undefined"===typeof e)return[];e.Ionic=e.Ionic||{};var t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=qp(e)).forEach((function(t){return e.document.documentElement.classList.add("plt-".concat(t))})),t},qp=function(e){var t=Pp.get("platform");return Object.keys(nf).filter((function(n){var r=null===t||void 0===t?void 0:t[n];return"function"===typeof r?r(e):nf[n](e)}))},Yp=function(e){return!!ef(e,/iPad/i)||!(!ef(e,/Macintosh/i)||!Qp(e))},Wp=function(e){return ef(e,/android|sink/i)},Qp=function(e){return tf(e,"(any-pointer:coarse)")},Jp=function(e){return Xp(e)||Kp(e)},Xp=function(e){return!!(e.cordova||e.phonegap||e.PhoneGap)},Kp=function(e){var t=e.Capacitor;return!!(null===t||void 0===t?void 0:t.isNative)},ef=function(e,t){return t.test(e.navigator.userAgent)},tf=function(e,t){var n;return null===(n=e.matchMedia)||void 0===n?void 0:n.call(e,t).matches},nf={ipad:Yp,iphone:function(e){return ef(e,/iPhone/i)},ios:function(e){return ef(e,/iPhone|iPod/i)||Yp(e)},android:Wp,phablet:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:function(e){var t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return Yp(e)||function(e){return Wp(e)&&!ef(e,/mobile/i)}(e)||r>460&&r<820&&i>780&&i<1400},cordova:Xp,capacitor:Kp,electron:function(e){return ef(e,/electron/i)},pwa:function(e){var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:Qp,mobileweb:function(e){return Qp(e)&&!Jp(e)},desktop:function(e){return!Qp(e)},hybrid:Jp},rf=function(e){return e&&(0,Vp.iJ)(e)||Dp},of=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof window){var t=window.document,n=window;Vp._y.config=Pp;var r=n.Ionic=n.Ionic||{},i={};e._ael&&(i.ael=e._ael),e._rel&&(i.rel=e._rel),e._ce&&(i.ce=e._ce),(0,Vp.TX)(i);var o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Up(n)),{persistConfig:!1}),r.config),Bp(n)),e);Pp.reset(o),Pp.getBoolean("persistConfig")&&Fp(n,o),$p(n),r.config=Pp,r.mode=Dp=Pp.get("mode",t.documentElement.getAttribute("mode")||(zp(n,"ios")?"ios":"md")),Pp.set("mode",Dp),t.documentElement.setAttribute("mode",Dp),t.documentElement.classList.add(Dp),Pp.getBoolean("_testing")&&Pp.set("animated",!1);var a=function(e){var t;return null===(t=e.tagName)||void 0===t?void 0:t.startsWith("ION-")},s=function(e){return["ios","md"].includes(e)};(0,Vp.PM)((function(e){for(;e;){var t=e.mode||e.getAttribute("mode");if(t){if(s(t))return t;a(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return Dp}))}},af=n(9401),sf=n(2614),lf=0,cf=new WeakMap,uf=function(e){return{create:function(t){return vf(e,t)},dismiss:function(t,n,r){return wf(document,t,n,e,r)},getTop:function(){return(0,l.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",kf(document,e));case 1:case"end":return t.stop()}}),t)})))()}}},df=uf("ion-alert"),pf=uf("ion-action-sheet"),ff=uf("ion-popover"),hf=uf("ion-toast"),mf=function(e){"undefined"!==typeof document&&xf(document);var t=lf++;e.overlayIndex=t,e.hasAttribute("id")||(e.id="ion-overlay-".concat(t))},vf=function(e,t){return"undefined"!==typeof window&&"undefined"!==typeof window.customElements?window.customElements.whenDefined(e).then((function(){var n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},t),{hasController:!0})),_f(document).appendChild(n),new Promise((function(e){return(0,sf.c)(n,e)}))})):Promise.resolve()},yf='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',gf=function(e,t){var n=e.querySelector(yf),r=null===n||void 0===n?void 0:n.shadowRoot;r&&(n=r.querySelector(yf)||n),n?(0,sf.f)(n):t.focus()},bf=function(e,t){var n=Array.from(e.querySelectorAll(yf)),r=n.length>0?n[n.length-1]:null,i=null===r||void 0===r?void 0:r.shadowRoot;i&&(r=i.querySelector(yf)||r),r?r.focus():t.focus()},xf=function(e){0===lf&&(lf=1,e.addEventListener("focus",(function(t){!function(e,t){var n=kf(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),r=e.target;n&&r&&!n.classList.contains("ion-disable-focus-trap")&&(n.shadowRoot?function(){if(n.contains(r))n.lastFocus=r;else{var e=n.lastFocus;gf(n,n),e===t.activeElement&&bf(n,n),n.lastFocus=t.activeElement}}():function(){if(n===r)n.lastFocus=void 0;else{var e=(0,sf.g)(n);if(!e.contains(r))return;var i=e.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(r))n.lastFocus=r;else{var o=n.lastFocus;gf(i,n),o===t.activeElement&&bf(i,n),n.lastFocus=t.activeElement}}}())}(t,e)}),!0),e.addEventListener("ionBackButton",(function(t){var n=kf(e);(null===n||void 0===n?void 0:n.backdropDismiss)&&t.detail.register(af.OVERLAY_BACK_BUTTON_PRIORITY,(function(){return n.dismiss(void 0,Df)}))})),e.addEventListener("keyup",(function(t){if("Escape"===t.key){var n=kf(e);(null===n||void 0===n?void 0:n.backdropDismiss)&&n.dismiss(void 0,Df)}})))},wf=function(e,t,n,r,i){var o=kf(e,r,i);return o?o.dismiss(t,n):Promise.reject("overlay does not exist")},kf=function(e,t,n){var r=function(e,t){return void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((function(e){return e.overlayIndex>0}))}(e,t).filter((function(e){return!e.classList.contains("overlay-hidden")}));return void 0===n?r[r.length-1]:r.find((function(e){return e.id===n}))},Ef=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=_f(document),n=t.querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},If=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o){var a,l,c,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.presented){e.next=2;break}return e.abrupt("return");case 2:return Ef(!0),t.presented=!0,t.willPresent.emit(),null===(a=t.willPresentShorthand)||void 0===a||a.emit(),c=rf(t),u=t.enterAnimation?t.enterAnimation:Pp.get(n,"ios"===c?r:i),e.next=10,Sf(t,u,t.el,o);case 10:e.sent&&(t.didPresent.emit(),null===(l=t.didPresentShorthand)||void 0===l||l.emit()),"ION-TOAST"!==t.el.tagName&&Rf(t.el),!t.keyboardClose||null!==document.activeElement&&t.el.contains(document.activeElement)||t.el.focus();case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Rf=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.activeElement){e.next=3;break}return e.abrupt("return");case 3:return(r=null===n||void 0===n?void 0:n.shadowRoot)&&(n=r.querySelector(yf)||n),e.next=7,t.onDidDismiss();case 7:n.focus();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tf=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a,l){var c,u,d,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.presented){e.next=2;break}return e.abrupt("return",!1);case 2:if(Ef(!1),t.presented=!1,e.prev=4,t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:n,role:r}),null===(c=t.willDismissShorthand)||void 0===c||c.emit({data:n,role:r}),d=rf(t),p=t.leaveAnimation?t.leaveAnimation:Pp.get(i,"ios"===d?o:a),r===Mf){e.next=13;break}return e.next=13,Sf(t,p,t.el,l);case 13:t.didDismiss.emit({data:n,role:r}),null===(u=t.didDismissShorthand)||void 0===u||u.emit({data:n,role:r}),cf.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.error(e.t0);case 23:return t.el.remove(),e.abrupt("return",!0);case 25:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t,n,r,i,o,a,s){return e.apply(this,arguments)}}(),_f=function(e){return e.querySelector("ion-app")||e.body},Sf=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.classList.remove("overlay-hidden"),o=t.el,a=n(o,i),t.animated&&Pp.getBoolean("animated",!0)||a.duration(0),t.keyboardClose&&a.beforeAddWrite((function(){var e=r.ownerDocument.activeElement;(null===e||void 0===e?void 0:e.matches("input,ion-input, ion-textarea"))&&e.blur()})),l=cf.get(t)||[],cf.set(t,[].concat((0,d.Z)(l),[a])),e.next=9,a.play();case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Af=function(e,t){var n,r=new Promise((function(e){return n=e}));return Nf(e,t,(function(e){n(e.detail)})),r},Nf=function(e,t,n){(0,sf.a)(e,t,(function r(i){(0,sf.b)(e,t,r),n(i)}))},Zf=function(e){return"cancel"===e||e===Df},Cf=function(e){return e()},Of=function(e,t){if("function"===typeof e)return Pp.get("_zoneGate",Cf)((function(){try{return e(t)}catch(n){throw n}}))},Df="backdrop",Mf="gesture",Vf=n(1026);function Lf(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var Pf,Uf,Ff="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",Bf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",jf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",Hf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Gf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",zf="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",$f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Remove</title><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",qf=function(e){var t=function(){if("undefined"===typeof window)return new Map;if(!Pf){var e=window;e.Ionicons=e.Ionicons||{},Pf=e.Ionicons.map=e.Ionicons.map||new Map}return Pf}().get(e);return t||(0,Vp.K3)("svg/".concat(e,".svg"))},Yf=function(e,t,n,r,i){return n="ios"===(n&&Xf(n))?"ios":"md",r&&"ios"===n?e=Xf(r):i&&"md"===n?e=Xf(i):(e||!t||Qf(t)||(e=t),Jf(e)&&(e=Xf(e))),Jf(e)&&""!==e.trim()?""!==e.replace(/[a-z]|-|\d/gi,"")?null:e:null},Wf=function(e){return Jf(e)&&(e=e.trim(),Qf(e))?e:null},Qf=function(e){return e.length>0&&/(\/|\.)/.test(e)},Jf=function(e){return"string"===typeof e},Xf=function(e){return e.toLowerCase()},Kf=function e(t){if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n].name;if(Jf(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(var i=0;i<t.childNodes.length;i++)if(!e(t.childNodes[i]))return!1}return!0},eh=new Map,th=new Map,nh=function(e,t){var n=th.get(e);if(!n){if("undefined"===typeof fetch||"undefined"===typeof document)return eh.set(e,""),Promise.resolve();n=fetch(e).then((function(n){if(n.ok)return n.text().then((function(n){n&&!1!==t&&(n=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);var r=t.firstElementChild;if(r&&"svg"===r.nodeName.toLowerCase()){var i=r.getAttribute("class")||"";if(r.setAttribute("class",(i+" s-ion-icon").trim()),Kf(r))return t.innerHTML}return""}(n)),eh.set(e,n||"")}));eh.set(e,"")})),th.set(e,n)}return n},rh=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.iconName=null,e.inheritedAttributes={},e.isVisible=!1,e.mode=ih(),e.lazy=!1,e.sanitize=!0,e.hasAriaHidden=function(){var t=(0,Mp.Z)(e).el;return t.hasAttribute("aria-hidden")&&"true"===t.getAttribute("aria-hidden")},e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t.forEach((function(t){e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n}(this.el,["aria-label"])}},{key:"connectedCallback",value:function(){var e=this;this.waitUntilVisible(this.el,"50px",(function(){e.isVisible=!0,e.loadIcon()}))}},{key:"disconnectedCallback",value:function(){this.io&&(this.io.disconnect(),this.io=void 0)}},{key:"waitUntilVisible",value:function(e,t,n){var r=this;if(Vp.Z5.isBrowser&&this.lazy&&"undefined"!==typeof window&&window.IntersectionObserver){var i=this.io=new window.IntersectionObserver((function(e){e[0].isIntersecting&&(i.disconnect(),r.io=void 0,n())}),{rootMargin:t});i.observe(e)}else n()}},{key:"loadIcon",value:function(){var e=this;if(Vp.Z5.isBrowser&&this.isVisible){Uf||(Uf=new DOMParser);var t=function(e){var t=Wf(e.src);if(t)return t;if(t=Yf(e.name,e.icon,e.mode,e.ios,e.md))return qf(t);if(e.icon){if(t=Wf(e.icon))return t;if(t=Wf(e.icon[e.mode]))return t}return null}(this);if(t)if(eh.has(t))this.svgContent=eh.get(t);else if(t.startsWith("data:")){var n=Uf.parseFromString(t,"text/html").body.querySelector("svg");this.svgContent=null!==n?n.outerHTML:""}else nh(t,this.sanitize).then((function(){return e.svgContent=eh.get(t)}))}var r=this.iconName=Yf(this.name,this.icon,this.mode,this.ios,this.md);r&&(this.ariaLabel=r.replace(/\-/g," "))}},{key:"render",value:function(){var t,n,r=this.iconName,i=this.ariaLabel,o=this.el,a=this.inheritedAttributes,s=this.mode||"md",l=this.flipRtl||r&&(r.indexOf("arrow")>-1||r.indexOf("chevron")>-1)&&!1!==this.flipRtl;return(0,Vp.h)(Vp.AA,Object.assign({"aria-label":void 0===i||this.hasAriaHidden()?null:i,role:"img",class:Object.assign(Object.assign((0,e.Z)({},s,!0),oh(this.color)),(t={},(0,e.Z)(t,"icon-".concat(this.size),!!this.size),(0,e.Z)(t,"flip-rtl",!!l&&(n=o,n&&""!==n.dir?"rtl"===n.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),t))},a),Vp.Z5.isBrowser&&this.svgContent?(0,Vp.h)("div",{class:"icon-inner",innerHTML:this.svgContent}):(0,Vp.h)("div",{class:"icon-inner"}))}},{key:"el",get:function(){return this}}],[{key:"assetsDirs",get:function(){return["svg"]}},{key:"watchers",get:function(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"]}}},{key:"style",get:function(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}}]),r}(Vp.mv),[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]),ih=function(){return Vp.Z5.isBrowser&&"undefined"!==typeof document&&document.documentElement.getAttribute("mode")||"md"},oh=function(t){return t?(0,e.Z)({"ion-color":!0},"ion-color-".concat(t),!0):null};function ah(){if("undefined"!==typeof customElements){["ion-icon"].forEach((function(e){if("ion-icon"===e)customElements.get(e)||customElements.define(e,rh)}))}}var sh=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.updateListener=function(){return e.updateState(!1)},e.state=1,e.isNext=!1,e.isPrevious=!1,e.value="ion-accordion-".concat(lh++),e.disabled=!1,e.readonly=!1,e.toggleIcon=jf,e.toggleIconSlot="end",e.setItemDefaults=function(){var t=e.getSlottedHeaderIonItem();t&&(t.button=!0,t.detail=!1,void 0===t.lines&&(t.lines="full"))},e.getSlottedHeaderIonItem=function(){var t=(0,Mp.Z)(e).headerEl;if(t){var n=t.querySelector("slot");if(n&&void 0!==n.assignedElements)return n.assignedElements().find((function(e){return"ION-ITEM"===e.tagName}))}},e.setAria=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=e.getSlottedHeaderIonItem();if(n){var r=(0,sf.g)(n),i=r.querySelector("button");i&&i.setAttribute("aria-expanded","".concat(t))}},e.slotToggleIcon=function(){var t=e.getSlottedHeaderIonItem();if(t){var n=(0,Mp.Z)(e),r=n.toggleIconSlot,i=n.toggleIcon;if(!t.querySelector(".ion-accordion-toggle-icon")){var o=document.createElement("ion-icon");o.slot=r,o.lazy=!1,o.classList.add("ion-accordion-toggle-icon"),o.icon=i,o.setAttribute("aria-hidden","true"),t.appendChild(o)}}},e.expandAccordion=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,Mp.Z)(e),r=n.contentEl,i=n.contentElWrapper;t||void 0===r||void 0===i?e.state=4:4!==e.state&&(void 0!==e.currentRaf&&cancelAnimationFrame(e.currentRaf),e.shouldAnimate()?(0,sf.r)((function(){e.state=8,e.currentRaf=(0,sf.r)((0,l.Z)((0,s.Z)().mark((function t(){var n,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.offsetHeight,o=(0,sf.t)(r,2e3),r.style.setProperty("max-height","".concat(n,"px")),t.next=5,o;case 5:e.state=4,r.style.removeProperty("max-height");case 7:case"end":return t.stop()}}),t)}))))})):e.state=4)},e.collapseAccordion=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,Mp.Z)(e),r=n.contentEl;t||void 0===r?e.state=1:1!==e.state&&(void 0!==e.currentRaf&&cancelAnimationFrame(e.currentRaf),e.shouldAnimate()?e.currentRaf=(0,sf.r)((0,l.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.offsetHeight,r.style.setProperty("max-height","".concat(n,"px")),(0,sf.r)((0,l.Z)((0,s.Z)().mark((function t(){var n;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,sf.t)(r,2e3),e.state=2,t.next=4,n;case 4:e.state=1,r.style.removeProperty("max-height");case 6:case"end":return t.stop()}}),t)}))));case 3:case"end":return t.stop()}}),t)})))):e.state=1)},e.shouldAnimate=function(){return"undefined"!==typeof window&&(!matchMedia("(prefers-reduced-motion: reduce)").matches&&(!!Pp.get("animated",!0)&&!(e.accordionGroupEl&&!e.accordionGroupEl.animated)))},e.updateState=(0,l.Z)((0,s.Z)().mark((function t(){var n,r,i,o,a,l,c,u,d=arguments;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>0&&void 0!==d[0]&&d[0],r=e.accordionGroupEl,i=e.value,r){t.next=5;break}return t.abrupt("return");case 5:o=r.value,(Array.isArray(o)?o.includes(i):o===i)?(e.expandAccordion(n),e.isNext=e.isPrevious=!1):(e.collapseAccordion(n),a=e.getNextSibling(),void 0!==(l=null===a||void 0===a?void 0:a.value)&&(e.isPrevious=Array.isArray(o)?o.includes(l):o===l),c=e.getPreviousSibling(),void 0!==(u=null===c||void 0===c?void 0:c.value)&&(e.isNext=Array.isArray(o)?o.includes(u):o===u));case 8:case"end":return t.stop()}}),t)}))),e.getNextSibling=function(){if(e.el){var t=e.el.nextElementSibling;if("ION-ACCORDION"===(null===t||void 0===t?void 0:t.tagName))return t}},e.getPreviousSibling=function(){if(e.el){var t=e.el.previousElementSibling;if("ION-ACCORDION"===(null===t||void 0===t?void 0:t.tagName))return t}},e}return(0,u.Z)(r,[{key:"connectedCallback",value:function(){var e,t=this.accordionGroupEl=null===(e=this.el)||void 0===e?void 0:e.closest("ion-accordion-group");t&&(this.updateState(!0),(0,sf.a)(t,"ionChange",this.updateListener))}},{key:"disconnectedCallback",value:function(){var e=this.accordionGroupEl;e&&(0,sf.b)(e,"ionChange",this.updateListener)}},{key:"componentDidLoad",value:function(){var e=this;this.setItemDefaults(),this.slotToggleIcon(),(0,sf.r)((function(){var t=4===e.state||8===e.state;e.setAria(t)}))}},{key:"toggleExpanded",value:function(){var e=this.accordionGroupEl,t=this.value,n=this.state;if(e){var r=1===n||2===n;e.requestAccordionToggle(t,r)}}},{key:"render",value:function(){var t,n=this,r=this.disabled,i=this.readonly,o=rf(this),a=4===this.state||8===this.state,s=a?"header expanded":"header",l=a?"content expanded":"content";return this.setAria(a),(0,Vp.h)(Vp.AA,{class:(t={},(0,e.Z)(t,o,!0),(0,e.Z)(t,"accordion-expanding",8===this.state),(0,e.Z)(t,"accordion-expanded",4===this.state),(0,e.Z)(t,"accordion-collapsing",2===this.state),(0,e.Z)(t,"accordion-collapsed",1===this.state),(0,e.Z)(t,"accordion-next",this.isNext),(0,e.Z)(t,"accordion-previous",this.isPrevious),(0,e.Z)(t,"accordion-disabled",r),(0,e.Z)(t,"accordion-readonly",i),(0,e.Z)(t,"accordion-animated",Pp.getBoolean("animated",!0)),t)},(0,Vp.h)("div",{onClick:function(){return n.toggleExpanded()},id:"header",part:s,"aria-controls":"content",ref:function(e){return n.headerEl=e}},(0,Vp.h)("slot",{name:"header"})),(0,Vp.h)("div",{id:"content",part:l,role:"region","aria-labelledby":"header",ref:function(e){return n.contentEl=e}},(0,Vp.h)("div",{id:"content-wrapper",ref:function(e){return n.contentElWrapper=e}},(0,Vp.h)("slot",{name:"content"}))))}},{key:"el",get:function(){return this}}],[{key:"delegatesFocus",get:function(){return!0}},{key:"style",get:function(){return{ios:":host{display:block;position:relative;width:100%;background-color:var(--ion-background-color, #ffffff);overflow:hidden;z-index:0}:host(.accordion-expanding) ::slotted(ion-item[slot=header]),:host(.accordion-expanded) ::slotted(ion-item[slot=header]){--border-width:0px}:host(.accordion-animated){-webkit-transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}:host(.accordion-animated) #content{-webkit-transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}#content{overflow:hidden;will-change:max-height}:host(.accordion-collapsing) #content{max-height:0 !important}:host(.accordion-collapsed) #content{display:none}:host(.accordion-expanding) #content{max-height:0}:host(.accordion-disabled) #header,:host(.accordion-readonly) #header,:host(.accordion-disabled) #content,:host(.accordion-readonly) #content{pointer-events:none}:host(.accordion-disabled) #header,:host(.accordion-disabled) #content{opacity:0.4}@media (prefers-reduced-motion: reduce){:host,#content{-webkit-transition:none !important;transition:none !important}}:host(.accordion-next) ::slotted(ion-item[slot=header]){--border-width:0.55px 0px 0.55px 0px}",md:":host{display:block;position:relative;width:100%;background-color:var(--ion-background-color, #ffffff);overflow:hidden;z-index:0}:host(.accordion-expanding) ::slotted(ion-item[slot=header]),:host(.accordion-expanded) ::slotted(ion-item[slot=header]){--border-width:0px}:host(.accordion-animated){-webkit-transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:all 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}:host(.accordion-animated) #content{-webkit-transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1);transition:max-height 300ms cubic-bezier(0.25, 0.8, 0.5, 1)}#content{overflow:hidden;will-change:max-height}:host(.accordion-collapsing) #content{max-height:0 !important}:host(.accordion-collapsed) #content{display:none}:host(.accordion-expanding) #content{max-height:0}:host(.accordion-disabled) #header,:host(.accordion-readonly) #header,:host(.accordion-disabled) #content,:host(.accordion-readonly) #content{pointer-events:none}:host(.accordion-disabled) #header,:host(.accordion-disabled) #content{opacity:0.4}@media (prefers-reduced-motion: reduce){:host,#content{-webkit-transition:none !important;transition:none !important}}"}}}]),r}(Vp.mv),[49,"ion-accordion",{value:[1],disabled:[4],readonly:[4],toggleIcon:[1,"toggle-icon"],toggleIconSlot:[1,"toggle-icon-slot"],state:[32],isNext:[32],isPrevious:[32]}]),lh=0;var ch=function(){if("undefined"!==typeof customElements){["ion-accordion","ion-icon"].forEach((function(e){switch(e){case"ion-accordion":customElements.get(e)||customElements.define(e,sh);break;case"ion-icon":customElements.get(e)||ah()}}))}},uh=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionChange=(0,Vp.yM)((0,Mp.Z)(e),"ionChange",7),e.animated=!0,e.disabled=!1,e.readonly=!1,e.expand="compact",e}return(0,u.Z)(r,[{key:"valueChanged",value:function(){var e=this.value;!this.multiple&&Array.isArray(e)?this.value=e[0]:this.ionChange.emit({value:this.value})}},{key:"disabledChanged",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.disabled,e.next=3,this.getAccordions();case 3:n=e.sent,r=(0,f.Z)(n);try{for(r.s();!(i=r.n()).done;)i.value.disabled=t}catch(o){r.e(o)}finally{r.f()}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readonlyChanged",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.readonly,e.next=3,this.getAccordions();case 3:n=e.sent,r=(0,f.Z)(n);try{for(r.s();!(i=r.n()).done;)i.value.readonly=t}catch(o){r.e(o)}finally{r.f()}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onKeydown",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.activeElement){e.next=3;break}return e.abrupt("return");case 3:if(n.closest('ion-accordion [slot="header"]')){e.next=6;break}return e.abrupt("return");case 6:if(r="ION-ACCORDION"===n.tagName?n:n.closest("ion-accordion")){e.next=9;break}return e.abrupt("return");case 9:if(r.closest("ion-accordion-group")===this.el){e.next=12;break}return e.abrupt("return");case 12:return e.next=14,this.getAccordions();case 14:if(i=e.sent,-1!==(o=i.findIndex((function(e){return e===r})))){e.next=18;break}return e.abrupt("return");case 18:"ArrowDown"===t.key?a=this.findNextAccordion(i,o):"ArrowUp"===t.key?a=this.findPreviousAccordion(i,o):"Home"===t.key?a=i[0]:"End"===t.key&&(a=i[i.length-1]),void 0!==a&&a!==n&&a.focus();case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidLoad",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.disabled&&this.disabledChanged(),this.readonly&&this.readonlyChanged();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"requestAccordionToggle",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.multiple,i=this.value,o=this.readonly,a=this.disabled,!o&&!a){e.next=3;break}return e.abrupt("return");case 3:n?r?(l=null!==i&&void 0!==i?i:[],c=Array.isArray(l)?l:[l],void 0===c.find((function(e){return e===t}))&&void 0!==t&&(this.value=[].concat((0,d.Z)(c),[t]))):this.value=t:r?(u=null!==i&&void 0!==i?i:[],p=Array.isArray(u)?u:[u],this.value=p.filter((function(e){return e!==t}))):this.value=void 0;case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findNextAccordion",value:function(e,t){var n=e[t+1];return void 0===n?e[0]:n}},{key:"findPreviousAccordion",value:function(e,t){var n=e[t-1];return void 0===n?e[e.length-1]:n}},{key:"getAccordions",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.el.querySelectorAll(":scope > ion-accordion")));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t,n=this.disabled,r=this.readonly,i=this.expand,o=rf(this);return(0,Vp.h)(Vp.AA,{class:(t={},(0,e.Z)(t,o,!0),(0,e.Z)(t,"accordion-group-disabled",n),(0,e.Z)(t,"accordion-group-readonly",r),(0,e.Z)(t,"accordion-group-expand-".concat(i),!0),t),role:"presentation"},(0,Vp.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{value:["valueChanged"],disabled:["disabledChanged"],readonly:["readonlyChanged"]}}},{key:"style",get:function(){return{ios:":host{display:block}:host(.accordion-group-expand-inset){margin-left:16px;margin-right:16px;margin-top:16px;margin-bottom:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.accordion-group-expand-inset){margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px}}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanding),:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanded){border-bottom:none}",md:":host{display:block}:host(.accordion-group-expand-inset){margin-left:16px;margin-right:16px;margin-top:16px;margin-bottom:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.accordion-group-expand-inset){margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px}}:host(.accordion-group-expand-inset) ::slotted(ion-accordion){-webkit-box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanding),:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-expanded){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;border-radius:6px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-previous){border-bottom-right-radius:6px;border-bottom-left-radius:6px}:host-context([dir=rtl]):host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-previous),:host-context([dir=rtl]).accordion-group-expand-inset ::slotted(ion-accordion.accordion-previous){border-bottom-right-radius:6px;border-bottom-left-radius:6px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-next){border-top-left-radius:6px;border-top-right-radius:6px}:host-context([dir=rtl]):host(.accordion-group-expand-inset) ::slotted(ion-accordion.accordion-next),:host-context([dir=rtl]).accordion-group-expand-inset ::slotted(ion-accordion.accordion-next){border-top-left-radius:6px;border-top-right-radius:6px}:host(.accordion-group-expand-inset) ::slotted(ion-accordion):first-of-type{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}}]),r}(Vp.mv),[33,"ion-accordion-group",{animated:[4],multiple:[4],value:[1025],disabled:[4],readonly:[4],expand:[1],requestAccordionToggle:[64],getAccordions:[64]},[[0,"keydown","onKeydown"]]]);var dh=function(){if("undefined"!==typeof customElements){["ion-accordion-group"].forEach((function(e){if("ion-accordion-group"===e)customElements.get(e)||customElements.define(e,uh)}))}};Vp.mv;var ph=n(7620),fh=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionBackdropTap=(0,Vp.yM)((0,Mp.Z)(e),"ionBackdropTap",7),e.blocker=ph.G.createBlocker({disableScroll:!0}),e.visible=!0,e.tappable=!0,e.stopPropagation=!0,e}return(0,u.Z)(r,[{key:"connectedCallback",value:function(){this.stopPropagation&&this.blocker.block()}},{key:"disconnectedCallback",value:function(){this.blocker.unblock()}},{key:"onMouseDown",value:function(e){this.emitTap(e)}},{key:"emitTap",value:function(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}},{key:"render",value:function(){var t,n=rf(this);return(0,Vp.h)(Vp.AA,{tabindex:"-1","aria-hidden":"true",class:(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,"backdrop-hide",!this.visible),(0,e.Z)(t,"backdrop-no-tappable",!this.tappable),t)})}}],[{key:"style",get:function(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}}]),r}(Vp.mv),[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function hh(){if("undefined"!==typeof customElements){["ion-backdrop"].forEach((function(e){if("ion-backdrop"===e)customElements.get(e)||customElements.define(e,fh)}))}}var mh=function(e,t){return null!==t.closest(e)},vh=function(t,n){return"string"===typeof t&&t.length>0?Object.assign((0,e.Z)({"ion-color":!0},"ion-color-".concat(t),!0),n):n},yh=function(e){var t={};return function(e){return void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter((function(e){return null!=e})).map((function(e){return e.trim()})).filter((function(e){return""!==e})):[]}(e).forEach((function(e){return t[e]=!0})),t},gh=/^[a-z][a-z0-9+\-.]*:/,bh=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||"#"===t[0]||gh.test(t)){e.next=5;break}if(!(o=document.querySelector("ion-router"))){e.next=5;break}return null!=n&&n.preventDefault(),e.abrupt("return",o.push(t,r,i));case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}();Vp.mv;Vp.mv;var xh=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.collapse=!1,e}return(0,u.Z)(r,[{key:"render",value:function(){var t,n=rf(this);return(0,Vp.h)(Vp.AA,{class:(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,"buttons-collapse",this.collapse),t)})}}],[{key:"style",get:function(){return{ios:".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-start:5px;--padding-end:5px;margin-left:2px;margin-right:2px;height:32px;font-size:17px;font-weight:400}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-right:0.3em;font-size:24px;line-height:0.67}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-left:0.4em;font-size:24px;line-height:0.67}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:unset;-webkit-margin-start:0.4em;margin-inline-start:0.4em}}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",md:".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;--padding-start:8px;--padding-end:8px;--box-shadow:none;margin-left:2px;margin-right:2px;height:32px;font-size:14px;font-weight:500}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-button{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-right:0.3em;font-size:1.4em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-icon[slot=start]{margin-right:unset;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;margin-left:0.4em;font-size:1.4em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:unset;-webkit-margin-start:0.4em;margin-inline-start:0.4em}}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"}}}]),r}(Vp.mv),[34,"ion-buttons",{collapse:[4]}]);function wh(){if("undefined"!==typeof customElements){["ion-buttons"].forEach((function(e){if("ion-buttons"===e)customElements.get(e)||customElements.define(e,xh)}))}}var kh=wh;Vp.mv;Vp.mv;Vp.mv;Vp.mv;Vp.mv;var Eh=0;var Ih=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.type="bounded",e}return(0,u.Z)(r,[{key:"addRipple",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){(0,Vp.wj)((function(){var i=r.el.getBoundingClientRect(),o=i.width,a=i.height,s=Math.sqrt(o*o+a*a),l=Math.max(a,o),c=r.unbounded?l:s+Th,u=Math.floor(l*_h),d=c/u,p=t-i.left,f=n-i.top;r.unbounded&&(p=.5*o,f=.5*a);var h=p-.5*u,m=f-.5*u,v=.5*o-p,y=.5*a-f;(0,Vp.Iu)((function(){var t=document.createElement("div");t.classList.add("ripple-effect");var n=t.style;n.top=m+"px",n.left=h+"px",n.width=n.height=u+"px",n.setProperty("--final-scale","".concat(d)),n.setProperty("--translate-end","".concat(v,"px, ").concat(y,"px")),(r.el.shadowRoot||r.el).appendChild(t),setTimeout((function(){e((function(){Rh(t)}))}),325)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unbounded",get:function(){return"unbounded"===this.type}},{key:"render",value:function(){var t,n=rf(this);return(0,Vp.h)(Vp.AA,{role:"presentation",class:(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,"unbounded",this.unbounded),t)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}}]),r}(Vp.mv),[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),Rh=function(e){e.classList.add("fade-out"),setTimeout((function(){e.remove()}),200)},Th=10,_h=.5;function Sh(){if("undefined"!==typeof customElements){["ion-ripple-effect"].forEach((function(e){if("ion-ripple-effect"===e)customElements.get(e)||customElements.define(e,Ih)}))}}Vp.mv;var Ah={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},Nh=function(e){if(void 0===e||""===e)return!0;if(window.matchMedia){var t=Ah[e];return window.matchMedia(t).matches}return!1},Zh="undefined"!==typeof window?window:void 0,Ch=Zh&&!!(Zh.CSS&&Zh.CSS.supports&&Zh.CSS.supports("--a: 0")),Oh=["","xs","sm","md","lg","xl"];Vp.mv;var Dh=n(2568),Mh=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionScrollStart=(0,Vp.yM)((0,Mp.Z)(e),"ionScrollStart",7),e.ionScroll=(0,Vp.yM)((0,Mp.Z)(e),"ionScroll",7),e.ionScrollEnd=(0,Vp.yM)((0,Mp.Z)(e),"ionScrollEnd",7),e.isScrolling=!1,e.lastScroll=0,e.queued=!1,e.cTop=-1,e.cBottom=-1,e.isMainContent=!0,e.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},e.fullscreen=!1,e.scrollX=!1,e.scrollY=!0,e.scrollEvents=!1,e}return(0,u.Z)(r,[{key:"connectedCallback",value:function(){this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal")}},{key:"disconnectedCallback",value:function(){this.onScrollEnd()}},{key:"onAppLoad",value:function(){this.resize()}},{key:"shouldForceOverscroll",value:function(){var e=this.forceOverscroll,t=rf(this);return void 0===e?"ios"===t&&zp("ios"):e}},{key:"resize",value:function(){var e=this;this.fullscreen?(0,Vp.wj)((function(){return e.readDimensions()})):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,(0,Vp.xE)(this))}},{key:"readDimensions",value:function(){var e=Vh(this.el),t=Math.max(this.el.offsetTop,0),n=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||n!==this.cBottom)&&(this.cTop=t,this.cBottom=n,(0,Vp.xE)(this))}},{key:"onScroll",value:function(e){var t=this,n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,(0,Vp.wj)((function(n){t.queued=!1,t.detail.event=e,Lh(t.detail,t.scrollEl,n,r),t.ionScroll.emit(t.detail)})))}},{key:"getScrollElement",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.scrollEl){e.next=3;break}return e.next=3,new Promise((function(e){return(0,sf.c)(t.el,e)}));case 3:return e.abrupt("return",Promise.resolve(this.scrollEl));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBackgroundElement",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.backgroundContentEl){e.next=3;break}return e.next=3,new Promise((function(e){return(0,sf.c)(t.el,e)}));case 3:return e.abrupt("return",Promise.resolve(this.backgroundContentEl));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scrollToTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.scrollToPoint(void 0,0,e)}},{key:"scrollToBottom",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:0,e.next=3,this.getScrollElement();case 3:return n=e.sent,r=n.scrollHeight-n.clientHeight,e.abrupt("return",this.scrollToPoint(void 0,r,t));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"scrollByPoint",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getScrollElement();case 2:return i=e.sent,e.abrupt("return",this.scrollToPoint(t+i.scrollLeft,n+i.scrollTop,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"scrollToPoint",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c,u,d,p,f,h=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.length>2&&void 0!==h[2]?h[2]:0,e.next=3,this.getScrollElement();case 3:if(i=e.sent,!(r<32)){e.next=8;break}return null!=n&&(i.scrollTop=n),null!=t&&(i.scrollLeft=t),e.abrupt("return");case 8:return a=0,l=new Promise((function(e){return o=e})),c=i.scrollTop,u=i.scrollLeft,d=null!=n?n-c:0,p=null!=t?t-u:0,f=function e(t){var n=Math.min(1,(t-a)/r)-1,s=Math.pow(n,3)+1;0!==d&&(i.scrollTop=Math.floor(s*d+c)),0!==p&&(i.scrollLeft=Math.floor(s*p+u)),s<1?requestAnimationFrame(e):o()},requestAnimationFrame((function(e){a=e,f(e)})),e.abrupt("return",l);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onScrollStart",value:function(){var e=this;this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((function(){e.lastScroll<Date.now()-120&&e.onScrollEnd()}),100)}},{key:"onScrollEnd",value:function(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}},{key:"render",value:function(){var t,n=this,r=this.isMainContent,i=this.scrollX,o=this.scrollY,a=this.el,s=(0,Dh.i)(a)?"rtl":"ltr",l=rf(this),c=this.shouldForceOverscroll(),u="ios"===l,d=r?"main":"div";return this.resize(),(0,Vp.h)(Vp.AA,{class:vh(this.color,(t={},(0,e.Z)(t,l,!0),(0,e.Z)(t,"content-sizing",mh("ion-popover",this.el)),(0,e.Z)(t,"overscroll",c),(0,e.Z)(t,"content-".concat(s),!0),t)),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},(0,Vp.h)("div",{ref:function(e){return n.backgroundContentEl=e},id:"background-content",part:"background"}),(0,Vp.h)(d,{class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":o,overscroll:(i||o)&&c},ref:function(e){return n.scrollEl=e},onScroll:this.scrollEvents?function(e){return n.onScroll(e)}:void 0,part:"scroll"},(0,Vp.h)("slot",null)),u?(0,Vp.h)("div",{class:"transition-effect"},(0,Vp.h)("div",{class:"transition-cover"}),(0,Vp.h)("div",{class:"transition-shadow"})):null,(0,Vp.h)("slot",{name:"fixed"}))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}}]),r}(Vp.mv),[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"]]]),Vh=function(e){var t=e.closest("ion-tabs");if(t)return t;var n=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||function(e){var t;return e.parentElement?e.parentElement:(null===(t=e.parentNode)||void 0===t?void 0:t.host)?e.parentNode.host:null}(e)},Lh=function(e,t,n,r){var i=e.currentX,o=e.currentY,a=e.currentTime,s=t.scrollLeft,l=t.scrollTop,c=n-a;if(r&&(e.startTime=n,e.startX=s,e.startY=l,e.velocityX=e.velocityY=0),e.currentTime=n,e.currentX=e.scrollLeft=s,e.currentY=e.scrollTop=l,e.deltaX=s-e.startX,e.deltaY=l-e.startY,c>0&&c<100){var u=(s-i)/c,d=(l-o)/c;e.velocityX=.7*u+.3*e.velocityX,e.velocityY=.7*d+.3*e.velocityY}};var Ph=function(){if("undefined"!==typeof customElements){["ion-content"].forEach((function(e){if("ion-content"===e)customElements.get(e)||customElements.define(e,Mh)}))}},Uh=n(1770),Fh=n(3362),Bh=function(e,t){return e.month===t.month&&e.day===t.day&&e.year===t.year},jh=function(e,t){return!!(e.year<t.year||e.year===t.year&&e.month<t.month||e.year===t.year&&e.month===t.month&&null!==e.day&&e.day<t.day)},Hh=function(e,t){return!!(e.year>t.year||e.year===t.year&&e.month>t.month||e.year===t.year&&e.month===t.month&&null!==e.day&&e.day>t.day)},Gh=function(e,t,n){var r,i=Array.isArray(e)?e:[e],o=(0,f.Z)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;if(void 0!==t&&jh(a,t)||void 0!==n&&Hh(a,n)){(0,Fh.p)("The value provided to ion-datetime is out of bounds.\n\n"+"Min: ".concat(JSON.stringify(t),"\n")+"Max: ".concat(JSON.stringify(n),"\n")+"Value: ".concat(JSON.stringify(e)));break}}}catch(s){o.e(s)}finally{o.f()}},zh=function(e,t){if(void 0!==t)return"h23"===t;var n=new Intl.DateTimeFormat(e,{hour:"numeric"}),r=n.resolvedOptions();if(void 0!==r.hourCycle)return"h23"===r.hourCycle;var i=new Date("5/18/2021 00:00"),o=n.formatToParts(i).find((function(e){return"hour"===e.type}));if(!o)throw new Error("Hour value not found from DateTimeFormat");return"00"===o.value},$h=function(e,t){return 4===e||6===e||9===e||11===e?30:2===e?function(e){return e%4===0&&e%100!==0||e%400===0}(t)?29:28:31},qh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{month:"numeric",year:"numeric"},n=new Intl.DateTimeFormat(e,t).formatToParts(new Date);return"month"===n[0].type},Yh=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Wh=/^((\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,Qh=function(e){if(void 0!==e){var t,n=e;return"string"===typeof e&&(n=e.replace(/\[|\]|\s/g,"").split(",")),t=Array.isArray(n)?n.map((function(e){return parseInt(e,10)})).filter(isFinite):[n],t}};function Jh(e){if(Array.isArray(e))return e.map((function(e){return Jh(e)}));var t=null;if(null!=e&&""!==e&&(Wh.exec(e)?(t.unshift(void 0,void 0),t[2]=t[3]=void 0):Yh.exec(e)),null!==t){for(var n=1;n<8;n++)t[n]=void 0!==t[n]?parseInt(t[n],10):void 0;var r=0;return t[9]&&t[10]&&(60*parseInt(t[10],10),t[11]&&parseInt(t[11],10),"-"===t[9]&&-1),{year:t[1],month:t[2],day:t[3],hour:t[4],minute:t[5],tzOffset:r,ampm:t[4]<12?"am":"pm"}}}var Xh=function(e){return e>=12?"pm":"am"},Kh=function(e){return("0"+(void 0!==e?Math.abs(e):"0")).slice(-2)};function em(e){if(Array.isArray(e))return e.map((function(e){return em(e)}));var t,n="";return void 0!==e.year?(n=("000"+(void 0!==(t=e.year)?Math.abs(t):"0")).slice(-4),void 0!==e.month&&(n+="-"+Kh(e.month),void 0!==e.day&&(n+="-"+Kh(e.day),void 0!==e.hour&&(n+="T".concat(Kh(e.hour),":").concat(Kh(e.minute),":00"),void 0===e.tzOffset?n+="Z":n+=(e.tzOffset>0?"+":"-")+Kh(Math.floor(Math.abs(e.tzOffset/60)))+":"+Kh(e.tzOffset%60))))):void 0!==e.hour&&(n=Kh(e.hour)+":"+Kh(e.minute)),n}var tm=function(e,t){return void 0===t?e:"am"===t?12===e?0:e:12===e?12:e+12},nm=function(e,t){var n=e.month,r=e.day,i=e.year;if(null===r)throw new Error("No day provided");var o={month:n,day:r,year:i};if(o.day=r-t,o.day<1&&(o.month-=1),o.month<1&&(o.month=12,o.year-=1),o.day<1){var a=$h(o.month,o.year);o.day=a+o.day}return o},rm=function(e,t){var n=e.month,r=e.day,i=e.year;if(null===r)throw new Error("No day provided");var o={month:n,day:r,year:i},a=$h(n,i);return o.day=r+t,o.day>a&&(o.day-=a,o.month+=1),o.month>12&&(o.month=1,o.year+=1),o},im=function(e){var t=1===e.month?12:e.month-1,n=1===e.month?e.year-1:e.year,r=$h(t,n);return{month:t,year:n,day:r<e.day?r:e.day}},om=function(e){var t=12===e.month?1:e.month+1,n=12===e.month?e.year+1:e.year,r=$h(t,n);return{month:t,year:n,day:r<e.day?r:e.day}},am=function(e,t){var n=e.month,r=e.year+t,i=$h(n,r);return{month:n,year:r,day:i<e.day?i:e.day}},sm=function(e,t,n){return t?e:tm(e,n)},lm=function(e,t,n){var r=e.month,i=e.day,o=e.year,a=Object.assign({},e),s=$h(r,o);return null!==i&&s<i&&(a.day=s),void 0!==t&&Bh(a,t)&&void 0!==a.hour&&void 0!==t.hour&&(a.hour<t.hour?(a.hour=t.hour,a.minute=t.minute):a.hour===t.hour&&void 0!==a.minute&&void 0!==t.minute&&a.minute<t.minute&&(a.minute=t.minute)),void 0!==n&&Bh(e,n)&&void 0!==a.hour&&void 0!==n.hour&&(a.hour>n.hour?(a.hour=n.hour,a.minute=n.minute):a.hour===n.hour&&void 0!==a.minute&&void 0!==n.minute&&a.minute>n.minute&&(a.minute=n.minute)),a},cm=function(e,t){for(var n=t[0],r=Math.abs(n-e),i=1;i<t.length;i++){var o=t[i],a=Math.abs(o-e);a<r&&(n=o,r=a)}return n},um=function(e,t,n){return void 0===t.hour||void 0===t.minute?"Invalid Time":new Intl.DateTimeFormat(e,{hour:"numeric",minute:"numeric",timeZone:"UTC",hourCycle:n?"h23":"h12"}).format(new Date(em(Object.assign(Object.assign({},t),{tzOffset:void 0}))))},dm=function(e){var t=e.toString();return t.length>1?t:"0".concat(t)},pm=function(e,t){return t?dm(e):0===e?"12":e.toString()},fm=function(e,t,n){if(null===n.day)return null;var r=new Date("".concat(n.month,"/").concat(n.day,"/").concat(n.year," GMT+0000")),i=new Intl.DateTimeFormat(e,{weekday:"long",month:"long",day:"numeric",timeZone:"UTC"}).format(r);return t?"Today, ".concat(i):i},hm=function(e,t){var n=new Date("".concat(t.month,"/").concat(t.day,"/").concat(t.year," GMT+0000"));return new Intl.DateTimeFormat(e,{month:"long",year:"numeric",timeZone:"UTC"}).format(n)},mm=function(e,t){return bm(e,t,{month:"short",day:"numeric",year:"numeric"})},vm=function(e,t){return xm(e,t,{day:"numeric"}).find((function(e){return"day"===e.type})).value},ym=function(e,t){return bm(e,t,{year:"numeric"})},gm=function(e){var t=void 0!==e.hour&&void 0!==e.minute?" ".concat(e.hour,":").concat(e.minute):"";return new Date("".concat(e.month,"/").concat(e.day,"/").concat(e.year).concat(t," GMT+0000"))},bm=function(e,t,n){var r=gm(t);return wm(e,n).format(r)},xm=function(e,t,n){var r=gm(t);return wm(e,n).formatToParts(r)},wm=function(e,t){return new Intl.DateTimeFormat(e,Object.assign(Object.assign({},t),{timeZone:"UTC"}))},km=function(e){if("RelativeTimeFormat"in Intl){var t=new Intl.RelativeTimeFormat(e,{numeric:"auto"}).format(0,"day");return t.charAt(0).toUpperCase()+t.slice(1)}return"Today"},Em=function(e){var t=e.getTimezoneOffset();return e.setMinutes(e.getMinutes()-t),e},Im=Em(new Date("2022T01:00")),Rm=Em(new Date("2022T13:00")),Tm=function(e,t){var n="am"===t?Im:Rm,r=new Intl.DateTimeFormat(e,{hour:"numeric",timeZone:"UTC"}).formatToParts(n).find((function(e){return"dayPeriod"===e.type}));return r?r.value:function(e){return void 0===e?"":e.toUpperCase()}(t)},_m=function(){return Em(new Date).toISOString()},Sm=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],Am=[0,1,2,3,4,5,6,7,8,9,10,11],Nm=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],Zm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"h12",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,a="h23"===t,s=a?Nm:Am,l=Sm,c=!0,u=!0;if(i&&(s=s.filter((function(e){return i.includes(e)}))),o&&(l=l.filter((function(e){return o.includes(e)}))),n)if(Bh(e,n)){if(void 0!==n.hour&&(s=s.filter((function(t){var r="pm"===e.ampm?(t+12)%24:t;return(a?t:r)>=n.hour})),c=n.hour<13),void 0!==n.minute){var d=!1;void 0!==n.hour&&void 0!==e.hour&&e.hour>n.hour&&(d=!0),l=l.filter((function(e){return!!d||e>=n.minute}))}}else jh(e,n)&&(s=[],l=[],c=u=!1);return r&&(Bh(e,r)?(void 0!==r.hour&&(s=s.filter((function(t){var n="pm"===e.ampm?(t+12)%24:t;return(a?t:n)<=r.hour})),u=r.hour>=12),void 0!==r.minute&&e.hour===r.hour&&(l=l.filter((function(e){return e<=r.minute})))):Hh(e,r)&&(s=[],l=[],c=u=!1)),{hours:s,minutes:l,am:c,pm:u}},Cm=function(e){return[im(e),{month:e.month,year:e.year,day:e.day},om(e)]},Om=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{day:"numeric"},a=t.month,s=t.year,l=[],c=$h(a,s),u=null!==(null===r||void 0===r?void 0:r.day)&&void 0!==(null===r||void 0===r?void 0:r.day)&&r.year===s&&r.month===a?r.day:c,d=null!==(null===n||void 0===n?void 0:n.day)&&void 0!==(null===n||void 0===n?void 0:n.day)&&n.year===s&&n.month===a?n.day:1;if(void 0!==i){var p=i;(p=p.filter((function(e){return e>=d&&e<=u}))).forEach((function(t){var n=new Date("".concat(a,"/").concat(t,"/").concat(s," GMT+0000")),r=new Intl.DateTimeFormat(e,Object.assign(Object.assign({},o),{timeZone:"UTC"})).format(n);l.push({text:r,value:t})}))}else for(var f=d;f<=u;f++){var h=new Date("".concat(a,"/").concat(f,"/").concat(s," GMT+0000")),m=new Intl.DateTimeFormat(e,Object.assign(Object.assign({},o),{timeZone:"UTC"})).format(h);l.push({text:m,value:f})}return l},Dm=function e(t,n){return t.month===n.month&&t.year===n.year?[t]:[t].concat((0,d.Z)(e(om(t),n)))},Mm=function(e,t,n,r,i,o){var a=[],s=[],l=Dm(n,r);return o&&(l=l.filter((function(e){var t=e.month;return o.includes(t)}))),l.forEach((function(o){var l={month:o.month,day:null,year:o.year},c=Om(e,l,n,r,i,{month:"short",day:"numeric",weekday:"short"}),u=[],p=[];c.forEach((function(n){var r=Bh(Object.assign(Object.assign({},l),{day:n.value}),t);p.push({text:r?km(e):n.text,value:"".concat(l.year,"-").concat(l.month,"-").concat(n.value)}),u.push({month:l.month,year:l.year,day:n.value})})),s=[].concat((0,d.Z)(s),u),a=[].concat((0,d.Z)(a),p)})),{parts:s,items:a}},Vm=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionFocus=(0,Vp.yM)((0,Mp.Z)(e),"ionFocus",7),e.ionBlur=(0,Vp.yM)((0,Mp.Z)(e),"ionBlur",7),e.inItem=!1,e.inListHeader=!1,e.inToolbar=!1,e.inheritedAttributes={},e.buttonType="button",e.disabled=!1,e.routerDirection="forward",e.strong=!1,e.type="button",e.handleClick=function(t){var n=(0,Mp.Z)(e).el;if("button"===e.type)bh(e.href,t,e.routerDirection,e.routerAnimation);else if((0,sf.q)(n)){var r=e.findForm(),i=(0,Mp.Z)(e).form;if(!r&&void 0!==i)return void("string"===typeof i?(0,Fh.p)('Form with selector: "#'.concat(i,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),n):(0,Fh.p)('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',n));if(r||(r=n.closest("form")),r){t.preventDefault();var o=document.createElement("button");o.type=e.type,o.style.display="none",r.appendChild(o),o.click(),o.remove()}}},e.onFocus=function(){e.ionFocus.emit()},e.onBlur=function(){e.ionBlur.emit()},e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=(0,sf.i)(this.el)}},{key:"hasIconOnly",get:function(){return!!this.el.querySelector('[slot="icon-only"]')}},{key:"rippleType",get:function(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}},{key:"findForm",value:function(){var e=this.form;if(e instanceof HTMLFormElement)return e;if("string"===typeof e){var t=document.getElementById(e);if(t instanceof HTMLFormElement)return t}return null}},{key:"render",value:function(){var t,n=rf(this),r=this.buttonType,i=this.type,o=this.disabled,a=this.rel,s=this.target,l=this.size,c=this.href,u=this.color,d=this.expand,p=this.hasIconOnly,f=this.shape,h=this.strong,m=this.inheritedAttributes,v=void 0===l&&this.inItem?"small":l,y=void 0===c?"button":"a",g="button"===y?{type:i}:{download:this.download,href:c,rel:a,target:s},b=this.fill;return null==b&&(b=this.inToolbar||this.inListHeader?"clear":"solid"),(0,Vp.h)(Vp.AA,{onClick:this.handleClick,"aria-disabled":o?"true":null,class:vh(u,(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,r,!0),(0,e.Z)(t,"".concat(r,"-").concat(d),void 0!==d),(0,e.Z)(t,"".concat(r,"-").concat(v),void 0!==v),(0,e.Z)(t,"".concat(r,"-").concat(f),void 0!==f),(0,e.Z)(t,"".concat(r,"-").concat(b),!0),(0,e.Z)(t,"".concat(r,"-strong"),h),(0,e.Z)(t,"in-toolbar",mh("ion-toolbar",this.el)),(0,e.Z)(t,"in-toolbar-color",mh("ion-toolbar[color]",this.el)),(0,e.Z)(t,"button-has-icon-only",p),(0,e.Z)(t,"button-disabled",o),(0,e.Z)(t,"ion-activatable",!0),(0,e.Z)(t,"ion-focusable",!0),t))},(0,Vp.h)(y,Object.assign({},g,{class:"button-native",part:"native",disabled:o,onFocus:this.onFocus,onBlur:this.onBlur},m),(0,Vp.h)("span",{class:"button-inner"},(0,Vp.h)("slot",{name:"icon-only"}),(0,Vp.h)("slot",{name:"start"}),(0,Vp.h)("slot",null),(0,Vp.h)("slot",{name:"end"})),"md"===n&&(0,Vp.h)("ion-ripple-effect",{type:this.rippleType})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){margin-left:-0.3em;margin-right:0.3em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}::slotted(ion-icon[slot=end]){margin-left:0.3em;margin-right:-0.2em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em}}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:10px;--padding-top:0;--padding-bottom:0;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;margin-left:2px;margin-right:2px;margin-top:4px;margin-bottom:4px;height:2.8em;font-size:16px;font-weight:500;letter-spacing:-0.03em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:10px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal;letter-spacing:0}:host(.button-large){--border-radius:12px;--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:hover),:host(.button-outline:hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native::after{background:#fff;opacity:0.1}}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;display:block;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;display:block;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted(ion-icon){font-size:1.4em;pointer-events:none}::slotted(ion-icon[slot=start]){margin-left:-0.3em;margin-right:0.3em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em}}::slotted(ion-icon[slot=end]){margin-left:0.3em;margin-right:-0.2em;margin-top:0;margin-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em}}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host{--border-radius:4px;--padding-top:0;--padding-bottom:0;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;margin-left:2px;margin-right:2px;margin-top:4px;margin-bottom:4px;height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{margin-left:unset;margin-right:unset;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px}}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:0;--padding-start:1em;--padding-end:1em;--padding-bottom:0;height:2.8em;font-size:20px}:host(.button-small){--padding-top:0;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:0;height:2.1em;font-size:13px}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}'}}}]),r}(Vp.mv),[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);Vp.mv;var Lm=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.labelColorStyles={},e.itemStyles=new Map,e.inheritedAriaAttributes={},e.multipleInputs=!1,e.focusable=!0,e.button=!1,e.detailIcon=Hf,e.disabled=!1,e.counter=!1,e.routerDirection="forward",e.type="button",e}return(0,u.Z)(r,[{key:"counterFormatterChanged",value:function(){this.updateCounterOutput(this.getFirstInput())}},{key:"handleIonChange",value:function(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}},{key:"labelColorChanged",value:function(e){void 0===this.color&&(this.labelColorStyles=e.detail)}},{key:"itemStyle",value:function(e){e.stopPropagation();var t=e.target.tagName,n=e.detail,r={},i=this.itemStyles.get(t)||{},o=!1;Object.keys(n).forEach((function(e){if(n[e]){var t="item-".concat(e);i[t]||(o=!0),r[t]=!0}})),o||Object.keys(r).length===Object.keys(i).length||(o=!0),o&&(this.itemStyles.set(t,r),(0,Vp.xE)(this))}},{key:"connectedCallback",value:function(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.getFirstInput();void 0===t||this.clickListener||(this.clickListener=function(n){return e.delegateFocus(n,t)},this.el.addEventListener("click",this.clickListener))}},{key:"disconnectedCallback",value:function(){void 0!==this.getFirstInput()&&this.clickListener&&(this.el.removeEventListener("click",this.clickListener),this.clickListener=void 0)}},{key:"componentDidLoad",value:function(){var e=this;(0,sf.r)((function(){e.inheritedAriaAttributes=(0,sf.d)(e.el,["aria-label"]),e.setMultipleInputs(),e.focusable=e.isFocusable()}))}},{key:"setMultipleInputs",value:function(){var e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),n=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+n.length>1||e.length>0&&this.isClickable()}},{key:"hasCover",value:function(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}},{key:"isClickable",value:function(){return void 0!==this.href||this.button}},{key:"canActivate",value:function(){return this.isClickable()||this.hasCover()}},{key:"isFocusable",value:function(){var e=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==e}},{key:"getFirstInput",value:function(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}},{key:"delegateFocus",value:function(e,t){var n="ION-ITEM"===e.target.tagName,r=!1;document.activeElement&&(r=t.querySelector("input, textarea")===document.activeElement),!n||!r&&this.multipleInputs||(t.fireFocusEvents=!1,t.setBlur(),t.setFocus(),(0,sf.r)((function(){t.fireFocusEvents=!0})))}},{key:"updateCounterOutput",value:function(e){var t,n,r=this.counter,i=this.counterFormatter,o=this.defaultCounterFormatter;if(r&&!this.multipleInputs&&void 0!==(null===e||void 0===e?void 0:e.maxlength)){var a=null!==(n=null===(t=null===e||void 0===e?void 0:e.value)||void 0===t?void 0:t.toString().length)&&void 0!==n?n:0;if(void 0===i)this.counterString=o(a,e.maxlength);else try{this.counterString=i(a,e.maxlength)}catch(s){(0,Fh.a)("Exception in provided `counterFormatter`.",s),this.counterString=o(a,e.maxlength)}}}},{key:"defaultCounterFormatter",value:function(e,t){return"".concat(e," / ").concat(t)}},{key:"hasStartEl",value:function(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}},{key:"render",value:function(){var t,n=this.counterString,r=this.detail,i=this.detailIcon,o=this.download,a=this.fill,s=this.labelColorStyles,l=this.lines,c=this.disabled,u=this.href,d=this.rel,p=this.shape,f=this.target,h=this.routerAnimation,m=this.routerDirection,v=this.inheritedAriaAttributes,y={},g=rf(this),b=this.isClickable(),x=this.canActivate(),w=b?void 0===u?"button":"a":"div",k="button"===w?{type:this.type}:{download:o,href:u,rel:d,target:f},E=b?{onClick:function(e){bh(u,e,m,h)}}:{},I=void 0!==r?r:"ios"===g&&b;this.itemStyles.forEach((function(e){Object.assign(y,e)}));var R=c||y["item-interactive-disabled"]?"true":null,T=a||"none",_=mh("ion-list",this.el);return(0,Vp.h)(Vp.AA,{"aria-disabled":R,class:Object.assign(Object.assign(Object.assign({},y),s),vh(this.color,(t={item:!0},(0,e.Z)(t,g,!0),(0,e.Z)(t,"item-lines-".concat(l),void 0!==l),(0,e.Z)(t,"item-fill-".concat(T),!0),(0,e.Z)(t,"item-shape-".concat(p),void 0!==p),(0,e.Z)(t,"item-disabled",c),(0,e.Z)(t,"in-list",_),(0,e.Z)(t,"item-multiple-inputs",this.multipleInputs),(0,e.Z)(t,"ion-activatable",x),(0,e.Z)(t,"ion-focusable",this.focusable),(0,e.Z)(t,"item-rtl","rtl"===document.dir),t))),role:_?"listitem":null},(0,Vp.h)(w,Object.assign({},k,v,{class:"item-native",part:"native",disabled:c},E),(0,Vp.h)("slot",{name:"start"}),(0,Vp.h)("div",{class:"item-inner"},(0,Vp.h)("div",{class:"input-wrapper"},(0,Vp.h)("slot",null)),(0,Vp.h)("slot",{name:"end"}),I&&(0,Vp.h)("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===Hf}),(0,Vp.h)("div",{class:"item-inner-highlight"})),x&&"md"===g&&(0,Vp.h)("ion-ripple-effect",null),(0,Vp.h)("div",{class:"item-highlight"})),(0,Vp.h)("div",{class:"item-bottom"},(0,Vp.h)("slot",{name:"error"}),(0,Vp.h)("slot",{name:"helper"}),n&&(0,Vp.h)("ion-note",{class:"item-counter"},n)))}},{key:"el",get:function(){return this}}],[{key:"delegatesFocus",get:function(){return!0}},{key:"watchers",get:function(){return{counterFormatter:["counterFormatterChanged"]}}},{key:"style",get:function(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-native{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--inner-padding-start);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-inner{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-bottom{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end)}}.item-detail-icon{color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{margin-left:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-counter{margin-left:unset;-webkit-margin-start:auto;margin-inline-start:auto}}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:20px;--inner-padding-end:10px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:#000;--background-focused:#000;--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:17px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){margin-left:0;margin-right:20px;margin-top:2px;margin-bottom:2px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:20px;margin-inline-end:20px}}::slotted([slot=end]){margin-left:10px;margin-right:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:0px;--padding-bottom:0px;--padding-start:.5em;--padding-end:.5em;height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){width:56px;height:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:10px;margin-right:10px;margin-top:10px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:unset;margin-right:unset;-webkit-margin-start:10px;margin-inline-start:10px;-webkit-margin-end:10px;margin-inline-end:10px}}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){margin-left:0px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){margin-left:unset;-webkit-margin-start:0px;margin-inline-start:0px}}::slotted(ion-label){margin-left:0;margin-right:8px;margin-top:10px;margin-bottom:10px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-label){margin-left:unset;margin-right:unset;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px}}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-native{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--inner-padding-start);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-inner{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end))}}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-right:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-bottom{padding-left:unset;padding-right:unset;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end)}}.item-detail-icon{color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{margin-left:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.item-counter{margin-left:unset;-webkit-margin-start:auto;margin-inline-start:auto}}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));left:var(--position-offset);top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){margin-right:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=start]){margin-right:unset;-webkit-margin-end:32px;margin-inline-end:32px}}::slotted([slot=end]){margin-left:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted([slot=end]){margin-left:unset;-webkit-margin-start:32px;margin-inline-start:32px}}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){margin-right:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=start]){margin-right:unset;-webkit-margin-end:32px;margin-inline-end:32px}}::slotted(ion-icon[slot=end]){margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-icon[slot=end]){margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){padding-right:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-note[slot=start]){padding-right:unset;-webkit-padding-end:16px;padding-inline-end:16px}}::slotted(ion-note[slot=end]){padding-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-note[slot=end]){padding-left:unset;-webkit-padding-start:16px;padding-inline-start:16px}}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){width:56px;height:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){margin-right:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){margin-right:unset;-webkit-margin-end:16px;margin-inline-end:16px}}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){margin-left:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){margin-left:unset;-webkit-margin-start:0;margin-inline-start:0}}::slotted(.button-small){--padding-top:0;--padding-bottom:0;--padding-start:.6em;--padding-end:.6em;height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select),:host(.item-label-floating) ::slotted(ion-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{padding-left:32px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.item-fill-outline.item-shape-round) .item-bottom{padding-left:unset;-webkit-padding-start:32px;padding-inline-start:32px}}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}'}}}]),r}(Vp.mv),[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);var Pm=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.ionColor=(0,Vp.yM)((0,Mp.Z)(e),"ionColor",7),e.ionStyle=(0,Vp.yM)((0,Mp.Z)(e),"ionStyle",7),e.inRange=!1,e.noAnimate=!1,e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate="floating"===this.position,this.emitStyle(),this.emitColor()}},{key:"componentDidLoad",value:function(){var e=this;this.noAnimate&&setTimeout((function(){e.noAnimate=!1}),1e3)}},{key:"colorChanged",value:function(){this.emitColor()}},{key:"positionChanged",value:function(){this.emitStyle()}},{key:"emitColor",value:function(){var t=this.color;this.ionColor.emit((0,e.Z)({"item-label-color":void 0!==t},"ion-color-".concat(t),void 0!==t))}},{key:"emitStyle",value:function(){var t=this.inRange,n=this.position;t||this.ionStyle.emit((0,e.Z)({label:!0},"label-".concat(n),void 0!==n))}},{key:"render",value:function(){var t,n=this.position,r=rf(this);return(0,Vp.h)(Vp.AA,{class:vh(this.color,(t={},(0,e.Z)(t,r,!0),(0,e.Z)(t,"in-item-color",mh("ion-item.ion-color",this.el)),(0,e.Z)(t,"label-".concat(n),void 0!==n),(0,e.Z)(t,"label-no-animate",this.noAnimate),(0,e.Z)(t,"label-rtl","rtl"===document.dir),t))})}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{color:["colorChanged"],position:["positionChanged"]}}},{key:"style",get:function(){return{ios:".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",md:'.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}'}}}]),r}(Vp.mv),[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function Um(){if("undefined"!==typeof customElements){["ion-label"].forEach((function(e){if("ion-label"===e)customElements.get(e)||customElements.define(e,Pm)}))}}var Fm={getEngine:function(){var e,t=window;return t.TapticEngine||(null===(e=t.Capacitor)||void 0===e?void 0:e.isPluginAvailable("Haptics"))&&t.Capacitor.Plugins.Haptics},available:function(){var e,t=window;return!!this.getEngine()&&("web"!==(null===(e=t.Capacitor)||void 0===e?void 0:e.getPlatform())||"undefined"!==typeof navigator&&void 0!==navigator.vibrate)},isCordova:function(){return!!window.TapticEngine},isCapacitor:function(){return!!window.Capacitor},impact:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})}},notification:function(e){var t=this.getEngine();if(t){var n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})}},selection:function(){this.impact({style:"light"})},selectionStart:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd:function(){var e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},Bm=function(){return Fm.available()},jm=function(){Bm()&&Fm.selectionStart()},Hm=function(){Bm()&&Fm.selectionChanged()},Gm=function(){Bm()&&Fm.selectionEnd()},zm=function(e){Bm()&&Fm.impact(e)},$m=(Vp.mv,"picker-item-active");Vp.mv;var qm=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i,o,a){var l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",t.attachViewToDom(n,r,o,i));case 2:if(a||"string"===typeof r||r instanceof HTMLElement){e.next=4;break}throw new Error("framework delegate is missing");case 4:return c="string"===typeof r?null===(l=n.ownerDocument)||void 0===l?void 0:l.createElement(r):r,i&&i.forEach((function(e){return c.classList.add(e)})),o&&Object.assign(c,o),n.appendChild(c),e.next=10,new Promise((function(e){return(0,sf.c)(c,e)}));case 10:return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}(),Ym=function(e,t){if(t){if(e){var n=t.parentElement;return e.removeViewFromDom(n,t)}t.remove()}return Promise.resolve()},Wm=function(){var e,t,n=function(){var n=(0,l.Z)((0,s.Z)().mark((function n(r,i){var o,a,l,c,u,p,f,h=arguments;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=h.length>2&&void 0!==h[2]?h[2]:{},a=h.length>3&&void 0!==h[3]?h[3]:[],e=r,!i){n.next=12;break}return u="string"===typeof i?null===(l=e.ownerDocument)||void 0===l?void 0:l.createElement(i):i,a.forEach((function(e){return u.classList.add(e)})),Object.assign(u,o),e.appendChild(u),n.next=10,new Promise((function(e){return(0,sf.c)(u,e)}));case 10:n.next=13;break;case 12:e.children.length>0&&(e.children[0].classList.contains("ion-delegate-host")||((p=null===(c=e.ownerDocument)||void 0===c?void 0:c.createElement("div")).classList.add("ion-delegate-host"),a.forEach((function(e){return p.classList.add(e)})),p.append.apply(p,(0,d.Z)(e.children)),e.appendChild(p)));case 13:return f=document.querySelector("ion-app")||document.body,t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),f.appendChild(e),n.abrupt("return",e);case 18:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}();return{attachViewToDom:n,removeViewFromDom:function(){return e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve()}}},Qm=n(5862),Jm=function(e,t,n){var r=t.getBoundingClientRect(),i=r.height,o=r.width;"cover"===e&&n&&(o=n.getBoundingClientRect().width);return{contentWidth:o,contentHeight:i}},Xm=function(e,t){return t&&"ION-ITEM"===t.tagName?e.findIndex((function(e){return e===t})):-1},Km=function(e,t){return e[Xm(e,t)+1]},ev=function(e,t){return e[Xm(e,t)-1]},tv=function(e){var t=(0,sf.g)(e).querySelector("button");t&&(0,sf.r)((function(){return t.focus()}))},nv=function(e,t,n,r,i,o,a,s,l,c,u){var d,p={top:0,left:0,width:0,height:0};if("event"===o){if(!u)return l;var f=u;p={top:f.clientY,left:f.clientX,width:1,height:1}}else{var h=u,m=c||(null===(d=null===h||void 0===h?void 0:h.detail)||void 0===d?void 0:d.ionShadowTarget)||(null===h||void 0===h?void 0:h.target);if(!m)return l;var v=m.getBoundingClientRect();p={top:v.top,left:v.left,width:v.width,height:v.height}}var y=sv(a,p,t,n,r,i,e),g=lv(s,a,p,t,n),b=y.top+g.top,x=y.left+g.left,w=av(a,r,i,b,x,t,n,e),k=w.arrowTop,E=w.arrowLeft,I=rv(a,s,e);return{top:b,left:x,referenceCoordinates:p,arrowTop:k,arrowLeft:E,originX:I.originX,originY:I.originY}},rv=function(e,t,n){switch(e){case"top":return{originX:iv(t),originY:"bottom"};case"bottom":return{originX:iv(t),originY:"top"};case"left":return{originX:"right",originY:ov(t)};case"right":return{originX:"left",originY:ov(t)};case"start":return{originX:n?"left":"right",originY:ov(t)};case"end":return{originX:n?"right":"left",originY:ov(t)}}},iv=function(e){switch(e){case"start":return"left";case"center":return"center";case"end":return"right"}},ov=function(e){switch(e){case"start":return"top";case"center":return"center";case"end":return"bottom"}},av=function(e,t,n,r,i,o,a,s){var l={arrowTop:r+a/2-t/2,arrowLeft:i+o-t/2},c={arrowTop:r+a/2-t/2,arrowLeft:i-1.5*t};switch(e){case"top":return{arrowTop:r+a,arrowLeft:i+o/2-t/2};case"bottom":return{arrowTop:r-n,arrowLeft:i+o/2-t/2};case"left":return l;case"right":return c;case"start":return s?c:l;case"end":return s?l:c;default:return{arrowTop:0,arrowLeft:0}}},sv=function(e,t,n,r,i,o,a){var s={top:t.top,left:t.left-n-i},l={top:t.top,left:t.left+t.width+i};switch(e){case"top":return{top:t.top-r-o,left:t.left};case"right":return l;case"bottom":return{top:t.top+t.height+o,left:t.left};case"left":return s;case"start":return a?l:s;case"end":return a?s:l}},lv=function(e,t,n,r,i){switch(e){case"center":return uv(t,n,r,i);case"end":return cv(t,n,r,i);default:return{top:0,left:0}}},cv=function(e,t,n,r){switch(e){case"start":case"end":case"left":case"right":return{top:-(r-t.height),left:0};default:return{top:0,left:-(n-t.width)}}},uv=function(e,t,n,r){switch(e){case"start":case"end":case"left":case"right":return{top:-(r/2-t.height/2),left:0};default:return{top:0,left:-(n/2-t.width/2)}}},dv=function(e,t,n,r,i,o,a,s,l,c,u,d){var p,f=arguments.length>12&&void 0!==arguments[12]?arguments[12]:0,h=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,v=f,y=h,g=n,b=t,x=c,w=u,k=!1,E=!1,I=d?d.top+d.height:o/2-s/2,R=d?d.height:0,T=!1;return g<r+l?(g=r,k=!0,x="left"):a+r+g+l>i&&(E=!0,g=i-a-r,x="right"),I+R+s>o&&("top"===e||"bottom"===e)&&(I-s>0?(v=(b=Math.max(12,I-s-R-(m-1)))+s,w="bottom",T=!0):p=r),{top:b,left:g,bottom:p,originX:x,originY:w,checkSafeAreaLeft:k,checkSafeAreaRight:E,arrowTop:v,arrowLeft:y,addPopoverBottomClass:T}},pv=function(e,t){var n,r=t.event,i=t.size,o=t.trigger,a=t.reference,s=t.side,l=t.align,c=e.ownerDocument,u="rtl"===c.dir,d=c.defaultView.innerWidth,p=c.defaultView.innerHeight,f=(0,sf.g)(e),h=f.querySelector(".popover-content"),m=f.querySelector(".popover-arrow"),v=o||(null===(n=null===r||void 0===r?void 0:r.detail)||void 0===n?void 0:n.ionShadowTarget)||(null===r||void 0===r?void 0:r.target),y=Jm(i,h,v),g=y.contentWidth,b=y.contentHeight,x=function(e){if(!e)return{arrowWidth:0,arrowHeight:0};var t=e.getBoundingClientRect();return{arrowWidth:t.width,arrowHeight:t.height}}(m),w=x.arrowWidth,k=x.arrowHeight,E=nv(u,g,b,w,k,a,s,l,{top:p/2-b/2,left:d/2-g/2,originX:u?"right":"left",originY:"top"},o,r),I="cover"===i?0:5,R="cover"===i?0:25,T=dv(s,E.top,E.left,I,d,p,g,b,R,E.originX,E.originY,E.referenceCoordinates,E.arrowTop,E.arrowLeft,k),_=T.originX,S=T.originY,A=T.top,N=T.left,Z=T.bottom,C=T.checkSafeAreaLeft,O=T.checkSafeAreaRight,D=T.arrowTop,M=T.arrowLeft,V=T.addPopoverBottomClass,L=(0,Vf.c)(),P=(0,Vf.c)(),U=(0,Vf.c)();return P.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),U.addElement(f.querySelector(".popover-wrapper")).fromTo("opacity",.01,1),L.easing("ease").duration(100).beforeAddWrite((function(){"cover"===i&&e.style.setProperty("--width","".concat(g,"px")),V&&e.classList.add("popover-bottom"),void 0!==Z&&h.style.setProperty("bottom","".concat(Z,"px"));var t="".concat(N,"px");if(C&&(t="".concat(N,"px").concat(" + var(--ion-safe-area-left, 0)")),O&&(t="".concat(N,"px").concat(" - var(--ion-safe-area-right, 0)")),h.style.setProperty("top","calc(".concat(A,"px + var(--offset-y, 0))")),h.style.setProperty("left","calc(".concat(t," + var(--offset-x, 0))")),h.style.setProperty("transform-origin","".concat(S," ").concat(_)),null!==m){var n=E.top!==A||E.left!==N,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return!(!n&&!r)&&("top"===e||"bottom"===e||!t)}(s,n,r,o);a?(m.style.setProperty("top","calc(".concat(D,"px + var(--offset-y, 0))")),m.style.setProperty("left","calc(".concat(M,"px + var(--offset-x, 0))"))):m.style.setProperty("display","none")}})).addAnimation([P,U])},fv=function(e){var t=(0,sf.g)(e),n=t.querySelector(".popover-content"),r=t.querySelector(".popover-arrow"),i=(0,Vf.c)(),o=(0,Vf.c)(),a=(0,Vf.c)();return o.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),a.addElement(t.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite((function(){e.style.removeProperty("--width"),e.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),r&&(r.style.removeProperty("top"),r.style.removeProperty("left"),r.style.removeProperty("display"))})).duration(300).addAnimation([o,a])},hv=function(e,t){var n,r=t.event,i=t.size,o=t.trigger,a=t.reference,s=t.side,l=t.align,c=e.ownerDocument,u="rtl"===c.dir,d=c.defaultView.innerWidth,p=c.defaultView.innerHeight,f=(0,sf.g)(e),h=f.querySelector(".popover-content"),m=o||(null===(n=null===r||void 0===r?void 0:r.detail)||void 0===n?void 0:n.ionShadowTarget)||(null===r||void 0===r?void 0:r.target),v=Jm(i,h,m),y=v.contentWidth,g=v.contentHeight,b=nv(u,y,g,0,0,a,s,l,{top:p/2-g/2,left:d/2-y/2,originX:u?"right":"left",originY:"top"},o,r),x="cover"===i?0:12,w=dv(s,b.top,b.left,x,d,p,y,g,0,b.originX,b.originY,b.referenceCoordinates),k=w.originX,E=w.originY,I=w.top,R=w.left,T=w.bottom,_=(0,Vf.c)(),S=(0,Vf.c)(),A=(0,Vf.c)(),N=(0,Vf.c)(),Z=(0,Vf.c)();return S.addElement(f.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),A.addElement(f.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),N.addElement(h).beforeStyles({top:"calc(".concat(I,"px + var(--offset-y, 0px))"),left:"calc(".concat(R,"px + var(--offset-x, 0px))"),"transform-origin":"".concat(E," ").concat(k)}).beforeAddWrite((function(){void 0!==T&&h.style.setProperty("bottom","".concat(T,"px"))})).fromTo("transform","scale(0.8)","scale(1)"),Z.addElement(f.querySelector(".popover-viewport")).fromTo("opacity",.01,1),_.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite((function(){"cover"===i&&e.style.setProperty("--width","".concat(y,"px")),"bottom"===E&&e.classList.add("popover-bottom")})).addAnimation([S,A,N,Z])},mv=function(e){var t=(0,sf.g)(e),n=t.querySelector(".popover-content"),r=(0,Vf.c)(),i=(0,Vf.c)(),o=(0,Vf.c)();return i.addElement(t.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(t.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite((function(){e.style.removeProperty("--width"),e.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")})).duration(150).addAnimation([i,o])},vv=(Vp.mv,{ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"}),yv=0;var gv=function(e,t,n,r){return null===e.day||(void 0!==r&&!r.includes(e.day)||(!(!t||!jh(e,t))||!(!n||!Hh(e,n))))},bv=function(e,t){var n=t.minParts,r=t.maxParts;return!!function(e,t,n){return!!(t&&t.year>e)||!!(n&&n.year<e)}(e.year,n,r)||!!(n&&jh(e,n)||r&&Hh(e,r))},xv=(Vp.mv,0);Vp.mv;var wv=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.edge=!1,e.activated=!1,e}return(0,u.Z)(r,[{key:"activatedChanged",value:function(){var e=this.activated,t=this.getFab();t&&(t.activated=e),Array.from(this.el.querySelectorAll("ion-fab-list")).forEach((function(t){t.activated=e}))}},{key:"componentDidLoad",value:function(){this.activated&&this.activatedChanged()}},{key:"close",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.activated=!1;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFab",value:function(){return this.el.querySelector("ion-fab-button")}},{key:"toggle",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!!this.el.querySelector("ion-fab-list")&&(this.activated=!this.activated);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t,n=this.horizontal,r=this.vertical,i=this.edge,o=rf(this);return(0,Vp.h)(Vp.AA,{class:(t={},(0,e.Z)(t,o,!0),(0,e.Z)(t,"fab-horizontal-".concat(n),void 0!==n),(0,e.Z)(t,"fab-vertical-".concat(r),void 0!==r),(0,e.Z)(t,"fab-edge",i),t)},(0,Vp.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{activated:["activatedChanged"]}}},{key:"style",get:function(){return":host{position:absolute;z-index:999}:host(.fab-horizontal-center){left:50%;margin-left:-28px}:host-context([dir=rtl]):host(.fab-horizontal-center),:host-context([dir=rtl]).fab-horizontal-center{left:unset;right:unset;right:50%}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.fab-horizontal-center){margin-left:unset;-webkit-margin-start:-28px;margin-inline-start:-28px}}:host(.fab-horizontal-start){left:calc(10px + var(--ion-safe-area-left, 0px))}:host-context([dir=rtl]):host(.fab-horizontal-start),:host-context([dir=rtl]).fab-horizontal-start{left:unset;right:unset;right:calc(10px + var(--ion-safe-area-left, 0px))}:host(.fab-horizontal-end){right:calc(10px + var(--ion-safe-area-right, 0px))}:host-context([dir=rtl]):host(.fab-horizontal-end),:host-context([dir=rtl]).fab-horizontal-end{left:unset;right:unset;left:calc(10px + var(--ion-safe-area-right, 0px))}:host(.fab-vertical-top){top:10px}:host(.fab-vertical-top.fab-edge){top:-28px}:host(.fab-vertical-bottom){bottom:10px}:host(.fab-vertical-bottom.fab-edge){bottom:-28px}:host(.fab-vertical-center){margin-top:-28px;top:50%}"}}]),r}(Vp.mv),[1,"ion-fab",{horizontal:[1],vertical:[1],edge:[4],activated:[1028],close:[64],toggle:[64]}]);var kv=function(){if("undefined"!==typeof customElements){["ion-fab"].forEach((function(e){if("ion-fab"===e)customElements.get(e)||customElements.define(e,wv)}))}};Vp.mv;var Ev=n(612),Iv=n(3142),Rv=function(e){var t,n,r,i=function(){t=function(){r=!0,e&&e(!0)},n=function(){r=!1,e&&e(!1)},null===Iv.w||void 0===Iv.w||Iv.w.addEventListener("keyboardWillShow",t),null===Iv.w||void 0===Iv.w||Iv.w.addEventListener("keyboardWillHide",n)};return i(),{init:i,destroy:function(){null===Iv.w||void 0===Iv.w||Iv.w.removeEventListener("keyboardWillShow",t),null===Iv.w||void 0===Iv.w||Iv.w.removeEventListener("keyboardWillHide",n),t=n=void 0},isKeyboardVisible:function(){return r}}},Tv=function(e,t){(0,Vp.wj)((function(){var n=e.scrollTop-(e.scrollHeight-e.clientHeight-10),r=(0,sf.h)(0,1-n/10,1);(0,Vp.Iu)((function(){t.style.setProperty("--opacity-scale",r.toString())}))}))};Vp.mv;Vp.mv;var _v="all 0.2s ease-in-out",Sv=function(e){var t=document.querySelector("".concat(e,".ion-cloned-element"));if(null!==t)return t;var n=document.createElement(e);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},Av=function(e){if(e){var t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map((function(e){var t=e.querySelector("ion-title");return{el:e,background:e.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:t,innerTitleEl:t?t.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(e.querySelectorAll("ion-buttons"))}}))}}},Nv=function(e,t,n){(0,Vp.wj)((function(){var r=e.scrollTop,i=(0,sf.h)(1,1+-r/500,1.1);null===n.querySelector("ion-refresher.refresher-native")&&(0,Vp.Iu)((function(){Dv(t.toolbars,i)}))}))},Zv=function(e,t){"fade"!==e.collapse&&(void 0===t?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},Cv=function(e,t,n,r){(0,Vp.Iu)((function(){var i=r.scrollTop;!function(e,t,n){if(e[0].isIntersecting){var r=e[0].intersectionRatio>.9||n<=0?0:100*(1-e[0].intersectionRatio)/75;Zv(t.el,1===r?void 0:r)}}(e,t,i);var o=e[0],a=o.intersectionRect,s=a.width*a.height,l=o.rootBounds.width*o.rootBounds.height,c=0===s&&0===l,u=Math.abs(a.left-o.boundingClientRect.left),d=Math.abs(a.right-o.boundingClientRect.right);c||s>0&&(u>=5||d>=5)||(o.isIntersecting?(Ov(t,!1),Ov(n)):(0===a.x&&0===a.y||0!==a.width&&0!==a.height)&&i>0&&(Ov(t),Ov(n,!1),Zv(t.el)))}))},Ov=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.el;t?(n.classList.remove("header-collapse-condense-inactive"),n.removeAttribute("aria-hidden")):(n.classList.add("header-collapse-condense-inactive"),n.setAttribute("aria-hidden","true"))},Dv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var r=e.ionTitleEl,i=e.innerTitleEl;r&&"large"===r.size&&(i.style.transition=n?_v:"",i.style.transform="scale3d(".concat(t,", ").concat(t,", 1)"))}))},Mv=function(e,t,n){(0,Vp.wj)((function(){var r=e.scrollTop,i=t.clientHeight,o=n?n.clientHeight:0;if(null!==n&&r<o)return t.style.setProperty("--opacity-scale","0"),void e.style.setProperty("clip-path","inset(".concat(i,"px 0px 0px 0px)"));var a=r-o,s=(0,sf.h)(0,a/10,1);(0,Vp.Iu)((function(){e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",s.toString())}))}))},Vv=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.inheritedAttributes={},e.translucent=!1,e.setupFadeHeader=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n,r){var i;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Ev.g)(n);case 2:i=e.scrollEl=t.sent,e.contentScrollCallback=function(){Mv(e.scrollEl,e.el,r)},i.addEventListener("scroll",e.contentScrollCallback),Mv(e.scrollEl,e.el,r);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=(0,sf.i)(this.el)}},{key:"componentDidLoad",value:function(){this.checkCollapsibleHeader()}},{key:"componentDidUpdate",value:function(){this.checkCollapsibleHeader()}},{key:"disconnectedCallback",value:function(){this.destroyCollapsibleHeader()}},{key:"checkCollapsibleHeader",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i,o,a,l,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ios"===rf(this)){e.next=3;break}return e.abrupt("return");case 3:if(t=this.collapse,n="condense"===t,r="fade"===t,this.destroyCollapsibleHeader(),!n){e.next=15;break}return i=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=i?(0,Ev.f)(i):null,(0,Vp.Iu)((function(){Sv("ion-title").size="large",Sv("ion-back-button")})),e.next=13,this.setupCondenseHeader(o,i);case 13:e.next=24;break;case 15:if(!r){e.next=24;break}if(a=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),l=a?(0,Ev.f)(a):null){e.next=21;break}return(0,Ev.p)(this.el),e.abrupt("return");case 21:return c=l.querySelector('ion-header[collapse="condense"]'),e.next=24,this.setupFadeHeader(l,c);case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"destroyCollapsibleHeader",value:function(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}},{key:"setupCondenseHeader",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=3;break}return(0,Ev.p)(this.el),e.abrupt("return");case 3:if("undefined"!==typeof IntersectionObserver){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,Ev.g)(t);case 7:if(this.scrollEl=e.sent,r=n.querySelectorAll("ion-header"),this.collapsibleMainHeader=Array.from(r).find((function(e){return"condense"!==e.collapse})),this.collapsibleMainHeader){e.next=12;break}return e.abrupt("return");case 12:if(i=Av(this.collapsibleMainHeader),o=Av(this.el),i&&o){e.next=16;break}return e.abrupt("return");case 16:Ov(i,!1),Zv(i.el,0),a=function(e){Cv(e,i,o,l.scrollEl)},this.intersectionObserver=new IntersectionObserver(a,{root:t,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=function(){Nv(l.scrollEl,o,t)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),(0,Vp.Iu)((function(){void 0!==l.collapsibleMainHeader&&l.collapsibleMainHeader.classList.add("header-collapse-main")}));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t,n=this.translucent,r=this.inheritedAttributes,i=rf(this),o=this.collapse||"none",a=mh("ion-menu",this.el)?"none":"banner";return(0,Vp.h)(Vp.AA,Object.assign({role:a,class:(t={},(0,e.Z)(t,i,!0),(0,e.Z)(t,"header-".concat(i),!0),(0,e.Z)(t,"header-translucent",this.translucent),(0,e.Z)(t,"header-collapse-".concat(o),!0),(0,e.Z)(t,"header-translucent-".concat(i),this.translucent),t)},r),"ios"===i&&n&&(0,Vp.h)("div",{class:"header-background"}),(0,Vp.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",md:'ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md::after{left:0;bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:""}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{left:unset;right:unset;right:0}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{background-position:right 0 top -2px}.header-collapse-condense{display:none}.header-md.ion-no-border::after{display:none}'}}}]),r}(Vp.mv),[36,"ion-header",{collapse:[1],translucent:[4]}]);var Lv=function(){if("undefined"!==typeof customElements){["ion-header"].forEach((function(e){if("ion-header"===e)customElements.get(e)||customElements.define(e,Vv)}))}},Pv=(Vp.mv,function(e){switch(e){case"true":return!0;case"false":return!1;default:return}});Vp.mv;var Uv=function(e){try{if(e instanceof zv)return e.value;if(!jv()||"string"!==typeof e||""===e)return e;var t=document.createDocumentFragment(),n=document.createElement("div");t.appendChild(n),n.innerHTML=e,Gv.forEach((function(e){for(var n=t.querySelectorAll(e),r=n.length-1;r>=0;r--){var i=n[r];i.parentNode?i.parentNode.removeChild(i):t.removeChild(i);for(var o=Bv(i),a=0;a<o.length;a++)Fv(o[a])}}));for(var r=Bv(t),i=0;i<r.length;i++)Fv(r[i]);var o=document.createElement("div");o.appendChild(t);var a=o.querySelector("div");return null!==a?a.innerHTML:o.innerHTML}catch(s){return console.error(s),""}},Fv=function e(t){if(!t.nodeType||1===t.nodeType){for(var n=t.attributes.length-1;n>=0;n--){var r=t.attributes.item(n),i=r.name;if(Hv.includes(i.toLowerCase())){var o=r.value;null!=o&&o.toLowerCase().includes("javascript:")&&t.removeAttribute(i)}else t.removeAttribute(i)}for(var a=Bv(t),s=0;s<a.length;s++)e(a[s])}},Bv=function(e){return null!=e.children?e.children:e.childNodes},jv=function(){var e,t=window,n=null===(e=null===t||void 0===t?void 0:t.Ionic)||void 0===e?void 0:e.config;return!n||(n.get?n.get("sanitizerEnabled",!0):!0===n.sanitizerEnabled||void 0===n.sanitizerEnabled)},Hv=["class","id","href","src","name","slot"],Gv=["script","style","iframe","meta","link","object","embed"],zv=(0,u.Z)((function e(t){(0,c.Z)(this,e),this.value=t})),$v={bubbles:{dur:1e3,circles:9,fn:function(e,t,n){var r="".concat(e*t/n-e,"ms"),i=2*Math.PI*t/n;return{r:5,style:{top:"".concat(9*Math.sin(i),"px"),left:"".concat(9*Math.cos(i),"px"),"animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:function(e,t,n){var r=t/n,i="".concat(e*r-e,"ms"),o=2*Math.PI*r;return{r:5,style:{top:"".concat(9*Math.sin(o),"px"),left:"".concat(9*Math.cos(o),"px"),"animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:function(){return{r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}}}},crescent:{dur:750,circles:1,fn:function(){return{r:26,style:{}}}},dots:{dur:750,circles:3,fn:function(e,t){var n=-110*t+"ms";return{r:6,style:{left:"".concat(9-9*t,"px"),"animation-delay":n}}}},lines:{dur:1e3,lines:8,fn:function(e,t,n){return{y1:14,y2:26,style:{transform:"rotate(".concat(360/n*t+(t<n/2?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}},"lines-small":{dur:1e3,lines:8,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(360/n*t+(t<n/2?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}},"lines-sharp":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:17,y2:29,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:function(e,t,n){return{y1:12,y2:20,style:{transform:"rotate(".concat(30*t+(t<6?180:-180),"deg)"),"animation-delay":"".concat(e*t/n-e,"ms")}}}}},qv=$v,Yv=(Vp.mv,function(e,t,n,r){var i=e.fn(t,n,r);return i.style["animation-duration"]=t+"ms",(0,Vp.h)("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},(0,Vp.h)("circle",{transform:i.transform||"translate(32,32)",cx:i.cx,cy:i.cy,r:i.r,style:e.elmDuration?{animationDuration:t+"ms"}:{}}))}),Wv=function(e,t,n,r){var i=e.fn(t,n,r);return i.style["animation-duration"]=t+"ms",(0,Vp.h)("svg",{viewBox:i.viewBox||"0 0 64 64",style:i.style},(0,Vp.h)("line",{transform:"translate(32,32)",y1:i.y1,y2:i.y2}))};Vp.mv;var Qv=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.ionInput=(0,Vp.yM)((0,Mp.Z)(e),"ionInput",7),e.ionChange=(0,Vp.yM)((0,Mp.Z)(e),"ionChange",7),e.ionBlur=(0,Vp.yM)((0,Mp.Z)(e),"ionBlur",7),e.ionFocus=(0,Vp.yM)((0,Mp.Z)(e),"ionFocus",7),e.ionStyle=(0,Vp.yM)((0,Mp.Z)(e),"ionStyle",7),e.inputId="ion-input-".concat(Jv++),e.didBlurAfterEdit=!1,e.inheritedAttributes={},e.isComposing=!1,e.fireFocusEvents=!0,e.hasFocus=!1,e.autocapitalize="off",e.autocomplete="off",e.autocorrect="off",e.autofocus=!1,e.clearInput=!1,e.debounce=0,e.disabled=!1,e.name=e.inputId,e.readonly=!1,e.required=!1,e.spellcheck=!1,e.type="text",e.value="",e.onInput=function(t){var n=t.target;n&&(e.value=n.value||""),e.ionInput.emit(t)},e.onBlur=function(t){e.hasFocus=!1,e.focusChanged(),e.emitStyle(),e.fireFocusEvents&&e.ionBlur.emit(t)},e.onFocus=function(t){e.hasFocus=!0,e.focusChanged(),e.emitStyle(),e.fireFocusEvents&&e.ionFocus.emit(t)},e.onKeydown=function(t){e.shouldClearOnEdit()&&(e.didBlurAfterEdit&&e.hasValue()&&"Enter"!==t.key&&e.clearTextInput(),e.didBlurAfterEdit=!1)},e.onCompositionStart=function(){e.isComposing=!0},e.onCompositionEnd=function(){e.isComposing=!1},e.clearTextInput=function(t){e.clearInput&&!e.readonly&&!e.disabled&&t&&(t.preventDefault(),t.stopPropagation(),e.setFocus()),e.value="",e.nativeInput&&(e.nativeInput.value="")},e}return(0,u.Z)(r,[{key:"debounceChanged",value:function(){this.ionChange=(0,sf.j)(this.ionChange,this.debounce)}},{key:"disabledChanged",value:function(){this.emitStyle()}},{key:"placeholderChanged",value:function(){this.emitStyle()}},{key:"valueChanged",value:function(){var e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t),this.emitStyle(),this.ionChange.emit({value:null==this.value?this.value:this.value.toString()})}},{key:"componentWillLoad",value:function(){this.inheritedAttributes=Object.assign(Object.assign({},(0,sf.i)(this.el)),(0,sf.d)(this.el,["tabindex","title","data-form-type"]))}},{key:"connectedCallback",value:function(){this.emitStyle(),this.debounceChanged(),Vp.Z5.isBrowser&&document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}},{key:"componentDidLoad",value:function(){var e=this.nativeInput;e&&(e.addEventListener("compositionstart",this.onCompositionStart),e.addEventListener("compositionend",this.onCompositionEnd))}},{key:"disconnectedCallback",value:function(){Vp.Z5.isBrowser&&document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el}));var e=this.nativeInput;e&&(e.removeEventListener("compositionstart",this.onCompositionStart),e.removeEventListener("compositionEnd",this.onCompositionEnd))}},{key:"setFocus",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.nativeInput&&this.nativeInput.focus();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setBlur",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.nativeInput&&this.nativeInput.blur();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getInputElement",value:function(){return Promise.resolve(this.nativeInput)}},{key:"shouldClearOnEdit",value:function(){var e=this.type,t=this.clearOnEdit;return void 0===t?"password"===e:t}},{key:"getValue",value:function(){return"number"===typeof this.value?this.value.toString():(this.value||"").toString()}},{key:"emitStyle",value:function(){this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":void 0!==this.placeholder,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}},{key:"focusChanged",value:function(){!this.hasFocus&&this.shouldClearOnEdit()&&this.hasValue()&&(this.didBlurAfterEdit=!0)}},{key:"hasValue",value:function(){return this.getValue().length>0}},{key:"render",value:function(){var t,n=this,r=rf(this),i=this.getValue(),o=this.inputId+"-lbl",a=(0,sf.k)(this.el);return a&&(a.id=o),(0,Vp.h)(Vp.AA,{"aria-disabled":this.disabled?"true":null,class:vh(this.color,(t={},(0,e.Z)(t,r,!0),(0,e.Z)(t,"has-value",this.hasValue()),(0,e.Z)(t,"has-focus",this.hasFocus),t))},(0,Vp.h)("input",Object.assign({class:"native-input",ref:function(e){return n.nativeInput=e},"aria-labelledby":a?o:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:i,onInput:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&(0,Vp.h)("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:function(e){e.preventDefault()},onClick:this.clearTextInput},(0,Vp.h)("ion-icon",{"aria-hidden":"true",icon:"ios"===r?Gf:zf})))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}},{key:"style",get:function(){return{ios:".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:.5;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--background:transparent;--color:initial;display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;width:100%;padding:0 !important;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item.sc-ion-input-ios-h:not(.item-label),ion-item:not(.item-label) .sc-ion-input-ios-h{--padding-start:0}.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.native-input.sc-ion-input-ios{border-radius:var(--border-radius);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.native-input.sc-ion-input-ios{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.native-input[disabled].sc-ion-input-ios:not(.cloned-input){opacity:0.4}.cloned-input.sc-ion-input-ios{left:0;top:0;position:absolute;pointer-events:none}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{color:var(--ion-color-step-600, #666666)}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.sc-ion-input-ios-h{--padding-top:10px;--padding-end:10px;--padding-bottom:10px;--padding-start:0;font-size:inherit}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}",md:".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:.5;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--background:transparent;--color:initial;display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;width:100%;padding:0 !important;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item.sc-ion-input-md-h:not(.item-label),ion-item:not(.item-label) .sc-ion-input-md-h{--padding-start:0}.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.native-input.sc-ion-input-md{border-radius:var(--border-radius);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.native-input.sc-ion-input-md{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.native-input[disabled].sc-ion-input-md:not(.cloned-input){opacity:0.4}.cloned-input.sc-ion-input-md{left:0;top:0;position:absolute;pointer-events:none}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{color:var(--ion-color-step-600, #666666)}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px;font-size:inherit}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}"}}}]),r}(Vp.mv),[34,"ion-input",{fireFocusEvents:[4,"fire-focus-events"],color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],debounce:[2],disabled:[4],enterkeyhint:[1],inputmode:[1],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],setBlur:[64],getInputElement:[64]}]),Jv=0;var Xv=function(){if("undefined"!==typeof customElements){["ion-input","ion-icon"].forEach((function(e){switch(e){case"ion-input":customElements.get(e)||customElements.define(e,Qv);break;case"ion-icon":customElements.get(e)||ah()}}))}};Vp.mv;Vp.mv;Vp.mv;Vp.mv;var Kv,ey=function(e,t,n){return!t&&n||e&&t};var ty=Um;Vp.mv;Vp.mv;var ny=function(e,t,n,r,i){return iy(e[1],t[1],n[1],r[1],i).map((function(i){return ry(e[0],t[0],n[0],r[0],i)}))},ry=function(e,t,n,r,i){return i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3)},iy=function(e,t,n,r,i){return oy((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter((function(e){return e>=0&&e<=1}))},oy=function(e,t,n,r){if(0===e)return function(e,t,n){var r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]}(t,n,r);var i=(3*(n/=e)-(t/=e)*t)/3,o=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-o,1/3)];if(0===o)return[Math.sqrt(-i),-Math.sqrt(-i)];var a=Math.pow(o/2,2)+Math.pow(i/3,3);if(0===a)return[Math.pow(o/2,.5)-t/3];if(a>0)return[Math.pow(-o/2+Math.sqrt(a),1/3)-Math.pow(o/2+Math.sqrt(a),1/3)-t/3];var s=Math.sqrt(Math.pow(-i/3,3)),l=Math.acos(-o/(2*Math.sqrt(Math.pow(-i/3,3)))),c=2*Math.pow(s,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]},ay=function(e){return(0,Vf.c)().duration(e?400:300)},sy=function(e){var t,n,r=e.width+8,i=(0,Vf.c)(),o=(0,Vf.c)();e.isEndSide?(t=r+"px",n="0px"):(t=-r+"px",n="0px"),i.addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(".concat(n,")"));var a="ios"===rf(e),s=a?.2:.25;return o.addElement(e.backdropEl).fromTo("opacity",.01,s),ay(a).addAnimation([i,o])},ly=function(e){var t,n,r=rf(e),i=e.width;e.isEndSide?(t=-i+"px",n=i+"px"):(t=i+"px",n=-i+"px");var o=(0,Vf.c)().addElement(e.menuInnerEl).fromTo("transform","translateX(".concat(n,")"),"translateX(0px)"),a=(0,Vf.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")")),s=(0,Vf.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return ay("ios"===r).addAnimation([o,a,s])},cy=function(e){var t=rf(e),n=e.width*(e.isEndSide?-1:1)+"px",r=(0,Vf.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(n,")"));return ay("ios"===t).addAnimation(r)},uy=function(){var e=new Map,t=[],n=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.open());case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,void 0!==t?d(t):p();case 2:if(void 0===(n=e.sent)){e.next=5;break}return e.abrupt("return",n.close());case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",n.toggle());case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:return(r=e.sent)&&(r.disabled=!t),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:return(r=e.sent)&&(r.swipeGesture=t),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=7;break}return e.next=3,d(t);case 3:return n=e.sent,e.abrupt("return",void 0!==n&&n.isOpen());case 7:return e.next=9,p();case 9:return r=e.sent,e.abrupt("return",void 0!==r);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(!(n=e.sent)){e.next=5;break}return e.abrupt("return",!n.disabled);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n){var r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:if("start"!==n&&"end"!==n){e.next=9;break}if(!(r=w((function(e){return e.side===n&&!e.disabled})))){e.next=6;break}return e.abrupt("return",r);case 6:return e.abrupt("return",w((function(e){return e.side===n})));case 9:if(null==n){e.next=11;break}return e.abrupt("return",w((function(e){return e.menuId===n})));case 11:if(!(i=w((function(e){return!e.disabled})))){e.next=14;break}return e.abrupt("return",i);case 14:return e.abrupt("return",t.length>0?t[0].el:void 0);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.abrupt("return",g());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.abrupt("return",b());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.abrupt("return",x());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(t,n){e.set(t,n)},v=function(e){var n=e.side;t.filter((function(t){return t.side===n&&t!==e})).forEach((function(e){return e.disabled=!0}))},y=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x()){e.next=2;break}return e.abrupt("return",!1);case 2:if(!n){e.next=9;break}return e.next=5,p();case 5:if(!(i=e.sent)||t.el===i){e.next=9;break}return e.next=9,i.setOpen(!1,!1);case 9:return e.abrupt("return",t._setOpen(n,r));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),g=function(){return w((function(e){return e._isOpen}))},b=function(){return t.map((function(e){return e.el}))},x=function(){return t.some((function(e){return e.isAnimating}))},w=function(e){var n=t.find(e);if(void 0!==n)return n.el},k=function(){return Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((function(e){return new Promise((function(t){return(0,sf.c)(e,t)}))})))};return m("reveal",cy),m("push",ly),m("overlay",sy),"undefined"!==typeof document&&document.addEventListener("ionBackButton",(function(e){var t=g();t&&e.detail.register(af.MENU_BACK_BUTTON_PRIORITY,(function(){return t.close()}))})),{registerAnimation:m,get:d,getMenus:f,getOpen:p,isEnabled:u,swipeGesture:a,isAnimating:h,isOpen:c,enable:o,toggle:i,close:r,open:n,_getOpenSync:g,_createAnimation:function(t,n){var r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:function(e){t.indexOf(e)<0&&(e.disabled||v(e),t.push(e))},_unregister:function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:y,_setActiveMenu:v}},dy=uy(),py='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',fy=(Vp.mv,function(e,t,n){return Math.max(0,t!==n?-e:e)}),hy=function(e,t,n,r){return n?t>=e.innerWidth-r:t<=r},my="show-menu",vy="show-backdrop",yy="menu-content-open";var gy=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dy.get(t);case 2:if(n=e.sent,e.t0=n,!e.t0){e.next=8;break}return e.next=7,n.isActive();case 7:e.t0=e.sent;case 8:return e.abrupt("return",!!e.t0);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Vp.mv;Vp.mv;var by=function(){function e(t,n){(0,c.Z)(this,e),this.component=t,this.params=n,this.state=1}return(0,u.Z)(e,[{key:"init",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state=2,this.element){e.next=6;break}return n=this.component,e.next=5,qm(this.delegate,t,n,["ion-page","ion-page-invisible"],this.params);case 5:this.element=e.sent;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_destroy",value:function(){(0,sf.m)(3!==this.state,"view state must be ATTACHED");var e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}]),e}(),xy=function(e,t,n){return!!e&&(e.component===t&&(0,sf.s)(e.params,n))},wy=function(e,t){return e?e instanceof by?e:new by(e,t):null},ky=(0,Vp.GH)(function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.ionNavWillLoad=(0,Vp.yM)((0,Mp.Z)(e),"ionNavWillLoad",7),e.ionNavWillChange=(0,Vp.yM)((0,Mp.Z)(e),"ionNavWillChange",3),e.ionNavDidChange=(0,Vp.yM)((0,Mp.Z)(e),"ionNavDidChange",3),e.transInstr=[],e.animationEnabled=!0,e.useRouter=!1,e.isTransitioning=!1,e.destroyed=!1,e.views=[],e.animated=!0,e}return(0,u.Z)(r,[{key:"swipeGestureChanged",value:function(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}},{key:"rootChanged",value:function(){var e=Vp.Z5.isDev;void 0!==this.root&&(this.useRouter?e&&console.warn("<ion-nav> does not support a root attribute when using ion-router."):this.setRoot(this.root,this.rootParams))}},{key:"componentWillLoad",value:function(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){var e=rf(this);this.swipeGesture=Pp.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}},{key:"componentDidLoad",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rootChanged(),e.next=3,n.e(251).then(n.bind(n,8251));case 3:this.gesture=e.sent.createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connectedCallback",value:function(){this.destroyed=!1}},{key:"disconnectedCallback",value:function(){var e,t=(0,f.Z)(this.views);try{for(t.s();!(e=t.n()).done;){var n=e.value;(0,Qm.l)(n.element,Qm.d),n._destroy()}}catch(r){t.e(r)}finally{t.f()}this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}},{key:"push",value:function(e,t,n,r){return this.insert(-1,e,t,n,r)}},{key:"insert",value:function(e,t,n,r,i){return this.insertPages(e,[{component:t,componentProps:n}],r,i)}},{key:"insertPages",value:function(e,t,n,r){return this.queueTrns({insertStart:e,insertViews:t,opts:n},r)}},{key:"pop",value:function(e,t){return this.removeIndex(-1,1,e,t)}},{key:"popTo",value:function(e,t,n){var r={removeStart:-1,removeCount:-1,opts:t};return"object"===typeof e&&e.component?(r.removeView=e,r.removeStart=1):"number"===typeof e&&(r.removeStart=e+1),this.queueTrns(r,n)}},{key:"popToRoot",value:function(e,t){return this.removeIndex(1,-1,e,t)}},{key:"removeIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return this.queueTrns({removeStart:e,removeCount:t,opts:n},r)}},{key:"setRoot",value:function(e,t,n,r){return this.setPages([{component:e,componentProps:t}],n,r)}},{key:"setPages",value:function(e,t,n){return null!==t&&void 0!==t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},n)}},{key:"setRouteId",value:function(e,t,n,r){var i,o=this.getActiveSync();if(xy(o,e,t))return Promise.resolve({changed:!1,element:o.element});var a,c=new Promise((function(e){return i=e})),u={updateURL:!1,viewIsReady:function(e){var t,n=new Promise((function(e){return t=e}));return i({changed:!0,element:e,markVisible:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(),e.next=3,a;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),n}};if("root"===n)a=this.setRoot(e,t,u);else{var d=this.views.find((function(n){return xy(n,e,t)}));d?a=this.popTo(d,Object.assign(Object.assign({},u),{direction:"back",animationBuilder:r})):"forward"===n?a=this.push(e,t,Object.assign(Object.assign({},u),{animationBuilder:r})):"back"===n&&(a=this.setRoot(e,t,Object.assign(Object.assign({},u),{direction:"back",animated:!0,animationBuilder:r})))}return c}},{key:"getRouteId",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getActiveSync())){e.next=3;break}return e.abrupt("return",{id:t.element.tagName,params:t.params,element:t.element});case 3:return e.abrupt("return",void 0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getActive",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getActiveSync());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getByIndex",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.views[t]);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canGoBack",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.canGoBackSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPrevious",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getPreviousSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLength",value:function(){return this.views.length}},{key:"getActiveSync",value:function(){return this.views[this.views.length-1]}},{key:"canGoBackSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSync();return!(!e||!this.getPreviousSync(e))}},{key:"getPreviousSync",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getActiveSync();if(e){var t=this.views,n=t.indexOf(e);return n>0?t[n-1]:void 0}}},{key:"queueTrns",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isTransitioning||!(null===(r=t.opts)||void 0===r?void 0:r.skipIfBusy)){e.next=2;break}return e.abrupt("return",!1);case 2:if(o=new Promise((function(e,n){t.resolve=e,t.reject=n})),t.done=n,!t.opts||!1===t.opts.updateURL||!this.useRouter){e.next=15;break}if(!(a=document.querySelector("ion-router"))){e.next=15;break}return e.next=9,a.canTransition();case 9:if(!1!==(l=e.sent)){e.next=12;break}return e.abrupt("return",!1);case 12:if("string"!==typeof l){e.next=15;break}return a.push(l,t.opts.direction||"back"),e.abrupt("return",!1);case 15:return 0===(null===(i=t.insertViews)||void 0===i?void 0:i.length)&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"success",value:function(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){var n=document.querySelector("ion-router");if(n){var r="back"===e.direction?"back":"forward";n.navChanged(r)}}}},{key:"failed",value:function(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}},{key:"fireError",value:function(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}},{key:"nextTrns",value:function(){if(this.isTransitioning)return!1;var e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}},{key:"runTransition",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t),n=this.getActiveSync(),r=this.getEnteringView(t,n),n||r){e.next=8;break}throw new Error("no views in the stack to be removed");case 8:if(!r||1!==r.state){e.next=11;break}return e.next=11,r.init(this.el);case 11:if(this.postViewInit(r,n,t),(i=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&r!==n)&&t.opts&&n&&("back"===t.opts.direction&&(t.opts.animationBuilder=t.opts.animationBuilder||(null===r||void 0===r?void 0:r.animationBuilder)),n.animationBuilder=t.opts.animationBuilder),!i){e.next=20;break}return e.next=17,this.transition(r,n,t);case 17:o=e.sent,e.next=21;break;case 20:o={hasCompleted:!0,requiresTransition:!1};case 21:this.success(o,t),this.ionNavDidChange.emit(),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),this.failed(e.t0,t);case 28:this.isTransitioning=!1,this.nextTrns();case 30:case"end":return e.stop()}}),e,this,[[0,25]])})));return function(t){return e.apply(this,arguments)}}()},{key:"prepareTI",value:function(e){var t,n,r,i=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(n=(r=e.opts).delegate)&&void 0!==n||(r.delegate=this.delegate),void 0!==e.removeView){(0,sf.m)(void 0!==e.removeStart,"removeView needs removeStart"),(0,sf.m)(void 0!==e.removeCount,"removeView needs removeCount");var o=this.views.indexOf(e.removeView);if(o<0)throw new Error("removeView was not found");e.removeStart+=o}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=i-1),e.removeCount<0&&(e.removeCount=i-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===i),e.insertViews&&((e.insertStart<0||e.insertStart>i)&&(e.insertStart=i),e.enteringRequiresTransition=e.insertStart===i);var a=e.insertViews;if(a){(0,sf.m)(a.length>0,"length can not be zero");var s=a.map((function(e){return e instanceof by?e:"component"in e?wy(e.component,null===e.componentProps?void 0:e.componentProps):wy(e,void 0)})).filter((function(e){return null!==e}));if(0===s.length)throw new Error("invalid views to insert");var l,c=(0,f.Z)(s);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.delegate=e.opts.delegate;var d=u.nav;if(d&&d!==this)throw new Error("inserted view was already inserted");if(3===u.state)throw new Error("inserted view was already destroyed")}}catch(p){c.e(p)}finally{c.f()}e.insertViews=s}}},{key:"getEnteringView",value:function(e,t){var n=e.insertViews;if(void 0!==n)return n[n.length-1];var r=e.removeStart;if(void 0!==r)for(var i=this.views,o=r+e.removeCount,a=i.length-1;a>=0;a--){var s=i[a];if((a<r||a>=o)&&s!==t)return s}}},{key:"postViewInit",value:function(e,t,n){var r,i,o;(0,sf.m)(t||e,"Both leavingView and enteringView are null"),(0,sf.m)(n.resolve,"resolve must be valid"),(0,sf.m)(n.reject,"reject must be valid");var a,s=n.opts,l=n.insertViews,c=n.removeStart,u=n.removeCount;if(void 0!==c&&void 0!==u){(0,sf.m)(c>=0,"removeStart can not be negative"),(0,sf.m)(u>=0,"removeCount can not be negative"),a=[];for(var d=c;d<c+u;d++){var p=this.views[d];void 0!==p&&p!==e&&p!==t&&a.push(p)}null!==(r=s.direction)&&void 0!==r||(s.direction="back")}var h=this.views.length+(null!==(i=null===l||void 0===l?void 0:l.length)&&void 0!==i?i:0)-(null!==u&&void 0!==u?u:0);if((0,sf.m)(h>=0,"final balance can not be negative"),0===h)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){var m,v=n.insertStart,y=(0,f.Z)(l);try{for(y.s();!(m=y.n()).done;){var g=m.value;this.insertViewAt(g,v),v++}}catch(R){y.e(R)}finally{y.f()}n.enteringRequiresTransition&&(null!==(o=s.direction)&&void 0!==o||(s.direction="forward"))}if(a&&a.length>0){var b,x=(0,f.Z)(a);try{for(x.s();!(b=x.n()).done;){var w=b.value;(0,Qm.l)(w.element,Qm.b),(0,Qm.l)(w.element,Qm.c),(0,Qm.l)(w.element,Qm.d)}}catch(R){x.e(R)}finally{x.f()}var k,E=(0,f.Z)(a);try{for(E.s();!(k=E.n()).done;){var I=k.value;this.destroyView(I)}}catch(R){E.e(R)}finally{E.f()}}}},{key:"transition",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o,a,l,c,u,d,p,f=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.opts,o=i.progressAnimation?function(e){return f.sbAni=e}:void 0,a=rf(this),l=t.element,c=n&&n.element,u=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(t),baseEl:this.el,progressCallback:o,animated:this.animated&&Pp.getBoolean("animated",!0),enteringEl:l,leavingEl:c},i),{animationBuilder:i.animationBuilder||this.animation||Pp.get("navAnimation")}),e.next=8,(0,Qm.t)(u);case 8:return d=e.sent,p=d.hasCompleted,e.abrupt("return",this.transitionFinish(p,t,n,i));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transitionFinish",value:function(e,t,n,r){var i=e?t:n;return i&&this.unmountInactiveViews(i),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:n,direction:r.direction}}},{key:"insertViewAt",value:function(e,t){var n=this.views,r=n.indexOf(e);r>-1?((0,sf.m)(e.nav===this,"view is not part of the nav"),n.splice(r,1),n.splice(t,0,e)):((0,sf.m)(!e.nav,"nav is used"),e.nav=this,n.splice(t,0,e))}},{key:"removeView",value:function(e){(0,sf.m)(2===e.state||3===e.state,"view state should be loaded or destroyed");var t=this.views,n=t.indexOf(e);(0,sf.m)(n>-1,"view must be part of the stack"),n>=0&&t.splice(n,1)}},{key:"destroyView",value:function(e){e._destroy(),this.removeView(e)}},{key:"unmountInactiveViews",value:function(e){if(!this.destroyed)for(var t=this.views,n=t.indexOf(e),r=t.length-1;r>=0;r--){var i=t[r],o=i.element;o&&(r>n?((0,Qm.l)(o,Qm.d),this.destroyView(i)):r<n&&(0,Qm.s)(o,!0))}}},{key:"canStart",value:function(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.animationEnabled&&this.canGoBackSync()}},{key:"onStart",value:function(){this.pop({direction:"back",progressAnimation:!0})}},{key:"onMove",value:function(e){this.sbAni&&this.sbAni.progressStep(e)}},{key:"onEnd",value:function(e,t,n){var r=this;if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish((function(){r.animationEnabled=!0}),{oneTimeCallback:!0});var i=e?-.001:.001;e?i+=ny([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=ny([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,i,n)}}},{key:"render",value:function(){return(0,Vp.h)("slot",null)}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}},{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}]),r}(Vp.mv),[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);var Ey=function(){if("undefined"!==typeof customElements){["ion-nav"].forEach((function(e){if("ion-nav"===e)customElements.get(e)||customElements.define(e,ky)}))}};Vp.mv;Vp.mv;var Iy=function(){return(0,Vp.h)("div",{part:"track",class:"progress-buffer-bar"},(0,Vp.h)("div",{class:"indeterminate-bar-primary"},(0,Vp.h)("span",{part:"progress",class:"progress-indeterminate"})),(0,Vp.h)("div",{class:"indeterminate-bar-secondary"},(0,Vp.h)("span",{part:"progress",class:"progress-indeterminate"})))},Ry=function(e,t){var n=(0,sf.h)(0,e,1),r=(0,sf.h)(0,t,1);return[(0,Vp.h)("div",{part:"progress",class:"progress",style:{transform:"scaleX(".concat(n,")")}}),(0,Vp.h)("div",{class:{"buffer-circles-container":!0,"ion-hide":1===r},style:{transform:"translateX(".concat(100*r,"%)")}},(0,Vp.h)("div",{class:"buffer-circles-container",style:{transform:"translateX(-".concat(100*r,"%)")}},(0,Vp.h)("div",{part:"stream",class:"buffer-circles"}))),(0,Vp.h)("div",{part:"track",class:"progress-buffer-bar",style:{transform:"scaleX(".concat(r,")")}})]};Vp.mv;var Ty=0;Vp.mv;var _y=0;Vp.mv;var Sy=function(e,t){var n=t.knob,r=t.value,i=t.ratio,o=t.min,a=t.max,s=t.disabled,l=t.pressed,c=t.pin,u=t.handleKeyboard,d=t.labelText,p=t.pinFormatter,f=e?"right":"left";return(0,Vp.h)("div",{onKeyDown:function(e){var t=e.key;"ArrowLeft"===t||"ArrowDown"===t?(u(n,!1),e.preventDefault(),e.stopPropagation()):"ArrowRight"!==t&&"ArrowUp"!==t||(u(n,!0),e.preventDefault(),e.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":"A"===n,"range-knob-b":"B"===n,"range-knob-pressed":l,"range-knob-min":r===o,"range-knob-max":r===a,"ion-activatable":!0,"ion-focusable":!0},style:function(){var e={};return e[f]="".concat(100*i,"%"),e}(),role:"slider",tabindex:s?-1:0,"aria-label":d,"aria-valuemin":o,"aria-valuemax":a,"aria-disabled":s?"true":null,"aria-valuenow":r},c&&(0,Vp.h)("div",{class:"range-pin",role:"presentation",part:"pin"},p(r)),(0,Vp.h)("div",{class:"range-knob",role:"presentation",part:"knob"}))},Ay=function(e,t,n,r){var i=(n-t)*e;return r>0&&(i=Math.round(i/r)*r+t),(0,sf.h)(t,i,n)},Ny=function(e,t,n){return(0,sf.h)(0,(e-t)/(n-t),1)},Zy=0;var Cy=function(e){var t=e.previousElementSibling;return null!==t&&"ION-HEADER"===t.tagName?"translate":"scale"},Oy=function(e,t,n){return"scale"===e?My(t,n):Vy(t,n)},Dy=function(e){var t=e.querySelector("ion-spinner"),n=t.shadowRoot.querySelector("circle"),r=e.querySelector(".spinner-arrow-container"),i=e.querySelector(".arrow-container"),o=i?i.querySelector("ion-icon"):null,a=(0,Vf.c)().duration(1e3).easing("ease-out"),s=(0,Vf.c)().addElement(r).keyframes([{offset:0,opacity:"0.3"},{offset:.45,opacity:"0.3"},{offset:.55,opacity:"1"},{offset:1,opacity:"1"}]),l=(0,Vf.c)().addElement(n).keyframes([{offset:0,strokeDasharray:"1px, 200px"},{offset:.2,strokeDasharray:"1px, 200px"},{offset:.55,strokeDasharray:"100px, 200px"},{offset:1,strokeDasharray:"100px, 200px"}]),c=(0,Vf.c)().addElement(t).keyframes([{offset:0,transform:"rotate(-90deg)"},{offset:1,transform:"rotate(210deg)"}]);if(i&&o){var u=(0,Vf.c)().addElement(i).keyframes([{offset:0,transform:"rotate(0deg)"},{offset:.3,transform:"rotate(0deg)"},{offset:.55,transform:"rotate(280deg)"},{offset:1,transform:"rotate(400deg)"}]),d=(0,Vf.c)().addElement(o).keyframes([{offset:0,transform:"translateX(2px) scale(0)"},{offset:.3,transform:"translateX(2px) scale(0)"},{offset:.55,transform:"translateX(-1.5px) scale(1)"},{offset:1,transform:"translateX(-1.5px) scale(1)"}]);a.addAnimation([u,d])}return a.addAnimation([s,l,c])},My=function(e,t){var n=t.clientHeight,r=(0,Vf.c)().addElement(e).keyframes([{offset:0,transform:"scale(0) translateY(-".concat(n,"px)")},{offset:1,transform:"scale(1) translateY(100px)"}]);return Dy(e).addAnimation([r])},Vy=function(e,t){var n=t.clientHeight,r=(0,Vf.c)().addElement(e).keyframes([{offset:0,transform:"translateY(-".concat(n,"px)")},{offset:1,transform:"translateY(100px)"}]);return Dy(e).addAnimation([r])},Ly=function(e){return(0,Vf.c)().duration(125).addElement(e).fromTo("transform","translateY(var(--ion-pulling-refresher-translate, 100px))","translateY(0px)")},Py=function(e,t,n){(0,Vp.Iu)((function(){e.forEach((function(e,r){var i=r*(1/t),o=1-i,a=n-i,s=(0,sf.h)(0,a/o,1);e.style.setProperty("opacity",s.toString())}))}))},Uy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200;if(!e)return Promise.resolve();var r=(0,sf.t)(e,n);return(0,Vp.Iu)((function(){e.style.setProperty("transition","".concat(n,"ms all ease-out")),void 0===t?e.style.removeProperty("transform"):e.style.setProperty("transform","translate3d(0px, ".concat(t,", 0px)"))})),r},Fy=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.querySelector("ion-refresher-content")){e.next=3;break}return e.abrupt("return",Promise.resolve(!1));case 3:return e.next=5,new Promise((function(e){return(0,sf.c)(r,e)}));case 5:return i=t.querySelector("ion-refresher-content .refresher-pulling ion-spinner"),o=t.querySelector("ion-refresher-content .refresher-refreshing ion-spinner"),e.abrupt("return",null!==i&&null!==o&&("ios"===n&&zp("mobile")&&void 0!==t.style.webkitOverflowScrolling||"md"===n));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Vp.mv;Vp.mv;Vp.mv;Vp.mv;var By=function(e){return e.$ionIndex},jy=function(e,t){for(var n;e;){if((n=e.parentElement)===t)return e;e=n}},Hy=60,Gy=10,zy="reorder-selected",$y=function(e,t,n){var r=e[t];return e.splice(t,1),e.splice(n,0,r),e.slice()};Vp.mv;Vp.mv;Vp.mv;var qy=0;Vp.mv;var Yy=n(6497),Wy=function(e,t){var n,r,i=function(e,r,i){if("undefined"!==typeof document){var s=document.elementFromPoint(e,r);s&&t(s)?s!==n&&(a(),o(s,i)):a()}},o=function(e,t){n=e,r||(r=n);var i=n;(0,Vp.Iu)((function(){return i.classList.add("ion-activated")})),t()},a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n){var t=n;(0,Vp.Iu)((function(){return t.classList.remove("ion-activated")})),e&&r!==n&&n.click(),n=void 0}};return(0,Yy.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:function(e){return i(e.currentX,e.currentY,jm)},onMove:function(e){return i(e.currentX,e.currentY,Hm)},onEnd:function(){a(!0),Gm(),r=void 0}})},Qy=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},Jy=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,r])},Xy=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},Ky=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".action-sheet-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(450).addAnimation([n,r])},eg=(Vp.mv,function(t){return Object.assign((0,e.Z)({"action-sheet-button":!0,"ion-activatable":!0,"ion-focusable":!0},"action-sheet-".concat(t.role),void 0!==t.role),yh(t.cssClass))});var tg=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},ng=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},rg=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([n,r])},ig=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([n,r])},og=(Vp.mv,function(e){var t,n,r;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(n=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==n?n:e.disabled)||!1},yh(e.cssClass)),yh(e.attributes?null===(r=e.attributes.class)||void 0===r?void 0:r.toString():""))}),ag=function(t){return Object.assign((0,e.Z)({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0},"alert-button-role-".concat(t.role),void 0!==t.role),yh(t.cssClass))};Vp.mv;var sg=function(e,t,n){if("undefined"!==typeof MutationObserver){var r=new MutationObserver((function(e){n(lg(e,t))}));return r.observe(e,{childList:!0,subtree:!0}),r}},lg=function(e,t){var n;return e.forEach((function(e){for(var r=0;r<e.addedNodes.length;r++)n=cg(e.addedNodes[r],t)||n})),n},cg=function(e,t){if(1===e.nodeType)return(e.tagName===t.toUpperCase()?[e]:Array.from(e.querySelectorAll(t))).find((function(t){return t.value===e.value}))},ug=(Vp.mv,function(e,t,n){return void 0!==e&&(Array.isArray(e)?e.some((function(e){return fg(e,t,n)})):fg(e,t,n))}),dg=function(e){var t=e.value;return void 0===t?e.textContent||"":t},pg=function(e){if(null!=e)return Array.isArray(e)?e.join(","):e.toString()},fg=function(e,t,n){return"function"===typeof n?n(e,t):"string"===typeof n?e[n]===t[n]:Array.isArray(t)?t.includes(e):e===t},hg=function(e,t,n){return void 0===t?"":Array.isArray(t)?t.map((function(t){return mg(e,t,n)})).filter((function(e){return null!==e})).join(", "):mg(e,t,n)||""},mg=function(e,t,n){var r=e.find((function(e){return fg(t,dg(e),n)}));return r?r.textContent:null},vg=0,yg="select-interface-option";Vp.mv;var gg=0;Vp.mv;Vp.mv;Vp.mv;var bg=function(e){return Promise.all(Array.from(e.querySelectorAll("ion-slide")).map((function(e){return new Promise((function(t){return(0,sf.c)(e,t)}))})))};var xg="split-pane-main",wg="split-pane-side",kg={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",never:""},Eg=(Vp.mv,function(e,t){var n,r;t?(n=xg,r=wg):(n=wg,r=xg);var i=e.classList;i.add(n),i.remove(r)});Vp.mv;Vp.mv;Vp.mv;var Ig=0;Vp.mv;var Rg=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionStyle=(0,Vp.yM)((0,Mp.Z)(e),"ionStyle",7),e}return(0,u.Z)(r,[{key:"sizeChanged",value:function(){this.emitStyle()}},{key:"connectedCallback",value:function(){this.emitStyle()}},{key:"emitStyle",value:function(){var t=this.getSize();this.ionStyle.emit((0,e.Z)({},"title-".concat(t),!0))}},{key:"getSize",value:function(){return void 0!==this.size?this.size:"default"}},{key:"render",value:function(){var t,n=rf(this),r=this.getSize();return(0,Vp.h)(Vp.AA,{class:vh(this.color,(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,"title-".concat(r),!0),(0,e.Z)(t,"title-rtl","rtl"===document.dir),t))},(0,Vp.h)("div",{class:"toolbar-title"},(0,Vp.h)("slot",null)))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{size:["sizeChanged"]}}},{key:"style",get:function(){return{ios:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{left:0;top:0;padding-left:90px;padding-right:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px}}:host(.title-small){padding-left:9px;padding-right:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.title-small){padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}:host(.title-large){padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;padding-bottom:6px;font-size:34px;font-weight:700;text-align:start}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.title-large){padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}",md:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{padding-left:20px;padding-right:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px}}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}"}}}]),r}(Vp.mv),[33,"ion-title",{color:[513],size:[1]}]);var Tg=function(){if("undefined"!==typeof customElements){["ion-title"].forEach((function(e){if("ion-title"===e)customElements.get(e)||customElements.define(e,Rg)}))}},_g=(Vp.mv,function(e,t,n,r){return t?!e&&r>n||e&&-r<n:!e&&-r<n||e&&r>n}),Sg=0;var Ag=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.childrenStyles=new Map,e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){var e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find((function(e){return"start"===e.slot}));t&&t.classList.add("buttons-first-slot");var n=e.reverse(),r=n.find((function(e){return"end"===e.slot}))||n.find((function(e){return"primary"===e.slot}))||n.find((function(e){return"secondary"===e.slot}));r&&r.classList.add("buttons-last-slot")}},{key:"childrenStyle",value:function(e){e.stopPropagation();var t=e.target.tagName,n=e.detail,r={},i=this.childrenStyles.get(t)||{},o=!1;Object.keys(n).forEach((function(e){var t="toolbar-".concat(e),a=n[e];a!==i[t]&&(o=!0),a&&(r[t]=!0)})),o&&(this.childrenStyles.set(t,r),(0,Vp.xE)(this))}},{key:"render",value:function(){var t,n=rf(this),r={};return this.childrenStyles.forEach((function(e){Object.assign(r,e)})),(0,Vp.h)(Vp.AA,{class:Object.assign(Object.assign({},r),vh(this.color,(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,"in-toolbar",mh("ion-toolbar",this.el)),t)))},(0,Vp.h)("div",{class:"toolbar-background"}),(0,Vp.h)("div",{class:"toolbar-container"},(0,Vp.h)("slot",{name:"start"}),(0,Vp.h)("slot",{name:"secondary"}),(0,Vp.h)("div",{class:"toolbar-content"},(0,Vp.h)("slot",null)),(0,Vp.h)("slot",{name:"primary"}),(0,Vp.h)("slot",{name:"end"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toolbar-container{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",md:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toolbar-container{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){margin-left:4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(.buttons-first-slot){margin-left:unset;-webkit-margin-start:4px;margin-inline-start:4px}}::slotted(.buttons-last-slot){margin-right:4px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(.buttons-last-slot){margin-right:unset;-webkit-margin-end:4px;margin-inline-end:4px}}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}"}}}]),r}(Vp.mv),[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);var Ng=function(){if("undefined"!==typeof customElements){["ion-toolbar"].forEach((function(e){if("ion-toolbar"===e)customElements.get(e)||customElements.define(e,Ag)}))}},Zg="item",Cg="header",Og="footer",Dg=function(e,t){var n=Mg(e,t);return n&&null!==e.ownerDocument?e.ownerDocument.importNode(n.content,!0).children[0]:null},Mg=function(e,t){switch(t){case Zg:return e.querySelector("template:not([name])");case Cg:return e.querySelector("template[name=header]");case Og:return e.querySelector("template[name=footer]")}},Vg=function(e,t){var n=e.length>0?e[e.length-1].index:0;return 0===t?0:t===n+1?e.length:e.findIndex((function(e){return e.index===t}))},Lg=function(e,t,n){if(0===n&&t.length>=e.length)return t;for(var r=0;r<t.length;r++)e[r+n]=t[r];return e},Pg=function(e,t,n,r,i,o,a,s,l,c,u,d){for(var p=[],f=d+u,h=u;h<f;h++){var m=e[h];if(i){var v=i(m,h,e);null!=v&&p.push({i:c++,type:Cg,value:v,index:h,height:n?n(v,h):a,reads:n?0:2,visible:!!n})}if(p.push({i:c++,type:Zg,value:m,index:h,height:t?t(m,h):l,reads:t?0:2,visible:!!t}),o){var y=o(m,h,e);null!=y&&p.push({i:c++,type:Og,value:y,index:h,height:r?r(y,h):s,reads:r?0:2,visible:!!r})}}return p},Ug=function(e,t,n){for(var r=e[n],i=n;i<e.length;i++)e[i]=r,r+=t[i].height;return r},Fg=function(e,t){if(!e)return new Uint32Array(t);if(e.length===t)return e;if(t>e.length){var n=new Uint32Array(t);return n.set(e),n}return e.subarray(0,t)},Bg=(Vp.mv,function(e,t,n){var r=e.dom;return n.map(t,(function(e,t){var n=r[t],i=e.vattrs||{},o=i.class||"";return o+="virtual-item ",n.visible||(o+="virtual-loading"),Object.assign(Object.assign({},e),{vattrs:Object.assign(Object.assign({},i),{class:o,style:Object.assign(Object.assign({},i.style),{transform:"translate3d(0,".concat(n.top,"px,0)")})})})}))});Vp.mv;var jg=Vm;Vp.mv;var Hg=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionFocus=(0,Vp.yM)((0,Mp.Z)(e),"ionFocus",7),e.ionBlur=(0,Vp.yM)((0,Mp.Z)(e),"ionBlur",7),e.fab=null,e.inheritedAttributes={},e.activated=!1,e.disabled=!1,e.routerDirection="forward",e.show=!1,e.translucent=!1,e.type="button",e.closeIcon="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",e.onFocus=function(){e.ionFocus.emit()},e.onBlur=function(){e.ionBlur.emit()},e.onClick=function(){var t=(0,Mp.Z)(e).fab;t&&t.toggle()},e}return(0,u.Z)(r,[{key:"connectedCallback",value:function(){this.fab=this.el.closest("ion-fab")}},{key:"componentWillLoad",value:function(){this.inheritedAttributes=(0,sf.i)(this.el)}},{key:"render",value:function(){var t,n=this,r=this.el,i=this.disabled,o=this.color,a=this.href,s=this.activated,l=this.show,c=this.translucent,u=this.size,d=this.inheritedAttributes,p=mh("ion-fab-list",r),f=rf(this),h=void 0===a?"button":"a",m="button"===h?{type:this.type}:{download:this.download,href:a,rel:this.rel,target:this.target};return(0,Vp.h)(Vp.AA,{onClick:this.onClick,"aria-disabled":i?"true":null,class:vh(o,(t={},(0,e.Z)(t,f,!0),(0,e.Z)(t,"fab-button-in-list",p),(0,e.Z)(t,"fab-button-translucent-in-list",p&&c),(0,e.Z)(t,"fab-button-close-active",s),(0,e.Z)(t,"fab-button-show",l),(0,e.Z)(t,"fab-button-disabled",i),(0,e.Z)(t,"fab-button-translucent",c),(0,e.Z)(t,"ion-activatable",!0),(0,e.Z)(t,"ion-focusable",!0),(0,e.Z)(t,"fab-button-".concat(u),void 0!==u),t))},(0,Vp.h)(h,Object.assign({},m,{class:"button-native",part:"native",disabled:i,onFocus:this.onFocus,onBlur:this.onBlur,onClick:function(e){return bh(a,e,n.routerDirection,n.routerAnimation)}},d),(0,Vp.h)("ion-icon",{icon:this.closeIcon,part:"close-icon",class:"close-icon",lazy:!1}),(0,Vp.h)("span",{class:"button-inner"},(0,Vp.h)("slot",null)),"md"===f&&(0,Vp.h)("ion-ripple-effect",null)))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--background-hover:var(--ion-color-primary-contrast, #fff);--background-hover-opacity:.08;--transition:background-color, opacity 100ms linear;--ripple-color:currentColor;--border-radius:50%;--border-width:0;--border-style:none;--border-color:initial;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:56px;height:56px;font-size:14px;text-align:center;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transform:var(--transform);transform:var(--transform);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);background-clip:padding-box;color:var(--color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:strict;cursor:pointer;overflow:hidden;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}::slotted(ion-icon){line-height:1}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{left:0;right:0;top:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;z-index:1}:host(.fab-button-disabled){cursor:default;opacity:0.5;pointer-events:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-activated) .button-native{color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}::slotted(ion-icon){line-height:1}:host(.fab-button-small){margin-left:8px;margin-right:8px;margin-top:8px;margin-bottom:8px;width:40px;height:40px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.fab-button-small){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px}}.close-icon{margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;left:0;right:0;top:0;position:absolute;height:100%;-webkit-transform:scale(0.4) rotateZ(-45deg);transform:scale(0.4) rotateZ(-45deg);-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;font-size:var(--close-icon-font-size);opacity:0;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.close-icon{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.fab-button-close-active) .close-icon{-webkit-transform:scale(1) rotateZ(0deg);transform:scale(1) rotateZ(0deg);opacity:1}:host(.fab-button-close-active) .button-inner{-webkit-transform:scale(0.4) rotateZ(45deg);transform:scale(0.4) rotateZ(45deg);opacity:0}ion-ripple-effect{color:var(--ripple-color)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent) .button-native{-webkit-backdrop-filter:var(--backdrop-filter);backdrop-filter:var(--backdrop-filter)}}:host(.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{--background:var(--ion-color-primary, #3880ff);--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1;--color:var(--ion-color-primary-contrast, #fff);--box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);--transition:0.2s transform cubic-bezier(0.25, 1.11, 0.78, 1.59);--close-icon-font-size:28px}:host(.ion-activated){--box-shadow:0 4px 16px rgba(0, 0, 0, 0.12);--transform:scale(1.1);--transition:0.2s transform ease-out}::slotted(ion-icon){font-size:28px}:host(.fab-button-in-list){--background:var(--ion-color-light, #f4f5f8);--background-activated:var(--ion-color-light-shade, #d7d8da);--background-focused:var(--background-activated);--background-hover:var(--ion-color-light-tint, #f5f6f9);--color:var(--ion-color-light-contrast, #000);--color-activated:var(--ion-color-light-contrast, #000);--color-focused:var(--color-activated);--transition:transform 200ms ease 10ms, opacity 200ms ease 10ms}:host(.fab-button-in-list) ::slotted(ion-icon){font-size:18px}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}:host(.ion-color.ion-focused) .button-native,:host(.ion-color.ion-activated) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .button-native::after,:host(.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-contrast)}:host(.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent){--background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.9);--background-hover:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.8);--background-focused:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.82);--backdrop-filter:saturate(180%) blur(20px)}:host(.fab-button-translucent-in-list){--background:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.9);--background-hover:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.8);--background-focused:rgba(var(--ion-color-light-rgb, 244, 245, 248), 0.82)}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){@media (any-hover: hover){:host(.fab-button-translucent.ion-color:hover) .button-native{background:rgba(var(--ion-color-base-rgb), 0.8)}}:host(.ion-color.fab-button-translucent) .button-native{background:rgba(var(--ion-color-base-rgb), 0.9)}:host(.ion-color.ion-focused.fab-button-translucent) .button-native,:host(.ion-color.ion-activated.fab-button-translucent) .button-native{background:var(--ion-color-base)}}',md:':host{--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--background-hover:var(--ion-color-primary-contrast, #fff);--background-hover-opacity:.08;--transition:background-color, opacity 100ms linear;--ripple-color:currentColor;--border-radius:50%;--border-width:0;--border-style:none;--border-color:initial;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:56px;height:56px;font-size:14px;text-align:center;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;-webkit-transform:var(--transform);transform:var(--transform);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);background-clip:padding-box;color:var(--color);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:strict;cursor:pointer;overflow:hidden;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-box-sizing:border-box;box-sizing:border-box}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}::slotted(ion-icon){line-height:1}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{left:0;right:0;top:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;z-index:1}:host(.fab-button-disabled){cursor:default;opacity:0.5;pointer-events:none}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-activated) .button-native{color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}::slotted(ion-icon){line-height:1}:host(.fab-button-small){margin-left:8px;margin-right:8px;margin-top:8px;margin-bottom:8px;width:40px;height:40px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.fab-button-small){margin-left:unset;margin-right:unset;-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px}}.close-icon{margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;left:0;right:0;top:0;position:absolute;height:100%;-webkit-transform:scale(0.4) rotateZ(-45deg);transform:scale(0.4) rotateZ(-45deg);-webkit-transition:all ease-in-out 300ms;transition:all ease-in-out 300ms;-webkit-transition-property:opacity, -webkit-transform;transition-property:opacity, -webkit-transform;transition-property:transform, opacity;transition-property:transform, opacity, -webkit-transform;font-size:var(--close-icon-font-size);opacity:0;z-index:1}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.close-icon{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}:host(.fab-button-close-active) .close-icon{-webkit-transform:scale(1) rotateZ(0deg);transform:scale(1) rotateZ(0deg);opacity:1}:host(.fab-button-close-active) .button-inner{-webkit-transform:scale(0.4) rotateZ(45deg);transform:scale(0.4) rotateZ(45deg);opacity:0}ion-ripple-effect{color:var(--ripple-color)}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.fab-button-translucent) .button-native{-webkit-backdrop-filter:var(--backdrop-filter);backdrop-filter:var(--backdrop-filter)}}:host(.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host{--background:var(--ion-color-primary, #3880ff);--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--color:var(--ion-color-primary-contrast, #fff);--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1), background-color 280ms cubic-bezier(0.4, 0, 0.2, 1), color 280ms cubic-bezier(0.4, 0, 0.2, 1), opacity 15ms linear 30ms, transform 270ms cubic-bezier(0, 0, 0.2, 1) 0ms;--close-icon-font-size:24px}:host(.ion-activated){--box-shadow:0 7px 8px -4px rgba(0, 0, 0, 0.2), 0 12px 17px 2px rgba(0, 0, 0, 0.14), 0 5px 22px 4px rgba(0, 0, 0, 0.12)}::slotted(ion-icon){font-size:24px}:host(.fab-button-in-list){--color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);--color-activated:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);--color-focused:var(--color-activated);--background:var(--ion-color-light, #f4f5f8);--background-activated:transparent;--background-focused:var(--ion-color-light-shade, #d7d8da);--background-hover:var(--ion-color-light-tint, #f5f6f9)}:host(.fab-button-in-list) ::slotted(ion-icon){font-size:18px}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.ion-color.ion-activated) .button-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activated) .button-native::after{background:transparent}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-contrast)}:host(.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}}'}}}]),r}(Vp.mv),[33,"ion-fab-button",{color:[513],activated:[4],disabled:[4],download:[1],href:[1],rel:[1],routerDirection:[1,"router-direction"],routerAnimation:[16],target:[1],show:[4],translucent:[4],type:[1],size:[1],closeIcon:[1,"close-icon"]}]);var Gg=Hg;Vp.mv;var zg=Lm;Vp.mv;var $g=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},qg=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},Yg=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.01,transform:"scale(1.1)"},{offset:1,opacity:1,transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])},Wg=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),r.addElement(e.querySelector(".loading-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([n,r])};Vp.mv;var Qg=function(e,t){var n=(0,Vf.c)(),r=(0,Vf.c)(),i=(0,sf.g)(e).querySelector(".toast-wrapper");switch(r.addElement(i),t){case"top":r.fromTo("transform","translateY(-100%)","translateY(".concat("calc(10px + var(--ion-safe-area-top, 0px))",")"));break;case"middle":var o=Math.floor(e.clientHeight/2-i.clientHeight/2);i.style.top="".concat(o,"px"),r.fromTo("opacity",.01,1);break;default:r.fromTo("transform","translateY(100%)","translateY(".concat("calc(-10px - var(--ion-safe-area-bottom, 0px))",")"))}return n.easing("cubic-bezier(.155,1.105,.295,1.12)").duration(400).addAnimation(r)},Jg=function(e,t){var n=(0,Vf.c)(),r=(0,Vf.c)(),i=(0,sf.g)(e).querySelector(".toast-wrapper");switch(r.addElement(i),t){case"top":r.fromTo("transform","translateY(".concat("calc(10px + var(--ion-safe-area-top, 0px))",")"),"translateY(-100%)");break;case"middle":r.fromTo("opacity",.99,0);break;default:r.fromTo("transform","translateY(".concat("calc(-10px - var(--ion-safe-area-bottom, 0px))",")"),"translateY(100%)")}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(r)},Xg=function(e,t){var n=(0,Vf.c)(),r=(0,Vf.c)(),i=(0,sf.g)(e).querySelector(".toast-wrapper");switch(r.addElement(i),t){case"top":i.style.top="calc(8px + var(--ion-safe-area-top, 0px))",r.fromTo("opacity",.01,1);break;case"middle":var o=Math.floor(e.clientHeight/2-i.clientHeight/2);i.style.top="".concat(o,"px"),r.fromTo("opacity",.01,1);break;default:i.style.bottom="calc(8px + var(--ion-safe-area-bottom, 0px))",r.fromTo("opacity",.01,1)}return n.easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation(r)},Kg=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,sf.g)(e).querySelector(".toast-wrapper");return n.addElement(r).fromTo("opacity",.99,0),t.easing("cubic-bezier(.36,.66,.04,1)").duration(300).addAnimation(n)},eb=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.didPresent=(0,Vp.yM)((0,Mp.Z)(e),"ionToastDidPresent",7),e.willPresent=(0,Vp.yM)((0,Mp.Z)(e),"ionToastWillPresent",7),e.willDismiss=(0,Vp.yM)((0,Mp.Z)(e),"ionToastWillDismiss",7),e.didDismiss=(0,Vp.yM)((0,Mp.Z)(e),"ionToastDidDismiss",7),e.presented=!1,e.duration=Pp.getNumber("toastDuration",0),e.keyboardClose=!1,e.position="bottom",e.translucent=!1,e.animated=!0,e.dispatchCancelHandler=function(t){var n=t.detail.role;if(Zf(n)){var r=e.getButtons().find((function(e){return"cancel"===e.role}));e.callButtonHandler(r)}},e}return(0,u.Z)(r,[{key:"connectedCallback",value:function(){mf(this.el)}},{key:"present",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,If(this,"toastEnter",Qg,Xg,this.position);case 2:this.duration>0&&(this.durationTimeout=setTimeout((function(){return t.dismiss(void 0,"timeout")}),this.duration));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dismiss",value:function(e,t){return this.durationTimeout&&clearTimeout(this.durationTimeout),Tf(this,e,t,"toastLeave",Jg,Kg,this.position)}},{key:"onDidDismiss",value:function(){return Af(this.el,"ionToastDidDismiss")}},{key:"onWillDismiss",value:function(){return Af(this.el,"ionToastWillDismiss")}},{key:"getButtons",value:function(){return this.buttons?this.buttons.map((function(e){return"string"===typeof e?{text:e}:e})):[]}},{key:"buttonClick",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.role,!Zf(n)){e.next=3;break}return e.abrupt("return",this.dismiss(void 0,n));case 3:return e.next=5,this.callButtonHandler(t);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",this.dismiss(void 0,n));case 8:return e.abrupt("return",Promise.resolve());case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"callButtonHandler",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.handler)){e.next=12;break}return e.prev=1,e.next=4,Of(t.handler);case 4:if(!1!==e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderButtons",value:function(t,n){var r=this;if(0!==t.length){var i=rf(this),o=(0,e.Z)({"toast-button-group":!0},"toast-button-group-".concat(n),!0);return(0,Vp.h)("div",{class:o},t.map((function(e){return(0,Vp.h)("button",{type:"button",class:tb(e),tabIndex:0,onClick:function(){return r.buttonClick(e)},part:"button"},(0,Vp.h)("div",{class:"toast-button-inner"},e.icon&&(0,Vp.h)("ion-icon",{icon:e.icon,slot:void 0===e.text?"icon-only":void 0,class:"toast-button-icon"}),e.text),"md"===i&&(0,Vp.h)("ion-ripple-effect",{type:void 0!==e.icon&&void 0===e.text?"unbounded":"bounded"}))})))}}},{key:"render",value:function(){var t=this.getButtons(),n=t.filter((function(e){return"start"===e.side})),r=t.filter((function(e){return"start"!==e.side})),i=rf(this),o=(0,e.Z)({"toast-wrapper":!0},"toast-".concat(this.position),!0),a=t.length>0?"dialog":"status";return(0,Vp.h)(Vp.AA,Object.assign({"aria-live":"polite","aria-atomic":"true",role:a,tabindex:"-1"},this.htmlAttributes,{style:{zIndex:"".concat(6e4+this.overlayIndex)},class:vh(this.color,Object.assign(Object.assign((0,e.Z)({},i,!0),yh(this.cssClass)),{"overlay-hidden":!0,"toast-translucent":this.translucent})),onIonToastWillDismiss:this.dispatchCancelHandler}),(0,Vp.h)("div",{class:o},(0,Vp.h)("div",{class:"toast-container",part:"container"},this.renderButtons(n,"start"),void 0!==this.icon&&(0,Vp.h)("ion-icon",{class:"toast-icon",part:"icon",icon:this.icon,lazy:!1,"aria-hidden":"true"}),(0,Vp.h)("div",{class:"toast-content"},void 0!==this.header&&(0,Vp.h)("div",{class:"toast-header",part:"header"},this.header),void 0!==this.message&&(0,Vp.h)("div",{class:"toast-message",part:"message",innerHTML:Uv(this.message)})),this.renderButtons(r,"end"))))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-50, #f2f2f2);--border-radius:14px;--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-850, #262626);--max-width:700px;--start:10px;--end:10px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.toast-translucent) .toast-wrapper{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.toast-wrapper.toast-top{-webkit-transform:translate3d(0,  -100%,  0);transform:translate3d(0,  -100%,  0);top:0}.toast-wrapper.toast-middle{opacity:0.01}.toast-wrapper.toast-bottom{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0);bottom:0}.toast-content{padding-left:15px;padding-right:15px;padding-top:15px;padding-bottom:15px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-header{margin-bottom:2px;font-weight:500}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;height:44px;-webkit-transition:background-color, opacity 100ms linear;transition:background-color, opacity 100ms linear;border:0;background-color:transparent;font-family:var(--ion-font-family);font-size:17px;font-weight:500;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button.ion-activated{opacity:0.4}@media (any-hover: hover){.toast-button:hover{opacity:0.6}}",md:":host{--border-width:0;--border-style:none;--border-color:initial;--box-shadow:none;--min-width:auto;--width:auto;--min-height:auto;--height:auto;--max-height:auto;--white-space:normal;left:0;top:0;display:block;position:absolute;width:100%;height:100%;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);contain:strict;z-index:1001;pointer-events:none}:host-context([dir=rtl]){left:unset;right:unset;right:0}:host(.overlay-hidden){display:none}:host(.ion-color){--button-color:inherit;color:var(--ion-color-contrast)}:host(.ion-color) .toast-button-cancel{color:inherit}:host(.ion-color) .toast-wrapper{background:var(--ion-color-base)}.toast-wrapper{border-radius:var(--border-radius);left:var(--start);right:var(--end);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}[dir=rtl] .toast-wrapper,:host-context([dir=rtl]) .toast-wrapper{left:unset;right:unset;left:var(--end);right:var(--start)}.toast-container{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;pointer-events:auto;height:inherit;min-height:inherit;max-height:inherit;contain:content}.toast-content{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.toast-icon{margin-left:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-icon{margin-left:unset;-webkit-margin-start:16px;margin-inline-start:16px}}.toast-message{-ms-flex:1;flex:1;white-space:var(--white-space)}.toast-button-group{display:-ms-flexbox;display:flex}.toast-button{border:0;outline:none;color:var(--button-color);z-index:0}.toast-icon,.toast-button-icon{font-size:1.4em}.toast-button-inner{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}@media (any-hover: hover){.toast-button:hover{cursor:pointer}}:host{--background:var(--ion-color-step-800, #333333);--border-radius:4px;--box-shadow:0 3px 5px -1px rgba(0, 0, 0, 0.2), 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12);--button-color:var(--ion-color-primary, #3880ff);--color:var(--ion-color-step-50, #f2f2f2);--max-width:700px;--start:8px;--end:8px;font-size:14px}.toast-wrapper{margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;display:block;position:absolute;opacity:0.01;z-index:10}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-wrapper{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.toast-content{padding-left:16px;padding-right:16px;padding-top:14px;padding-bottom:14px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-content{padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}.toast-header{margin-bottom:2px;font-weight:500;line-height:20px}.toast-message{line-height:20px}.toast-button-group-start{margin-left:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-start{margin-left:unset;-webkit-margin-start:8px;margin-inline-start:8px}}.toast-button-group-end{margin-right:8px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-group-end{margin-right:unset;-webkit-margin-end:8px;margin-inline-end:8px}}.toast-button{padding-left:15px;padding-right:15px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;font-family:var(--ion-font-family);font-size:14px;font-weight:500;letter-spacing:0.84px;text-transform:uppercase;overflow:hidden}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button{padding-left:unset;padding-right:unset;-webkit-padding-start:15px;padding-inline-start:15px;-webkit-padding-end:15px;padding-inline-end:15px}}.toast-button-cancel{color:var(--ion-color-step-100, #e6e6e6)}.toast-button-icon-only{border-radius:50%;padding-left:9px;padding-right:9px;padding-top:9px;padding-bottom:9px;width:36px;height:36px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.toast-button-icon-only{padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}@media (any-hover: hover){.toast-button:hover{background-color:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.08)}.toast-button-cancel:hover{background-color:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.08)}}"}}}]),r}(Vp.mv),[33,"ion-toast",{overlayIndex:[2,"overlay-index"],color:[513],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],duration:[2],header:[1],message:[1],keyboardClose:[4,"keyboard-close"],position:[1],buttons:[16],translucent:[4],animated:[4],icon:[1],htmlAttributes:[16],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]}]),tb=function(t){var n;return Object.assign((n={"toast-button":!0,"toast-button-icon-only":void 0!==t.icon&&void 0===t.text},(0,e.Z)(n,"toast-button-".concat(t.role),void 0!==t.role),(0,e.Z)(n,"ion-focusable",!0),(0,e.Z)(n,"ion-activatable",!0),n),yh(t.cssClass))};var nb=function(){if("undefined"!==typeof customElements){["ion-toast","ion-icon","ion-ripple-effect"].forEach((function(e){switch(e){case"ion-toast":customElements.get(e)||customElements.define(e,eb);break;case"ion-icon":customElements.get(e)||ah();break;case"ion-ripple-effect":customElements.get(e)||Sh()}}))}},rb=(Vp.mv,"picker-opt-selected"),ib=.97,ob=90,ab=150;var sb=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),r.addElement(e.querySelector(".picker-wrapper")).fromTo("transform","translateY(100%)","translateY(0%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},lb=function(e){var t=(0,Vf.c)(),n=(0,Vf.c)(),r=(0,Vf.c)();return n.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",.01),r.addElement(e.querySelector(".picker-wrapper")).fromTo("transform","translateY(0%)","translateY(100%)"),t.addElement(e).easing("cubic-bezier(.36,.66,.04,1)").duration(400).addAnimation([n,r])},cb=(Vp.mv,function(t){var n;return n={},(0,e.Z)(n,"picker-toolbar-".concat(t.role),void 0!==t.role),(0,e.Z)(n,"picker-toolbar-button",!0),n}),ub=function(e){return Object.assign({"picker-button":!0,"ion-activatable":!0},yh(e.cssClass))};var db,pb=n(598);!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(db||(db={}));var fb={getEngine:function(){var e;return(null===(e=null===Iv.w||void 0===Iv.w?void 0:Iv.w.Capacitor)||void 0===e?void 0:e.isPluginAvailable("StatusBar"))&&(null===Iv.w||void 0===Iv.w?void 0:Iv.w.Capacitor.Plugins.StatusBar)},supportsDefaultStatusBarStyle:function(){var e;return!!(null===(e=null===Iv.w||void 0===Iv.w?void 0:Iv.w.Capacitor)||void 0===e?void 0:e.PluginHeaders)},setStyle:function(e){var t=this.getEngine();t&&t.setStyle(e)},getStyle:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getEngine()){e.next=3;break}return e.abrupt("return",db.Default);case 3:return e.next=5,t.getInfo();case 5:return n=e.sent,r=n.style,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},hb=function(e,t){if(1===t)return 0;var n=1/(1-t);return e*n+-t*n},mb=function(){!Iv.w||Iv.w.innerWidth>=768||!fb.supportsDefaultStatusBarStyle()||fb.setStyle({style:db.Dark})},vb=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:db.Default;!Iv.w||Iv.w.innerWidth>=768||!fb.supportsDefaultStatusBarStyle()||fb.setStyle({style:e})},yb=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"===typeof t.canDismiss){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.canDismiss(void 0,Mf);case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:n.isRunning()?n.onFinish((function(){t.dismiss(void 0,"handler")}),{oneTimeCallback:!0}):t.dismiss(void 0,"handler");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gb=function(e){return.00255275*Math.pow(2.71828,-14.9619*e)-1.00255*Math.pow(2.71828,-.0380968*e)+1},bb=.93,xb=function(e,t,n,r){var i=.5,o=e.offsetHeight,a=!1,s=!1,l=null,c=null,u=!0,d=0,p=(0,Yy.createGesture)({el:e,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:function(e){var t=e.event.target;if(null===t||!t.closest)return!0;if(l=(0,Ev.a)(t)){if((0,Ev.i)(l)){var n=(0,sf.g)(l);c=n.querySelector(".inner-scroll")}else c=l;return!!!l.querySelector("ion-refresher")&&0===c.scrollTop}return null===t.closest("ion-footer")},onStart:function(n){var r=n.deltaY;u=!l||!(0,Ev.i)(l)||l.scrollY,s=void 0!==e.canDismiss&&!0!==e.canDismiss,r>0&&l&&(0,Ev.d)(l),t.progressStart(!0,a?1:0)},onMove:function(e){e.deltaY>0&&l&&(0,Ev.d)(l);var r=e.deltaY/o,a=r>=0&&s,c=a?.2:.9999,u=a?gb(r/c):r,p=(0,sf.h)(1e-4,u,c);t.progressStep(p),p>=i&&d<i?vb(n):p<i&&d>=i&&mb(),d=p},onEnd:function(n){var c=n.velocityY,d=n.deltaY/o,f=d>=0&&s,h=f?.2:.9999,m=f?gb(d/h):d,v=(0,sf.h)(1e-4,m,h),y=(n.deltaY+1e3*c)/o,g=!f&&y>=i,b=g?-.001:.001;g?(t.easing("cubic-bezier(0.32, 0.72, 0, 1)"),b+=ny([0,0],[.32,.72],[0,1],[1,1],v)[0]):(t.easing("cubic-bezier(1, 0, 0.68, 0.28)"),b+=ny([0,0],[1,0],[.68,.28],[1,1],v)[0]);var x=wb(g?d*o:(1-v)*o,c);a=g,p.enable(!1),l&&(0,Ev.r)(l,u),t.onFinish((function(){g||p.enable(!0)})).progressEnd(g?1:0,b,x),f&&v>h/4?yb(e,t):g&&r()}});return p},wb=function(e,t){return(0,sf.h)(400,e/Math.abs(1.1*t),500)},kb=function(e){var t=e.currentBreakpoint,n=e.backdropBreakpoint,r=void 0===n||n<t,i=r?"calc(var(--backdrop-opacity) * ".concat(t,")"):"0",o=(0,Vf.c)("backdropAnimation").fromTo("opacity",0,i);return r&&o.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:(0,Vf.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-100*t,"%)")}]),backdropAnimation:o}},Eb=function(e){var t=e.currentBreakpoint,n=e.backdropBreakpoint,r="calc(var(--backdrop-opacity) * ".concat(hb(t,n),")"),i=[{offset:0,opacity:r},{offset:1,opacity:0}],o=[{offset:0,opacity:r},{offset:n,opacity:0},{offset:1,opacity:0}],a=(0,Vf.c)("backdropAnimation").keyframes(0!==n?o:i);return{wrapperAnimation:(0,Vf.c)("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-100*t,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:a}},Ib=function(e,t){var n=t.presentingEl,r=t.currentBreakpoint,i=(0,sf.g)(e),o=void 0!==r?kb(t):{backdropAnimation:(0,Vf.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,Vf.c)().fromTo("transform","translateY(100vh)","translateY(0vh)")},a=o.wrapperAnimation,s=o.backdropAnimation;s.addElement(i.querySelector("ion-backdrop")),a.addElement(i.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});var l=(0,Vf.c)("entering-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(a);if(n){var c=window.innerWidth<768,u="ION-MODAL"===n.tagName&&void 0!==n.presentingElement,d=(0,sf.g)(n),p=(0,Vf.c)().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),f=document.body;if(c){var h=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",m=bb,v="translateY(".concat(u?"-10px":h,") scale(").concat(m,")");p.afterStyles({transform:v}).beforeAddWrite((function(){return f.style.setProperty("background-color","black")})).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:v,borderRadius:"10px 10px 0 0"}]),l.addAnimation(p)}else if(l.addAnimation(s),u){var y="translateY(-10px) scale(".concat(u?bb:1,")");p.afterStyles({transform:y}).addElement(d.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:y}]);var g=(0,Vf.c)().afterStyles({transform:y}).addElement(d.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:y}]);l.addAnimation([p,g])}else a.fromTo("opacity","0","1")}else l.addAnimation(s);return l},Rb=function(){return{backdropAnimation:(0,Vf.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,Vf.c)().fromTo("transform","translateY(0vh)","translateY(100vh)")}},Tb=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=t.presentingEl,i=t.currentBreakpoint,o=(0,sf.g)(e),a=void 0!==i?Eb(t):Rb(),s=a.wrapperAnimation,l=a.backdropAnimation;l.addElement(o.querySelector("ion-backdrop")),s.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});var c=(0,Vf.c)("leaving-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(s);if(r){var u=window.innerWidth<768,d="ION-MODAL"===r.tagName&&void 0!==r.presentingElement,p=(0,sf.g)(r),f=(0,Vf.c)().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((function(e){1===e&&(r.style.setProperty("overflow",""),Array.from(h.querySelectorAll("ion-modal")).filter((function(e){return void 0!==e.presentingElement})).length<=1&&h.style.setProperty("background-color",""))})),h=document.body;if(u){var m=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",v=d?"-10px":m,y=bb,g="translateY(".concat(v,") scale(").concat(y,")");f.addElement(r).keyframes([{offset:0,filter:"contrast(0.85)",transform:g,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),c.addAnimation(f)}else if(c.addAnimation(l),d){var b=d?bb:1,x="translateY(-10px) scale(".concat(b,")");f.addElement(p.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:x},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);var w=(0,Vf.c)().addElement(p.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:x},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);c.addAnimation([f,w])}else s.fromTo("opacity","1","0")}else c.addAnimation(l);return c},_b=function(e,t){var n=t.currentBreakpoint,r=(0,sf.g)(e),i=void 0!==n?kb(t):{backdropAnimation:(0,Vf.c)().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:(0,Vf.c)().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])},o=i.wrapperAnimation,a=i.backdropAnimation;return a.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelector(".modal-wrapper")),(0,Vf.c)().addElement(e).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([a,o])},Sb=function(e,t){var n=t.currentBreakpoint,r=(0,sf.g)(e),i=void 0!==n?Eb(t):{backdropAnimation:(0,Vf.c)().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:(0,Vf.c)().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])},o=i.wrapperAnimation,a=i.backdropAnimation;return a.addElement(r.querySelector("ion-backdrop")),o.addElement(r.querySelector(".modal-wrapper")),(0,Vf.c)().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([a,o])},Ab=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.didPresent=(0,Vp.yM)((0,Mp.Z)(e),"ionModalDidPresent",7),e.willPresent=(0,Vp.yM)((0,Mp.Z)(e),"ionModalWillPresent",7),e.willDismiss=(0,Vp.yM)((0,Mp.Z)(e),"ionModalWillDismiss",7),e.didDismiss=(0,Vp.yM)((0,Mp.Z)(e),"ionModalDidDismiss",7),e.ionBreakpointDidChange=(0,Vp.yM)((0,Mp.Z)(e),"ionBreakpointDidChange",7),e.didPresentShorthand=(0,Vp.yM)((0,Mp.Z)(e),"didPresent",7),e.willPresentShorthand=(0,Vp.yM)((0,Mp.Z)(e),"willPresent",7),e.willDismissShorthand=(0,Vp.yM)((0,Mp.Z)(e),"willDismiss",7),e.didDismissShorthand=(0,Vp.yM)((0,Mp.Z)(e),"didDismiss",7),e.modalIndex=Zb++,e.coreDelegate=Wm(),e.isSheetModal=!1,e.inheritedAttributes={},e.inline=!1,e.gestureAnimationDismissing=!1,e.presented=!1,e.hasController=!1,e.keyboardClose=!0,e.backdropBreakpoint=0,e.handleBehavior="none",e.backdropDismiss=!0,e.showBackdrop=!0,e.animated=!0,e.swipeToClose=!1,e.isOpen=!1,e.keepContentsMounted=!1,e.configureTriggerInteraction=function(){var t=(0,Mp.Z)(e),n=t.trigger,r=t.el,i=t.destroyTriggerInteraction;i&&i();var o=void 0!==n?document.getElementById(n):null;if(o){e.destroyTriggerInteraction=function(e,t){var n=function(){t.present()};return e.addEventListener("click",n),function(){e.removeEventListener("click",n)}}(o,r)}},e.onHandleClick=function(){var t=(0,Mp.Z)(e),n=t.sheetTransition;"cycle"===t.handleBehavior&&void 0===n&&e.moveToNextBreakpoint()},e.onBackdropTap=function(){void 0===(0,Mp.Z)(e).sheetTransition&&e.dismiss(void 0,Df)},e.onLifecycle=function(t){var n=e.usersElement,r=Nb[t.type];if(n&&r){var i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:t.detail});n.dispatchEvent(i)}},e}return(0,u.Z)(r,[{key:"onIsOpenChange",value:function(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}},{key:"onTriggerChange",value:function(){this.configureTriggerInteraction()}},{key:"swipeToCloseChanged",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gesture){e.next=4;break}this.gesture.enable(t),e.next=7;break;case 4:if(!t){e.next=7;break}return e.next=7,this.initSwipeToClose();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"breakpointsChanged",value:function(e){void 0!==e&&(this.sortedBreakpoints=e.sort((function(e,t){return e-t})))}},{key:"connectedCallback",value:function(){var e=this.configureTriggerInteraction,t=this.el;mf(t),e()}},{key:"disconnectedCallback",value:function(){var e=this.destroyTriggerInteraction;e&&e()}},{key:"componentWillLoad",value:function(){var e=this.breakpoints,t=this.initialBreakpoint,n=this.swipeToClose,r=this.el;this.inheritedAttributes=(0,sf.d)(r,["aria-label","role"]),this.modalId=this.el.hasAttribute("id")?this.el.getAttribute("id"):"ion-modal-".concat(this.modalIndex),(this.isSheetModal=void 0!==e&&void 0!==t)&&(this.currentBreakpoint=this.initialBreakpoint),void 0===e||void 0===t||e.includes(t)||(0,Fh.p)("Your breakpoints array must include the initialBreakpoint value."),n&&(0,Fh.p)("swipeToClose has been deprecated in favor of canDismiss.\n\nIf you want a card modal to be swipeable, set canDismiss to `true`. In the next major release of Ionic, swipeToClose will be removed, and all card modals will be swipeable by default.")}},{key:"componentDidLoad",value:function(){var e=this;!0===this.isOpen&&(0,sf.r)((function(){return e.present()})),this.breakpointsChanged(this.breakpoints)}},{key:"getDelegate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};var t=this.el.parentNode,n=this.inline=null!==t&&!this.hasController,r=this.workingDelegate=n?this.delegate||this.coreDelegate:this.delegate;return{inline:n,delegate:r}}},{key:"checkCanDismiss",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==(r=this.canDismiss)){e.next=3;break}return e.abrupt("return",!0);case 3:if("function"!==typeof r){e.next=5;break}return e.abrupt("return",r(t,n));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"present",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i,o,a=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.presented){e.next=2;break}return e.abrupt("return");case 2:if(void 0===this.currentTransition){e.next=5;break}return e.next=5,this.currentTransition;case 5:return this.currentBreakpoint=this.initialBreakpoint,t=Object.assign(Object.assign({},this.componentProps),{modal:this.el}),n=this.getDelegate(!0),r=n.inline,i=n.delegate,e.next=10,qm(i,this.el,this.component,["ion-page"],t,r);case 10:return this.usersElement=e.sent,e.next=13,(0,Qm.e)(this.usersElement);case 13:if((0,Vp.Iu)((function(){return a.el.classList.add("show-modal")})),this.currentTransition=If(this,"modalEnter",Ib,_b,{presentingEl:this.presentingElement,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),!(o=void 0!==this.presentingElement&&(this.swipeToClose||void 0!==this.canDismiss))||"ios"!==rf(this)){e.next=21;break}return e.next=19,fb.getStyle();case 19:this.statusBarStyle=e.sent,mb();case 21:return e.next=23,this.currentTransition;case 23:if(!this.isSheetModal){e.next=27;break}this.initSheetGesture(),e.next=30;break;case 27:if(!o){e.next=30;break}return e.next=30,this.initSwipeToClose();case 30:"undefined"!==typeof window&&(this.keyboardOpenCallback=function(){a.gesture&&(a.gesture.enable(!1),(0,sf.r)((function(){a.gesture&&a.gesture.enable(!0)})))},window.addEventListener(pb.KEYBOARD_DID_OPEN,this.keyboardOpenCallback)),this.currentTransition=void 0;case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initSwipeToClose",value:function(){var e,t=this;if("ios"===rf(this)){var n=this.el,r=this.leaveAnimation||Pp.get("modalLeave",Tb),i=this.animation=r(n,{presentingEl:this.presentingElement});if((0,Ev.f)(n)){var o=null!==(e=this.statusBarStyle)&&void 0!==e?e:db.Default;this.gesture=xb(n,i,o,(function(){t.gestureAnimationDismissing=!0,t.animation.onFinish((0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dismiss(void 0,Mf);case 2:t.gestureAnimationDismissing=!1;case 3:case"end":return e.stop()}}),e)}))))})),this.gesture.enable(!0)}else(0,Ev.p)(n)}}},{key:"initSheetGesture",value:function(){var e=this,t=this.wrapperEl,n=this.initialBreakpoint,r=this.backdropBreakpoint;if(t&&void 0!==n){var i=this.enterAnimation||Pp.get("modalEnter",Ib),o=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:r});o.progressStart(!0,1);var a=function(e,t,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],p=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-i,opacity:0},{offset:1,opacity:0}],f={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==i?p:u},h=e.querySelector("ion-content"),m=n.clientHeight,v=r,y=0,g=!1,b=.95,x=o.childAnimations.find((function(e){return"wrapperAnimation"===e.id})),w=o.childAnimations.find((function(e){return"backdropAnimation"===e.id})),k=a[a.length-1],E=a[0],I=function(){e.style.setProperty("pointer-events","auto"),t.style.setProperty("pointer-events","auto"),e.classList.remove("ion-disable-focus-trap")},R=function(){e.style.setProperty("pointer-events","none"),t.style.setProperty("pointer-events","none"),e.classList.add("ion-disable-focus-trap")};if(x&&w){x.keyframes((0,d.Z)(f.WRAPPER_KEYFRAMES)),w.keyframes((0,d.Z)(f.BACKDROP_KEYFRAMES)),o.progressStart(!0,1-v),v>i?I():R()}h&&v!==k&&(h.scrollY=!1);var T=function(e){var t=e.event.target.closest("ion-content");return 1!==(v=s())||!t},_=function(){g=void 0!==e.canDismiss&&!0!==e.canDismiss&&0===E,h&&(h.scrollY=!1),(0,sf.r)((function(){e.focus()})),o.progressStart(!0,1-v)},S=function(e){var t=1-v,n=a.length>1?1-a[1]:void 0,r=t+e.deltaY/m,i=void 0!==n&&r>=n&&g,s=i?b:.9999,l=i&&void 0!==n?n+gb((r-n)/(s-n)):r;y=(0,sf.h)(1e-4,l,s),o.progressStep(y)},A=function(e){var t=e.velocityY,n=(e.deltaY+350*t)/m,r=v-n,i=a.reduce((function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e}));N({breakpoint:i,breakpointOffset:y,canDismiss:g})},N=function(t){var n=t.breakpoint,r=t.canDismiss,s=t.breakpointOffset,u=r&&0===n,p=u?v:n,m=0!==p;return v=0,x&&w&&(x.keyframes([{offset:0,transform:"translateY(".concat(100*s,"%)")},{offset:1,transform:"translateY(".concat(100*(1-p),"%)")}]),w.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(hb(1-s,i),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(hb(p,i),")")}]),o.progressStep(0)),Z.enable(!1),u?yb(e,o):m||l(),new Promise((function(e){o.onFinish((function(){m?x&&w?(0,sf.r)((function(){x.keyframes((0,d.Z)(f.WRAPPER_KEYFRAMES)),w.keyframes((0,d.Z)(f.BACKDROP_KEYFRAMES)),o.progressStart(!0,1-p),c(v=p),h&&v===a[a.length-1]&&(h.scrollY=!0),v>i?I():R(),Z.enable(!0),e()})):(Z.enable(!0),e()):e()}),{oneTimeCallback:!0}).progressEnd(1,0,500)}))},Z=(0,Yy.createGesture)({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:T,onStart:_,onMove:S,onEnd:A});return{gesture:Z,moveSheetToBreakpoint:N}}(this.el,this.backdropEl,t,n,r,o,this.sortedBreakpoints,(function(){var t;return null!==(t=e.currentBreakpoint)&&void 0!==t?t:0}),(function(){return e.sheetOnDismiss()}),(function(t){e.currentBreakpoint!==t&&(e.currentBreakpoint=t,e.ionBreakpointDidChange.emit({breakpoint:t}))})),s=a.gesture,l=a.moveSheetToBreakpoint;this.gesture=s,this.moveSheetToBreakpoint=l,this.gesture.enable(!0)}}},{key:"sheetOnDismiss",value:function(){var e=this;this.gestureAnimationDismissing=!0,this.animation.onFinish((0,l.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.currentBreakpoint=0,e.ionBreakpointDidChange.emit({breakpoint:e.currentBreakpoint}),t.next=4,e.dismiss(void 0,Mf);case 4:e.gestureAnimationDismissing=!1;case 5:case"end":return t.stop()}}),t)}))))}},{key:"dismiss",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gestureAnimationDismissing||n===Mf){e.next=2;break}return e.abrupt("return",!1);case 2:if(e.t0="handler"!==n,!e.t0){e.next=7;break}return e.next=6,this.checkCanDismiss(t,n);case 6:e.t0=!e.sent;case 7:if(!e.t0){e.next=9;break}return e.abrupt("return",!1);case 9:if(void 0!==this.presentingElement&&(this.swipeToClose||void 0!==this.canDismiss)&&"ios"===rf(this)&&vb(this.statusBarStyle),"undefined"!==typeof window&&this.keyboardOpenCallback&&window.removeEventListener(pb.KEYBOARD_DID_OPEN,this.keyboardOpenCallback),void 0===this.currentTransition){e.next=15;break}return e.next=15,this.currentTransition;case 15:return i=cf.get(this)||[],this.currentTransition=Tf(this,t,n,"modalLeave",Tb,Sb,{presentingEl:this.presentingElement,currentBreakpoint:null!==(r=this.currentBreakpoint)&&void 0!==r?r:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),e.next=19,this.currentTransition;case 19:if(!(o=e.sent)){e.next=28;break}return a=this.getDelegate(),l=a.delegate,e.next=24,Ym(l,this.usersElement);case 24:(0,Vp.Iu)((function(){return c.el.classList.remove("show-modal")})),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy(),i.forEach((function(e){return e.destroy()}));case 28:return this.currentBreakpoint=void 0,this.currentTransition=void 0,this.animation=void 0,e.abrupt("return",o);case 32:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onDidDismiss",value:function(){return Af(this.el,"ionModalDidDismiss")}},{key:"onWillDismiss",value:function(){return Af(this.el,"ionModalWillDismiss")}},{key:"setCurrentBreakpoint",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSheetModal){e.next=3;break}return(0,Fh.p)("setCurrentBreakpoint is only supported on sheet modals."),e.abrupt("return");case 3:if(this.breakpoints.includes(t)){e.next=6;break}return(0,Fh.p)("Attempted to set invalid breakpoint value ".concat(t,". Please double check that the breakpoint value is part of your defined breakpoints.")),e.abrupt("return");case 6:if(n=this.currentBreakpoint,r=this.moveSheetToBreakpoint,i=this.canDismiss,o=this.breakpoints,n!==t){e.next=9;break}return e.abrupt("return");case 9:if(!r){e.next=14;break}return this.sheetTransition=r({breakpoint:t,breakpointOffset:1-n,canDismiss:void 0!==i&&!0!==i&&0===o[0]}),e.next=13,this.sheetTransition;case 13:this.sheetTransition=void 0;case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCurrentBreakpoint",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.currentBreakpoint);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"moveToNextBreakpoint",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.breakpoints,n=this.currentBreakpoint,t&&null!=n){e.next=3;break}return e.abrupt("return",!1);case 3:return r=t.filter((function(e){return 0!==e})),i=r.indexOf(n),o=(i+1)%r.length,a=r[o],e.next=9,this.setCurrentBreakpoint(a);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t,n=this,r=this.handle,i=this.isSheetModal,o=this.presentingElement,a=this.htmlAttributes,s=this.handleBehavior,l=this.inheritedAttributes,c=!1!==r&&i,u=rf(this),d=this.modalId,p=void 0!==o&&"ios"===u,f="cycle"===s;return(0,Vp.h)(Vp.AA,Object.assign({"no-router":!0,tabindex:"-1"},a,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign((t={},(0,e.Z)(t,u,!0),(0,e.Z)(t,"modal-default",!p&&!i),(0,e.Z)(t,"modal-card",p),(0,e.Z)(t,"modal-sheet",i),(0,e.Z)(t,"overlay-hidden",!0),t),yh(this.cssClass)),id:d,onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),(0,Vp.h)("ion-backdrop",{ref:function(e){return n.backdropEl=e},visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===u&&(0,Vp.h)("div",{class:"modal-shadow"}),(0,Vp.h)("div",Object.assign({role:"dialog"},l,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:function(e){return n.wrapperEl=e}}),c&&(0,Vp.h)("button",{class:"modal-handle",tabIndex:f?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:f?this.onHandleClick:void 0,part:"handle"}),(0,Vp.h)("slot",null)))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{isOpen:["onIsOpenChange"],trigger:["onTriggerChange"],swipeToClose:["swipeToCloseChanged"]}}},{key:"style",get:function(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.modal-handle::before{padding-left:4px;padding-right:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle::before{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: 1px){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: 1px){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;margin-left:auto;margin-right:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle{margin-left:unset;margin-right:unset;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto}}.modal-handle::before{padding-left:4px;padding-right:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.modal-handle::before{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}}]),r}(Vp.mv),[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],swipeToClose:[4,"swipe-to-close"],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]}]),Nb={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"},Zb=0;var Cb=function(){if("undefined"!==typeof customElements){["ion-modal","ion-backdrop"].forEach((function(e){switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,Ab);break;case"ion-backdrop":customElements.get(e)||hh()}}))}},Ob=(0,Vp.GH)(function(t){(0,o.Z)(i,t);var r=(0,a.Z)(i);function i(){var e;return(0,c.Z)(this,i),(e=r.call(this)).__registerHost(),e}return(0,u.Z)(i,[{key:"componentDidLoad",value:function(){var e=this;Vp.Z5.isBrowser&&Mb((0,l.Z)((0,s.Z)().mark((function t(){var r,i,o;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=zp(window,"hybrid"),Pp.getBoolean("_testing")||n.e(766).then(n.bind(n,766)).then((function(e){return e.startTapClick(Pp)})),Pp.getBoolean("statusTap",r)&&n.e(883).then(n.bind(n,4883)).then((function(e){return e.startStatusTap()})),Pp.getBoolean("inputShims",Db())&&(i=zp(window,"ios")?"ios":"android",n.e(615).then(n.bind(n,8615)).then((function(e){return e.startInputShims(Pp,i)}))),t.next=6,Promise.resolve().then(n.bind(n,9401));case 6:o=t.sent,Pp.getBoolean("hardwareBackButton",r)?o.startHardwareBackButton():o.blockHardwareBackButton(),"undefined"!==typeof window&&Promise.resolve().then(n.bind(n,598)).then((function(e){return e.startKeyboardAssist(window)})),Promise.resolve().then(n.bind(n,1770)).then((function(t){return e.focusVisible=t.startFocusVisible()}));case 10:case"end":return t.stop()}}),t)}))))}},{key:"setFocus",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.focusVisible&&this.focusVisible.setFocus(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t,n=rf(this);return(0,Vp.h)(Vp.AA,{class:(t={},(0,e.Z)(t,n,!0),(0,e.Z)(t,"ion-page",!0),(0,e.Z)(t,"force-statusbar-padding",Pp.getBoolean("_forceStatusbarPadding")),t)})}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}}]),i}(Vp.mv),[0,"ion-app",{setFocus:[64]}]),Db=function(){return!(!zp(window,"ios")||!zp(window,"mobile"))||!(!zp(window,"android")||!zp(window,"mobileweb"))},Mb=function(e){"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};var Vb=function(){if("undefined"!==typeof customElements){["ion-app"].forEach((function(e){if("ion-app"===e)customElements.get(e)||customElements.define(e,Ob)}))}},Lb=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.inheritedAttributes={},e.disabled=!1,e.type="button",e.onClick=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(n){var r;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.el.closest("ion-nav"),n.preventDefault(),t.t0=r,!t.t0){t.next=7;break}return t.next=6,r.canGoBack();case 6:t.t0=t.sent;case 7:if(!t.t0){t.next=9;break}return t.abrupt("return",r.pop({animationBuilder:e.routerAnimation,skipIfBusy:!0}));case 9:return t.abrupt("return",bh(e.defaultHref,n,"back",e.routerAnimation));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=(0,sf.i)(this.el),void 0===this.defaultHref&&(this.defaultHref=Pp.get("backButtonDefaultHref"))}},{key:"backButtonIcon",get:function(){var e=this.icon;return null!=e?e:"ios"===rf(this)?Pp.get("backButtonIcon",Bf):Pp.get("backButtonIcon",Ff)}},{key:"backButtonText",get:function(){var e="ios"===rf(this)?"Back":null;return null!=this.text?this.text:Pp.get("backButtonText",e)}},{key:"hasIconOnly",get:function(){return this.backButtonIcon&&!this.backButtonText}},{key:"rippleType",get:function(){return this.hasIconOnly?"unbounded":"bounded"}},{key:"render",value:function(){var t,n=this.color,r=this.defaultHref,i=this.disabled,o=this.type,a=this.hasIconOnly,s=this.backButtonIcon,l=this.backButtonText,c=this.icon,u=this.inheritedAttributes,d=void 0!==r,p=rf(this),f=u["aria-label"]||l||"back";return(0,Vp.h)(Vp.AA,{onClick:this.onClick,class:vh(n,(t={},(0,e.Z)(t,p,!0),(0,e.Z)(t,"button",!0),(0,e.Z)(t,"back-button-disabled",i),(0,e.Z)(t,"back-button-has-icon-only",a),(0,e.Z)(t,"in-toolbar",mh("ion-toolbar",this.el)),(0,e.Z)(t,"in-toolbar-color",mh("ion-toolbar[color]",this.el)),(0,e.Z)(t,"ion-activatable",!0),(0,e.Z)(t,"ion-focusable",!0),(0,e.Z)(t,"show-back-button",d),t))},(0,Vp.h)("button",{type:o,disabled:i,class:"button-native",part:"native","aria-label":f},(0,Vp.h)("span",{class:"button-inner"},s&&(0,Vp.h)("ion-icon",{part:"icon",icon:s,"aria-hidden":"true",lazy:!1,"flip-rtl":void 0===c}),l&&(0,Vp.h)("span",{part:"text","aria-hidden":"true",class:"button-text"},l)),"md"===p&&(0,Vp.h)("ion-ripple-effect",{type:this.rippleType})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:var(--margin-start);margin-right:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end)}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{padding-left:var(--icon-padding-start);padding-right:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);margin-left:var(--icon-margin-start);margin-right:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){ion-icon{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end)}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){ion-icon{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:-5px;--icon-margin-start:-4px;--icon-font-size:1.85em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',md:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:var(--margin-start);margin-right:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end)}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{padding-left:var(--icon-padding-start);padding-right:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);margin-left:var(--icon-margin-start);margin-right:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){ion-icon{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end)}}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){ion-icon{margin-left:unset;margin-right:unset;-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end)}}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{padding-left:4px;padding-right:4px;padding-top:0;padding-bottom:0}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-text{padding-left:unset;padding-right:unset;-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px}}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}'}}}]),r}(Vp.mv),[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);var Pb=function(){if("undefined"!==typeof customElements){["ion-back-button","ion-icon","ion-ripple-effect"].forEach((function(e){switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Lb);break;case"ion-icon":customElements.get(e)||ah();break;case"ion-ripple-effect":customElements.get(e)||Sh()}}))}},Ub=(0,Vp.GH)(function(e){(0,o.Z)(r,e);var t=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=t.call(this)).__registerHost(),e.__attachShadow(),e.ionNavWillLoad=(0,Vp.yM)((0,Mp.Z)(e),"ionNavWillLoad",7),e.ionNavWillChange=(0,Vp.yM)((0,Mp.Z)(e),"ionNavWillChange",3),e.ionNavDidChange=(0,Vp.yM)((0,Mp.Z)(e),"ionNavDidChange",3),e.gestureOrAnimationInProgress=!1,e.mode=rf((0,Mp.Z)(e)),e.animated=!0,e}return(0,u.Z)(r,[{key:"swipeHandlerChanged",value:function(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}},{key:"connectedCallback",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){r.gestureOrAnimationInProgress=!0,r.swipeHandler&&r.swipeHandler.onStart()},e.next=3,n.e(251).then(n.bind(n,8251));case 3:this.gesture=e.sent.createSwipeBackGesture(this.el,(function(){return!r.gestureOrAnimationInProgress&&!!r.swipeHandler&&r.swipeHandler.canStart()}),(function(){return t()}),(function(e){var t;return null===(t=r.ani)||void 0===t?void 0:t.progressStep(e)}),(function(e,t,n){if(r.ani){r.ani.onFinish((function(){r.gestureOrAnimationInProgress=!1,r.swipeHandler&&r.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});var i=e?-.001:.001;e?i+=ny([0,0],[.32,.72],[0,1],[1,1],t)[0]:(r.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=ny([0,0],[1,0],[.68,.28],[1,1],t)[0]),r.ani.progressEnd(e?1:0,i,n)}else r.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillLoad",value:function(){this.ionNavWillLoad.emit()}},{key:"disconnectedCallback",value:function(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}},{key:"commit",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lock();case 2:return i=e.sent,o=!1,e.prev=4,e.next=7,this.transition(t,n,r);case 7:o=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.error(e.t0);case 13:return i(),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setRouteId",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setRoot(t,n,{duration:"root"===r?0:void 0,direction:"back"===r?"back":"forward",animationBuilder:i});case 2:return o=e.sent,e.abrupt("return",{changed:o,element:this.activeEl});case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getRouteId",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.activeEl,e.abrupt("return",t?{id:t.tagName,element:t,params:this.activeParams}:void 0);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRoot",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.activeComponent!==t||!(0,sf.s)(n,this.activeParams)){e.next=2;break}return e.abrupt("return",!1);case 2:return i=this.activeEl,e.next=5,qm(this.delegate,this.el,t,["ion-page","ion-page-invisible"],n);case 5:return o=e.sent,this.activeComponent=t,this.activeEl=o,this.activeParams=n,e.next=11,this.commit(o,i,r);case 11:return e.next=13,Ym(this.delegate,i);case 13:return e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"transition",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,l,c=this,u=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:{},n!==t){e.next=3;break}return e.abrupt("return",!1);case 3:return this.ionNavWillChange.emit(),i=this.el,o=this.mode,a=this.animated&&Pp.getBoolean("animated",!0),l=r.animationBuilder||this.animation||Pp.get("navAnimation"),e.next=9,(0,Qm.t)(Object.assign(Object.assign({mode:o,animated:a,enteringEl:t,leavingEl:n,baseEl:i,progressCallback:r.progressAnimation?function(e){void 0===e||c.gestureOrAnimationInProgress?c.ani=e:(c.gestureOrAnimationInProgress=!0,e.onFinish((function(){c.gestureOrAnimationInProgress=!1,c.swipeHandler&&c.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},r),{animationBuilder:l}));case 9:return this.ionNavDidChange.emit(),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"lock",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.waitPromise,this.waitPromise=new Promise((function(e){return n=e})),void 0===t){e.next=5;break}return e.next=5,t;case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,Vp.h)("slot",null)}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{swipeHandler:["swipeHandlerChanged"]}}},{key:"style",get:function(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}}]),r}(Vp.mv),[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);var Fb=function(){if("undefined"!==typeof customElements){["ion-router-outlet"].forEach((function(e){if("ion-router-outlet"===e)customElements.get(e)||customElements.define(e,Ub)}))}},Bb=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionTabBarChanged=(0,Vp.yM)((0,Mp.Z)(e),"ionTabBarChanged",7),e.keyboardCtrl=null,e.keyboardVisible=!1,e.translucent=!1,e}return(0,u.Z)(r,[{key:"selectedTabChanged",value:function(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}},{key:"componentWillLoad",value:function(){this.selectedTabChanged()}},{key:"connectedCallback",value:function(){var e=this;this.keyboardCtrl=Rv((function(t){e.keyboardVisible=t}))}},{key:"disconnectedCallback",value:function(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}},{key:"render",value:function(){var t,n=this.color,r=this.translucent,i=this.keyboardVisible,o=rf(this),a=i&&"top"!==this.el.getAttribute("slot");return(0,Vp.h)(Vp.AA,{role:"tablist","aria-hidden":a?"true":null,class:vh(n,(t={},(0,e.Z)(t,o,!0),(0,e.Z)(t,"tab-bar-translucent",r),(0,e.Z)(t,"tab-bar-hidden",a),t))},(0,Vp.h)("slot",null))}},{key:"el",get:function(){return this}}],[{key:"watchers",get:function(){return{selectedTab:["selectedTabChanged"]}}},{key:"style",get:function(){return{ios:":host{padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-400, #999999));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}"}}}]),r}(Vp.mv),[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);var jb=function(){if("undefined"!==typeof customElements){["ion-tab-bar"].forEach((function(e){if("ion-tab-bar"===e)customElements.get(e)||customElements.define(e,Bb)}))}},Hb=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.ionTabButtonClick=(0,Vp.yM)((0,Mp.Z)(e),"ionTabButtonClick",7),e.disabled=!1,e.selected=!1,e.onKeyUp=function(t){"Enter"!==t.key&&" "!==t.key||e.selectTab(t)},e.onClick=function(t){e.selectTab(t)},e}return(0,u.Z)(r,[{key:"onTabBarChanged",value:function(e){var t=e.target,n=this.el.parentElement;(e.composedPath().includes(n)||(null===t||void 0===t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}},{key:"componentWillLoad",value:function(){void 0===this.layout&&(this.layout=Pp.get("tabButtonLayout","icon-top"))}},{key:"selectTab",value:function(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}},{key:"hasLabel",get:function(){return!!this.el.querySelector("ion-label")}},{key:"hasIcon",get:function(){return!!this.el.querySelector("ion-icon")}},{key:"tabIndex",get:function(){return this.disabled?-1:this.el.hasAttribute("tabindex")?this.el.getAttribute("tabindex"):0}},{key:"render",value:function(){var t,n=this.disabled,r=this.hasIcon,i=this.hasLabel,o=this.tabIndex,a=this.href,s=this.rel,l=this.target,c=this.layout,u=this.selected,d=this.tab,p=rf(this),f={download:this.download,href:a,rel:s,target:l};return(0,Vp.h)(Vp.AA,{onClick:this.onClick,onKeyup:this.onKeyUp,role:"tab",tabindex:o,"aria-selected":u?"true":null,id:void 0!==d?"tab-button-".concat(d):null,class:(t={},(0,e.Z)(t,p,!0),(0,e.Z)(t,"tab-selected",u),(0,e.Z)(t,"tab-disabled",n),(0,e.Z)(t,"tab-has-label",i),(0,e.Z)(t,"tab-has-icon",r),(0,e.Z)(t,"tab-has-label-only",i&&!r),(0,e.Z)(t,"tab-has-icon-only",r&&!i),(0,e.Z)(t,"tab-layout-".concat(c),!0),(0,e.Z)(t,"ion-activatable",!0),(0,e.Z)(t,"ion-selectable",!0),(0,e.Z)(t,"ion-focusable",!0),t)},(0,Vp.h)("a",Object.assign({},f,{tabIndex:-1,class:"button-native",part:"native"}),(0,Vp.h)("span",{class:"button-inner"},(0,Vp.h)("slot",null)),"md"===p&&(0,Vp.h)("ion-ripple-effect",{type:"unbounded"})))}},{key:"el",get:function(){return this}}],[{key:"style",get:function(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){padding-left:6px;padding-right:6px;padding-top:1px;padding-bottom:1px;left:calc(50% + 6px);top:4px;height:auto;font-size:12px;line-height:16px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-badge){padding-left:unset;padding-right:unset;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px}}[dir=rtl] ::slotted(ion-badge),:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px);top:10px}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px);top:10px}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){.button-native{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}[dir=rtl] ::slotted(ion-icon),:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}::slotted(ion-badge){border-radius:8px;padding-left:2px;padding-right:2px;padding-top:3px;padding-bottom:2px;left:calc(50% + 6px);top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){::slotted(ion-badge){padding-left:unset;padding-right:unset;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px}}[dir=rtl] ::slotted(ion-badge),:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%;top:8px}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%;top:16px}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){margin-right:6px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-icon){margin-right:unset;-webkit-margin-end:6px;margin-inline-end:6px}}:host(.tab-layout-icon-end) ::slotted(ion-icon){margin-left:6px}@supports ((-webkit-margin-start: 0) or (margin-inline-start: 0)) or (-webkit-margin-start: 0){:host(.tab-layout-icon-end) ::slotted(ion-icon){margin-left:unset;-webkit-margin-start:6px;margin-inline-start:6px}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%;top:16px}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}}]),r}(Vp.mv),[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);var Gb,zb,$b=function(){if("undefined"!==typeof customElements){["ion-tab-button","ion-ripple-effect"].forEach((function(e){switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Hb);break;case"ion-ripple-effect":customElements.get(e)||Sh()}}))}},qb=function(){if("undefined"===typeof window)return new Map;if(!Gb){var e=window;e.Ionicons=e.Ionicons||{},Gb=e.Ionicons.map=e.Ionicons.map||new Map}return Gb},Yb=function(e){var t=qb().get(e);return t||(0,Vp.K3)("svg/".concat(e,".svg"))},Wb=function(e,t,n,r,i){return n="ios"===(n&&Kb(n))?"ios":"md",r&&"ios"===n?e=Kb(r):i&&"md"===n?e=Kb(i):(e||!t||Jb(t)||(e=t),Xb(e)&&(e=Kb(e))),Xb(e)&&""!==e.trim()?""!==e.replace(/[a-z]|-|\d/gi,"")?null:e:null},Qb=function(e){return Xb(e)&&(e=e.trim(),Jb(e))?e:null},Jb=function(e){return e.length>0&&/(\/|\.)/.test(e)},Xb=function(e){return"string"===typeof e},Kb=function(e){return e.toLowerCase()},ex=function e(t){if(1===t.nodeType){if("script"===t.nodeName.toLowerCase())return!1;for(var n=0;n<t.attributes.length;n++){var r=t.attributes[n].name;if(Xb(r)&&0===r.toLowerCase().indexOf("on"))return!1}for(var i=0;i<t.childNodes.length;i++)if(!e(t.childNodes[i]))return!1}return!0},tx=new Map,nx=new Map,rx=function(e,t){var n=nx.get(e);if(!n){if("undefined"===typeof fetch||"undefined"===typeof document)return tx.set(e,""),Promise.resolve();n=fetch(e).then((function(n){if(n.ok)return n.text().then((function(n){n&&!1!==t&&(n=function(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);var r=t.firstElementChild;if(r&&"svg"===r.nodeName.toLowerCase()){var i=r.getAttribute("class")||"";if(r.setAttribute("class",(i+" s-ion-icon").trim()),ex(r))return t.innerHTML}return""}(n)),tx.set(e,n||"")}));tx.set(e,"")})),nx.set(e,n)}return n},ix=(0,Vp.GH)(function(t){(0,o.Z)(r,t);var n=(0,a.Z)(r);function r(){var e;return(0,c.Z)(this,r),(e=n.call(this)).__registerHost(),e.__attachShadow(),e.iconName=null,e.inheritedAttributes={},e.isVisible=!1,e.mode=ox(),e.lazy=!1,e.sanitize=!0,e.hasAriaHidden=function(){var t=(0,Mp.Z)(e).el;return t.hasAttribute("aria-hidden")&&"true"===t.getAttribute("aria-hidden")},e}return(0,u.Z)(r,[{key:"componentWillLoad",value:function(){this.inheritedAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={};return t.forEach((function(t){e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))})),n}(this.el,["aria-label"])}},{key:"connectedCallback",value:function(){var e=this;this.waitUntilVisible(this.el,"50px",(function(){e.isVisible=!0,e.loadIcon()}))}},{key:"disconnectedCallback",value:function(){this.io&&(this.io.disconnect(),this.io=void 0)}},{key:"waitUntilVisible",value:function(e,t,n){var r=this;if(Vp.Z5.isBrowser&&this.lazy&&"undefined"!==typeof window&&window.IntersectionObserver){var i=this.io=new window.IntersectionObserver((function(e){e[0].isIntersecting&&(i.disconnect(),r.io=void 0,n())}),{rootMargin:t});i.observe(e)}else n()}},{key:"loadIcon",value:function(){var e=this;if(Vp.Z5.isBrowser&&this.isVisible){zb||(zb=new DOMParser);var t=function(e){var t=Qb(e.src);if(t)return t;if(t=Wb(e.name,e.icon,e.mode,e.ios,e.md))return Yb(t);if(e.icon){if(t=Qb(e.icon))return t;if(t=Qb(e.icon[e.mode]))return t}return null}(this);if(t)if(tx.has(t))this.svgContent=tx.get(t);else if(t.startsWith("data:")){var n=zb.parseFromString(t,"text/html").body.querySelector("svg");this.svgContent=null!==n?n.outerHTML:""}else rx(t,this.sanitize).then((function(){return e.svgContent=tx.get(t)}))}var r=this.iconName=Wb(this.name,this.icon,this.mode,this.ios,this.md);r&&(this.ariaLabel=r.replace(/\-/g," "))}},{key:"render",value:function(){var t,n,r=this.iconName,i=this.ariaLabel,o=this.el,a=this.inheritedAttributes,s=this.mode||"md",l=this.flipRtl||r&&(r.indexOf("arrow")>-1||r.indexOf("chevron")>-1)&&!1!==this.flipRtl;return(0,Vp.h)(Vp.AA,Object.assign({"aria-label":void 0===i||this.hasAriaHidden()?null:i,role:"img",class:Object.assign(Object.assign((0,e.Z)({},s,!0),ax(this.color)),(t={},(0,e.Z)(t,"icon-".concat(this.size),!!this.size),(0,e.Z)(t,"flip-rtl",!!l&&(n=o,n&&""!==n.dir?"rtl"===n.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),t))},a),Vp.Z5.isBrowser&&this.svgContent?(0,Vp.h)("div",{class:"icon-inner",innerHTML:this.svgContent}):(0,Vp.h)("div",{class:"icon-inner"}))}},{key:"el",get:function(){return this}}],[{key:"assetsDirs",get:function(){return["svg"]}},{key:"watchers",get:function(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"]}}},{key:"style",get:function(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}}]),r}(Vp.mv),[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32],ariaLabel:[32]}]),ox=function(){return Vp.Z5.isBrowser&&"undefined"!==typeof document&&document.documentElement.getAttribute("mode")||"md"},ax=function(t){return t?(0,e.Z)({"ion-color":!0},"ion-color-".concat(t),!0):null};var sx=function(){if("undefined"!==typeof customElements){["ion-icon"].forEach((function(e){if("ion-icon"===e)customElements.get(e)||customElements.define(e,ix)}))}},lx=Rd.createContext({onIonViewWillEnter:function(){},ionViewWillEnter:function(){},onIonViewDidEnter:function(){},ionViewDidEnter:function(){},onIonViewWillLeave:function(){},ionViewWillLeave:function(){},onIonViewDidLeave:function(){},ionViewDidLeave:function(){}}),cx=function(){function e(){(0,c.Z)(this,e),this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}return(0,u.Z)(e,[{key:"onIonViewWillEnter",value:function(e){if(e.id){var t=this.ionViewWillEnterCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}},{key:"ionViewWillEnter",value:function(){this.ionViewWillEnterCallbacks.forEach((function(e){return e()}))}},{key:"onIonViewDidEnter",value:function(e){if(e.id){var t=this.ionViewDidEnterCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}},{key:"ionViewDidEnter",value:function(){this.ionViewDidEnterCallbacks.forEach((function(e){return e()}))}},{key:"onIonViewWillLeave",value:function(e){if(e.id){var t=this.ionViewWillLeaveCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}},{key:"ionViewWillLeave",value:function(){this.ionViewWillLeaveCallbacks.forEach((function(e){return e()}))}},{key:"onIonViewDidLeave",value:function(e){if(e.id){var t=this.ionViewDidLeaveCallbacks.findIndex((function(t){return t.id===e.id}));t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}},{key:"ionViewDidLeave",value:function(){this.ionViewDidLeaveCallbacks.forEach((function(e){return e()})),this.componentCanBeDestroyed()}},{key:"onComponentCanBeDestroyed",value:function(e){this.componentCanBeDestroyedCallback=e}},{key:"componentCanBeDestroyed",value:function(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}}]),e}(),ux=Rd.createContext({getIonRedirect:function(){},getIonRoute:function(){},getPageManager:function(){},getStackManager:function(){},goBack:function(e){"undefined"!==typeof window&&("string"===typeof e?window.location.pathname=e:window.history.back())},navigate:function(e){"undefined"!==typeof window&&(window.location.pathname=e)},hasIonicRouter:function(){return!1},routeInfo:void 0,setCurrentTab:function(){},changeTab:function(e,t){"undefined"!==typeof window&&(window.location.pathname=t)},resetTab:function(e,t){"undefined"!==typeof window&&(window.location.pathname=t)}}),dx=function(e){return e.toLowerCase().split("-").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("")},px=function(e){return e.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))},fx=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Element){var r=hx(e.classList,t,n);""!==r&&(e.className=r),Object.keys(t).forEach((function(n){if("children"!==n&&"style"!==n&&"ref"!==n&&"class"!==n&&"className"!==n&&"forwardedRef"!==n)if(0===n.indexOf("on")&&n[2]===n[2].toUpperCase()){var r=n.substring(2),i=r[0].toLowerCase()+r.substring(1);mx(i)||vx(e,i,t[n])}else{e[n]=t[n],"string"===typeof t[n]&&e.setAttribute(px(n),t[n])}}))}},hx=function(e,t,n){var r=t.className||t.class,i=n.className||n.class,o=yx(e),a=yx(r?r.split(" "):[]),s=yx(i?i.split(" "):[]),l=[];return o.forEach((function(e){a.has(e)?(l.push(e),a.delete(e)):s.has(e)||l.push(e)})),a.forEach((function(e){return l.push(e)})),l.join(" ")},mx=function(e){if("undefined"===typeof document)return!0;var t="on"+e,n=t in document;if(!n){var r=document.createElement("div");r.setAttribute(t,"return;"),n="function"===typeof r[t]}return n},vx=function(e,t,n){var r=e.__events||(e.__events={}),i=r[t];i&&e.removeEventListener(t,i),e.addEventListener(t,r[t]=function(e){n&&n.call(this,e)})},yx=function(e){var t=new Map;return e.forEach((function(e){return t.set(e,e)})),t},gx=function(e,t){"function"===typeof e?e(t):null!=e&&(e.current=t)},bx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){gx(t,e)}))}},xx=function(e,t,n,r){void 0!==r&&r();var i=dx(e),s=function(t){(0,o.Z)(s,t);var r=(0,a.Z)(s);function s(e){var t;return(0,c.Z)(this,s),(t=r.call(this,e)).setComponentElRef=function(e){t.componentEl=e},t}return(0,u.Z)(s,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){fx(this.componentEl,this.props,e)}},{key:"render",value:function(){var t=this.props,r=t.children,i=t.forwardedRef,o=t.style,a=(t.className,t.ref,Lf(t,["children","forwardedRef","style","className","ref"])),s=Object.keys(a).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var n=t.substring(2).toLowerCase();"undefined"!==typeof document&&mx(n)&&(e[t]=a[t])}else e[t]=a[t];return e}),{});n&&(s=n(this.props,s));var l=Object.assign(Object.assign({},s),{ref:bx(i,this.setComponentElRef),style:o});return(0,Rd.createElement)(e,l,r)}}],[{key:"displayName",get:function(){return i}}]),s}(Rd.Component);return t&&(s.contextType=t),function(e,t){var n=function(t,n){return Rd.createElement(e,Object.assign({},t,{forwardedRef:n}))};return n.displayName=t,Rd.forwardRef(n)}(s,i)},wx=xx("ion-accordion",void 0,void 0,ch),kx=xx("ion-accordion-group",void 0,void 0,dh),Ex=xx("ion-buttons",void 0,void 0,kh),Ix=xx("ion-content",void 0,void 0,Ph),Rx=xx("ion-fab",void 0,void 0,kv),Tx=xx("ion-header",void 0,void 0,Lv),_x=xx("ion-input",void 0,void 0,Xv),Sx=xx("ion-label",void 0,void 0,ty),Ax=xx("ion-title",void 0,void 0,Tg),Nx=xx("ion-toolbar",void 0,void 0,Ng),Zx=function(e,t){var n=function(t,n){return Rd.createElement(e,Object.assign({},t,{forwardedRef:n}))};return n.displayName=t,Rd.forwardRef(n)},Cx=function(){if("undefined"!==typeof window){var e=window.Ionic;if(e&&e.config)return e.config}return null},Ox=function(e,t){!function(e,t){void 0===t||"undefined"===typeof customElements||customElements.get(e)||customElements.define(e,t)}(e,t);var n=dx(e),r=function(t){(0,o.Z)(i,t);var r=(0,a.Z)(i);function i(e){var t;return(0,c.Z)(this,i),(t=r.call(this,e)).handleClick=function(e){var n=t.props,r=n.routerLink,i=n.routerDirection,o=n.routerOptions,a=n.routerAnimation;void 0!==r&&(e.preventDefault(),t.context.navigate(r,i,void 0,a,o))},t.ref=Rd.createRef(),t.stableMergedRefs=bx(t.ref,t.props.forwardedRef),t}return(0,u.Z)(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.ref.current;fx(t,this.props,e)}},{key:"render",value:function(){var t=this,n=this.props,r=n.children,i=(n.forwardedRef,n.style),o=(n.className,n.ref,Lf(n,["children","forwardedRef","style","className","ref"])),a=Object.keys(o).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var n=t.substring(2).toLowerCase();mx(n)&&(e[t]=o[t])}else["string","boolean","number"].includes(typeof o[t])&&(e[px(t)]=o[t]);return e}),{}),s=Object.assign(Object.assign({},a),{ref:this.stableMergedRefs,style:i});if(this.props.routerLink&&!this.props.href&&(s.href=this.props.routerLink),s.onClick){var l=s.onClick;s.onClick=function(e){l(e),e.defaultPrevented||t.handleClick(e)}}else s.onClick=this.handleClick;return(0,Rd.createElement)(e,s,r)}}],[{key:"displayName",get:function(){return n}},{key:"contextType",get:function(){return ux}}]),i}(Rd.Component);return Zx(r,n)},Dx=Ox("ion-button",jg),Mx=Ox("ion-fab-button",Gg),Vx=Ox("ion-item",zg),Lx=function(e,t){t&&t();var n=dx(e),r=function(t){(0,o.Z)(i,t);var r=(0,a.Z)(i);function i(e){var t;return(0,c.Z)(this,i),(t=r.call(this,e)).ref=Rd.createRef(),t.stableMergedRefs=bx(t.ref,t.props.forwardedRef),t.state={isOpen:!1},t.wrapperRef=Rd.createRef(),t}return(0,u.Z)(i,[{key:"componentDidMount",value:function(){var e,t,n,r=this;this.componentDidUpdate(this.props),null===(e=this.ref.current)||void 0===e||e.addEventListener("ionMount",(function(){r.setState({isOpen:!0})})),null===(t=this.ref.current)||void 0===t||t.addEventListener("willPresent",(function(e){r.setState({isOpen:!0}),r.props.onWillPresent&&r.props.onWillPresent(e)})),null===(n=this.ref.current)||void 0===n||n.addEventListener("didDismiss",(function(e){var t=r.wrapperRef.current,n=r.ref.current;t&&n&&(n.append(t),r.setState({isOpen:!1})),r.props.onDidDismiss&&r.props.onDidDismiss(e)}))}},{key:"componentDidUpdate",value:function(e){var t=this.ref.current;fx(t,this.props,e)}},{key:"render",value:function(){var t=this.props,n=t.children,r=(t.forwardedRef,t.style),i=(t.className,t.ref,Lf(t,["children","forwardedRef","style","className","ref"])),o=Object.keys(i).reduce((function(e,t){if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){var n=t.substring(2).toLowerCase();mx(n)&&(e[t]=i[t])}else["string","boolean","number"].includes(typeof i[t])&&(e[px(t)]=i[t]);return e}),{}),a=Object.assign(Object.assign({},o),{ref:this.stableMergedRefs,style:r});return(0,Rd.createElement)("template",{},(0,Rd.createElement)(e,a,this.state.isOpen||this.props.keepContentsMounted?(0,Rd.createElement)("div",{id:"ion-react-wrapper",ref:this.wrapperRef,className:"ion-delegate-host",style:{display:"flex",flexDirection:"column",height:"100%"}},n):null))}}],[{key:"displayName",get:function(){return n}}]),i}(Rd.Component);return Zx(r,n)},Px=Lx("ion-modal",Cb),Ux=Rd.createContext({addOverlay:function(){},removeOverlay:function(){}}),Fx=function(e){var t=e.onAddOverlay,n=e.onRemoveOverlay,r=(0,Rd.useState)({}),i=(0,p.Z)(r,2),o=i[0],a=i[1],s=(0,Rd.useRef)({});s.current=o,(0,Rd.useEffect)((function(){t(l),n(c)}),[]);var l=function(e,t,n){var r=Object.assign({},s.current);r[e]={component:t,containerElement:n},a(r)},c=function(e){var t=Object.assign({},s.current);delete t[e],a(t)},u=Object.keys(o);return Rd.createElement(Rd.Fragment,null,u.map((function(e){var t=o[e];return Td.createPortal(t.component,t.containerElement,"overlay-".concat(e))})))},Bx=xx("ion-tab-button",void 0,void 0,$b),jx=xx("ion-tab-bar",void 0,void 0,jb),Hx=xx("ion-back-button",void 0,void 0,Pb),Gx=xx("ion-router-outlet",void 0,void 0,Fb),zx=xx("ion-app",void 0,void 0,Vb),$x=xx("ion-icon",void 0,void 0,sx),qx=function(){return function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).ionContext={addOverlay:function(e,t,n){r.addOverlayCallback&&r.addOverlayCallback(e,t,n)},removeOverlay:function(e){r.removeOverlayCallback&&r.removeOverlayCallback(e)}},r}return(0,u.Z)(n,[{key:"render",value:function(){var e=this;return Rd.createElement(Ux.Provider,{value:this.ionContext},Rd.createElement(zx,Object.assign({},this.props),this.props.children),Rd.createElement(Fx,{onAddOverlay:function(t){e.addOverlayCallback=t},onRemoveOverlay:function(t){e.removeOverlayCallback=t}}))}}],[{key:"displayName",get:function(){return"IonApp"}}]),n}(Rd.Component)}(),Yx=Rd.createContext({registerIonPage:function(){},isInOutlet:function(){return!1}}),Wx=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).ionPageElementRef=Rd.createRef(),r.stableMergedRefs=bx(r.ionPageElementRef,r.props.forwardedRef),r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"componentWillUnmount",value:function(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"ionViewWillEnterHandler",value:function(){this.ionLifeCycleContext.ionViewWillEnter()}},{key:"ionViewDidEnterHandler",value:function(){this.ionLifeCycleContext.ionViewDidEnter()}},{key:"ionViewWillLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewWillLeave()}},{key:"ionViewDidLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewDidLeave()}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.children,i=(t.routeInfo,t.forwardedRef,Lf(t,["className","children","routeInfo","forwardedRef"]));return Rd.createElement(lx.Consumer,null,(function(t){return e.ionLifeCycleContext=t,Rd.createElement("div",Object.assign({className:n?"".concat(n," ion-page"):"ion-page",ref:e.stableMergedRefs},i),r)}))}}],[{key:"contextType",get:function(){return Yx}}]),n}(Rd.PureComponent),Qx=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.forwardedRef,i=Lf(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?Rd.createElement(Wx,Object.assign({className:t?"".concat(t):"",routeInfo:this.context.routeInfo,forwardedRef:r},i),n):Rd.createElement("div",Object.assign({className:t?"ion-page ".concat(t):"ion-page",ref:r},i),n)}}],[{key:"displayName",get:function(){return"IonPage"}},{key:"contextType",get:function(){return ux}}]),n}(Rd.Component),Jx=Zx(Qx,"IonPage"),Xx=xx("ion-nav",void 0,void 0,Ey),Kx=(Zx((function(e){e.children;var t=e.forwardedRef,n=Lf(e,["children","forwardedRef"]),r=(0,Rd.useState)([]),i=(0,p.Z)(r,2),o=i[0],a=i[1],c=function(e,t){var n=new WeakMap,r=function(){var t=(0,l.Z)((0,s.Z)().mark((function t(r,i,o,a){var l,c,u,p;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=document.createElement("div"),a&&(l=c.classList).add.apply(l,(0,d.Z)(a)),r.appendChild(c),u=i(o),p=(0,Td.createPortal)(u,c),n.set(i,p),e(p),t.abrupt("return",Promise.resolve(c));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}();return{attachViewToDom:r,removeViewFromDom:function(e,r){var i=n.get(r);return i&&t(i),Promise.resolve()}}}((function(e){return a([].concat((0,d.Z)(o),[e]))}),(function(e){return a(o.filter((function(t){return t!==e})))}));return Rd.createElement(Xx,Object.assign({delegate:c,ref:t},n),o)}),"IonNav"),Rd.createContext({activeTab:void 0,selectTab:function(){return!1}})),ew="undefined"!==typeof HTMLElement?HTMLElement:function(){return(0,u.Z)((function e(){(0,c.Z)(this,e)}))}(),tw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).outletIsReady=!1,r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.ionRouterOutlet&&(this.outletIsReady||(0,sf.c)(this.ionRouterOutlet,(function(){e.outletIsReady=!0,e.context.registerIonPage(e.ionRouterOutlet,e.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"componentWillUnmount",value:function(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}},{key:"ionViewWillEnterHandler",value:function(){this.ionLifeCycleContext.ionViewWillEnter()}},{key:"ionViewDidEnterHandler",value:function(){this.ionLifeCycleContext.ionViewDidEnter()}},{key:"ionViewWillLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewWillLeave()}},{key:"ionViewDidLeaveHandler",value:function(){this.ionLifeCycleContext.ionViewDidLeave()}},{key:"render",value:function(){var e=this,t=this.props,n=t.StackManager,r=t.children,i=t.routeInfo,o=Lf(t,["StackManager","children","routeInfo"]);return Rd.createElement(lx.Consumer,null,(function(t){return e.ionLifeCycleContext=t,Rd.createElement(n,{routeInfo:i},Rd.createElement(Gx,Object.assign({setRef:function(t){return e.ionRouterOutlet=t}},o),r))}))}}],[{key:"contextType",get:function(){return Yx}}]),n}(Rd.Component),nw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.context.getStackManager(),t=this.props,n=t.children,r=t.forwardedRef,i=Lf(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?i.ionPage?Rd.createElement(tw,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},i),n):Rd.createElement(e,{routeInfo:this.context.routeInfo},Rd.createElement(Gx,Object.assign({},i,{forwardedRef:r}),n)):Rd.createElement(Gx,Object.assign({ref:r},this.props),this.props.children)}}],[{key:"contextType",get:function(){return ux}}]),n}(Rd.Component),rw=Zx(nw,"IonRouterOutlet"),iw=function(){return function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).handleIonTabButtonClick=r.handleIonTabButtonClick.bind((0,Mp.Z)(r)),r}return(0,u.Z)(n,[{key:"handleIonTabButtonClick",value:function(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}},{key:"render",value:function(){var e=Lf(this.props,["onClick"]);return Rd.createElement(Bx,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}}],[{key:"displayName",get:function(){return"IonTabButton"}}]),n}(Rd.Component)}(),ow=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;(0,c.Z)(this,n),(r=t.call(this,e)).setActiveTabOnContext=function(e){};var i={};return Rd.Children.forEach(e.children,(function(t){var n,r,o,a;null!=t&&"object"===typeof t&&t.props&&(t.type===iw||t.type.isTabButton)&&(i[t.props.tab]={originalHref:t.props.href,currentHref:t.props.href,originalRouteOptions:t.props.href===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)?null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions:void 0,currentRouteOptions:t.props.href===(null===(o=e.routeInfo)||void 0===o?void 0:o.pathname)?null===(a=e.routeInfo)||void 0===a?void 0:a.routeOptions:void 0})})),r.state={tabs:i},r.onTabButtonClick=r.onTabButtonClick.bind((0,Mp.Z)(r)),r.renderTabButton=r.renderTabButton.bind((0,Mp.Z)(r)),r.setActiveTabOnContext=r.setActiveTabOnContext.bind((0,Mp.Z)(r)),r.selectTab=r.selectTab.bind((0,Mp.Z)(r)),r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.tabs,n=Object.keys(t).find((function(n){var r=t[n].originalHref;return e.props.routeInfo.pathname.startsWith(r)}));n&&this.setState({activeTab:n})}},{key:"componentDidUpdate",value:function(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}},{key:"selectTab",value:function(e){var t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}},{key:"onTabButtonClick",value:function(e,t){var n=this.state.tabs[e.detail.tab],r=n.originalHref,i=e.detail.href,o=this.state.activeTab;t&&t(e),o===e.detail.tab?r!==i&&this.context.resetTab(e.detail.tab,r,n.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,i,e.detail.routeOptions))}},{key:"renderTabButton",value:function(e){var t=this;return function(n){var r,i;if(null!=n&&n.props&&(n.type===iw||n.type.isTabButton)){var o=n.props.tab===e?null===(r=t.props.routeInfo)||void 0===r?void 0:r.pathname:t.state.tabs[n.props.tab].currentHref,a=n.props.tab===e?null===(i=t.props.routeInfo)||void 0===i?void 0:i.routeOptions:t.state.tabs[n.props.tab].currentRouteOptions;return Rd.cloneElement(n,{href:o,routeOptions:a,onClick:function(e){return t.onTabButtonClick(e,n.props.onClick)}})}return null}}},{key:"render",value:function(){var e=this.state.activeTab;return Rd.createElement(jx,Object.assign({},this.props,{selectedTab:e}),Rd.Children.map(this.props.children,this.renderTabButton(e)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,r,i,o=Object.assign({},t.tabs),a=Object.keys(t.tabs).find((function(n){var r=t.tabs[n].originalHref;return e.routeInfo.pathname.startsWith(r)}));Rd.Children.forEach(e.children,(function(e){if(null!=e&&"object"===typeof e&&e.props&&(e.type===iw||e.type.isTabButton)){var t=o[e.props.tab];t&&t.originalHref===e.props.href||(o[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));var s=t.activeTab;if(a&&s){var l=t.tabs[s].currentHref,c=t.tabs[s].currentRouteOptions;a===s&&l===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)&&c===(null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions)||(o[a]={originalHref:o[a].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[a].originalRouteOptions,currentRouteOptions:null===(i=e.routeInfo)||void 0===i?void 0:i.routeOptions},"pop"===e.routeInfo.routeAction&&a!==s&&(o[s]={originalHref:o[s].originalHref,currentHref:o[s].originalHref,originalRouteOptions:o[s].originalRouteOptions,currentRouteOptions:o[s].currentRouteOptions}))}return a&&e.onSetCurrentTab(a,e.routeInfo),{activeTab:a,tabs:o}}},{key:"contextType",get:function(){return ux}}]),n}(Rd.PureComponent),aw=Rd.memo((function(e){var t=e.forwardedRef,n=Lf(e,["forwardedRef"]),r=(0,Rd.useContext)(ux);return Rd.createElement(ow,Object.assign({ref:t},n,{routeInfo:n.routeInfo||r.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:r.setCurrentTab}),n.children)})),sw=Zx(aw,"IonTabBar"),lw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this)}return(0,u.Z)(n)}(ew);"undefined"!==typeof window&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",lw));var cw={display:"flex",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",flexDirection:"column",width:"100%",height:"100%",contain:"layout size style"},uw={position:"relative",flex:1,contain:"layout size style"},dw=function(){return function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).routerOutletRef=Rd.createRef(),r.tabBarRef=Rd.createRef(),r.ionTabContextState={activeTab:void 0,selectTab:function(){return!1}},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=function(t){e.ionTabContextState.activeTab=t},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}},{key:"render",value:function(){var e,t,n=this,r=this.props,i=r.className,o=r.onIonTabsDidChange,a=r.onIonTabsWillChange,s=Lf(r,["className","onIonTabsDidChange","onIonTabsWillChange"]),l="function"===typeof this.props.children?this.props.children(this.ionTabContextState):this.props.children;if(Rd.Children.forEach(l,(function(r){if(null!=r&&"object"===typeof r&&r.hasOwnProperty("type")){r.type===rw||r.type.isRouterOutlet?e=Rd.cloneElement(r):r.type===Rd.Fragment&&r.props.children[0].type===rw&&(e=r.props.children[0]);var i={ref:n.tabBarRef};void 0!==o&&(i=Object.assign(Object.assign({},i),{onIonTabsDidChange:o})),void 0!==a&&(i=Object.assign(Object.assign({},i),{onIonTabsWillChange:a})),r.type===sw||r.type.isTabBar?t=Rd.cloneElement(r,i):r.type!==Rd.Fragment||r.props.children[1].type!==sw&&!r.props.children[1].type.isTabBar||(t=Rd.cloneElement(r.props.children[1],i))}})),!e)throw new Error("IonTabs must contain an IonRouterOutlet");if(!t)throw new Error("IonTabs needs a IonTabBar");return Rd.createElement(Kx.Provider,{value:this.ionTabContextState},this.context.hasIonicRouter()?Rd.createElement(Wx,Object.assign({className:i?"".concat(i):"",routeInfo:this.context.routeInfo},s),Rd.createElement("ion-tabs",{className:"ion-tabs",style:cw},"top"===t.props.slot?t:null,Rd.createElement("div",{style:uw,className:"tabs-inner"},e),"bottom"===t.props.slot?t:null)):Rd.createElement("div",Object.assign({className:i?"".concat(i):"ion-tabs"},s,{style:cw}),"top"===t.props.slot?t:null,Rd.createElement("div",{style:uw,className:"tabs-inner"},e),"bottom"===t.props.slot?t:null))}}],[{key:"contextType",get:function(){return ux}}]),n}(Rd.Component)}(),pw=function(){return function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.apply(this,arguments)).clickButton=function(t){if(!t.target||null===t.target.closest("ion-nav")){var n=e.props,r=n.defaultHref,i=n.routerAnimation;e.context.hasIonicRouter()?(t.stopPropagation(),e.context.goBack(r,i)):void 0!==r&&(window.location.href=r)}},e}return(0,u.Z)(n,[{key:"render",value:function(){return Rd.createElement(Hx,Object.assign({onClick:this.clickButton},this.props))}}],[{key:"displayName",get:function(){return"IonBackButton"}},{key:"contextType",get:function(){return ux}}]),n}(Rd.Component)}(),fw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.'),r}return(0,u.Z)(n,[{key:"render",value:function(){var e,t,n,r=this.props,i=r.icon,o=r.ios,a=r.md,s=Lf(r,["icon","ios","md"]);return n=o||a?zp(window,"ios")?null!==(e=null!==o&&void 0!==o?o:a)&&void 0!==e?e:i:null!==(t=null!==a&&void 0!==a?a:o)&&void 0!==t?t:i:i,Rd.createElement($x,Object.assign({ref:this.props.forwardedRef,icon:n},s),this.props.children)}}],[{key:"contextType",get:function(){return ux}}]),n}(Rd.PureComponent),hw=Zx(fw,"IonIcon"),mw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.context.getIonRoute();return this.context.hasIonicRouter()&&n?Rd.createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}}],[{key:"contextType",get:function(){return ux}}]),n}(Rd.PureComponent),vw=(Rd.PureComponent,Rd.createContext({routeInfo:void 0,push:function(){throw new Error("An Ionic Router is required for IonRouterContext")},back:function(){throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:function(){throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:function(){throw new Error("An Ionic Router is required for IonRouterContext")}}));Rd.PureComponent;var yw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(var i in t)t.hasOwnProperty(i)&&!r.includes(i)&&t[i]!==n[i]&&e[i](t[i]);var o=t.from;if(o&&o!==n.from){var a=Array.isArray(o)?o:[o];a.forEach((function(t){return e.from(t.property,t.value)}))}var s=t.to;if(s&&s!==n.to){var l=Array.isArray(s)?s:[s];l.forEach((function(t){return e.to(t.property,t.value)}))}var c=t.fromTo;if(c&&c!==n.fromTo){var u=Array.isArray(c)?c:[c];u.forEach((function(t){return e.fromTo(t.property,t.fromValue,t.toValue)}))}var d=t.onFinish;if(d&&d!==n.onFinish){var p=Array.isArray(d)?d:[d];p.forEach((function(t){return e.onFinish(t.callback,t.opts)}))}},gw=function(e){var t,n,r,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=a.progressStart,c=a.progressStep,u=a.progressEnd;!l||(null===(t=s.progressStart)||void 0===t?void 0:t.forceLinearEasing)===(null===l||void 0===l?void 0:l.forceLinearEasing)&&(null===(n=s.progressStart)||void 0===n?void 0:n.step)===(null===l||void 0===l?void 0:l.step)||e.progressStart(l.forceLinearEasing,l.step),c&&(null===(r=s.progressStep)||void 0===r?void 0:r.step)!==(null===c||void 0===c?void 0:c.step)&&e.progressStep(c.step),!u||(null===(i=s.progressEnd)||void 0===i?void 0:i.playTo)===(null===u||void 0===u?void 0:u.playTo)&&(null===(o=s.progressEnd)||void 0===o?void 0:o.step)===(null===u||void 0===u?void 0:u.step)&&(null===s||void 0===s?void 0:s.dur)===(null===u||void 0===u?void 0:u.dur)||e.progressEnd(u.playTo,u.step,u.dur)},bw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!n.play&&t.play&&e.play(),!n.pause&&t.pause&&e.pause(),!n.stop&&t.stop&&e.stop(),!n.destroy&&t.destroy&&e.destroy()};function xw(t,n,r){var i=(0,Rd.useRef)(),o=(0,Rd.useMemo)((function(){return"on".concat(t,"DidDismiss")}),[t]),a=(0,Rd.useMemo)((function(){return"on".concat(t,"DidPresent")}),[t]),c=(0,Rd.useMemo)((function(){return"on".concat(t,"WillDismiss")}),[t]),u=(0,Rd.useMemo)((function(){return"on".concat(t,"WillPresent")}),[t]);r();var d=(0,Rd.useCallback)(function(){var t=(0,l.Z)((0,s.Z)().mark((function t(r){var l,d,p,f,h,m,v;return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.current){t.next=2;break}return t.abrupt("return");case 2:return d=r.onDidDismiss,p=r.onWillDismiss,f=r.onDidPresent,h=r.onWillPresent,m=Lf(r,["onDidDismiss","onWillDismiss","onDidPresent","onWillPresent"]),v=function(e){d&&d(e),i.current=void 0},t.next=6,n.create(Object.assign({},m));case 6:i.current=t.sent,fx(i.current,(l={},(0,e.Z)(l,o,v),(0,e.Z)(l,a,(function(e){return f&&f(e)})),(0,e.Z)(l,c,(function(e){return p&&p(e)})),(0,e.Z)(l,u,(function(e){return h&&h(e)})),l)),i.current.present();case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n]);return{present:d,dismiss:(0,Rd.useCallback)((0,l.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.current,!e.t0){e.next=4;break}return e.next=4,i.current.dismiss();case 4:i.current=void 0;case 5:case"end":return e.stop()}}),e)}))),[])}}function ww(){var e=xw("IonToast",hf,nb);return[(0,Rd.useCallback)((function(t,n){return"string"===typeof t?e.present({message:t,duration:n}):e.present(t)}),[e.present]),e.dismiss]}var kw={main:0},Ew=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=(null!==(e=kw[t])&&void 0!==e?e:0)+1;return kw[t]=n,n.toString()};var Iw=Rd.createContext({addViewItem:function(){},canGoBack:function(){},clearOutlet:function(){},createViewItem:function(){},findViewItemByPathname:function(){},findLeavingViewItemByRouteInfo:function(){},findViewItemByRouteInfo:function(){},getChildrenToRender:function(){},goBack:function(){},unMountViewItem:function(){}}),Rw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).ionLifeCycleContext=new cx,r._isMounted=!1,r.ionLifeCycleContext.onComponentCanBeDestroyed((function(){r.props.mount||r._isMounted&&r.setState({show:!1},(function(){return r.props.removeView()}))})),r.state={show:!0},r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state.show;return Rd.createElement(lx.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}]),n}(Rd.Component),Tw=function(){function e(){(0,c.Z)(this,e),this.locationHistory=[],this.tabHistory={}}return(0,u.Z)(e,[{key:"add",value:function(e){"push"===e.routeAction||null==e.routeAction?this._add(e):"pop"===e.routeAction?this._pop(e):"replace"===e.routeAction&&this._replace(e),"root"===e.routeDirection&&(this._clear(),this._add(e))}},{key:"clearTabStack",value:function(e){var t=this,n=this._getRouteInfosByKey(e);n&&(n.forEach((function(e){t.locationHistory=t.locationHistory.filter((function(t){return t.id!==e.id}))})),this.tabHistory[e]=[])}},{key:"update",value:function(e){var t=this.locationHistory.findIndex((function(t){return t.id===e.id}));t>-1&&this.locationHistory.splice(t,1,e);var n=this.tabHistory[e.tab||""];if(n){var r=n.findIndex((function(t){return t.id===e.id}));r>-1?n.splice(r,1,e):n.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}},{key:"_add",value:function(e){var t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}},{key:"_areRoutesEqual",value:function(e,t){return!(!e||!t)&&(e.pathname===t.pathname&&e.search===t.search)}},{key:"_pop",value:function(e){var t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}},{key:"_replace",value:function(e){var t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}},{key:"_clear",value:function(){var e=this;Object.keys(this.tabHistory).forEach((function(t){return e.tabHistory[t]=[]})),this.locationHistory=[]}},{key:"_getRouteInfosByKey",value:function(e){var t;return e&&((t=this.tabHistory[e])||(t=this.tabHistory[e]=[])),t}},{key:"getFirstRouteInfoForTab",value:function(e){var t=this._getRouteInfosByKey(e);if(t)return t[0]}},{key:"getCurrentRouteInfoForTab",value:function(e){var t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}},{key:"findLastLocation",value:function(e){var t=this._getRouteInfosByKey(e.tab);if(t)for(var n=t.length-2;n>=0;n--){var r=t[n];if(r&&r.pathname===e.pushedByRoute)return r}for(var i=this.locationHistory.length-2;i>=0;i--){var o=this.locationHistory[i];if(o&&o.pathname===e.pushedByRoute)return o}}},{key:"previous",value:function(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}},{key:"current",value:function(){return this.locationHistory[this.locationHistory.length-1]}},{key:"canGoBack",value:function(){return this.locationHistory.length>1}}]),e}(),_w=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e))._isMounted=!1,r.ionRouterContextValue={push:function(e,t,n,i,o){r.navigate(e,t,n,o,i)},back:function(e){r.goBack(void 0,e)},canGoBack:function(){return r.props.locationHistory.canGoBack()},nativeBack:function(){return r.props.onNativeBack()},routeInfo:r.props.routeInfo},r.state={goBack:r.goBack.bind((0,Mp.Z)(r)),hasIonicRouter:function(){return!0},navigate:r.navigate.bind((0,Mp.Z)(r)),getIonRedirect:r.getIonRedirect.bind((0,Mp.Z)(r)),getIonRoute:r.getIonRoute.bind((0,Mp.Z)(r)),getStackManager:r.getStackManager.bind((0,Mp.Z)(r)),getPageManager:r.getPageManager.bind((0,Mp.Z)(r)),routeInfo:r.props.routeInfo,setCurrentTab:r.props.onSetCurrentTab,changeTab:r.props.onChangeTab,resetTab:r.props.onResetTab},"undefined"!==typeof document&&(r.handleHardwareBackButton=r.handleHardwareBackButton.bind((0,Mp.Z)(r)),document.addEventListener("ionBackButton",r.handleHardwareBackButton)),r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("ionBackButton",this.handleHardwareBackButton),this._isMounted=!1)}},{key:"handleHardwareBackButton",value:function(e){var t=this;e.detail.register(0,(function(e){t._isMounted&&(t.nativeGoBack(),e())}))}},{key:"goBack",value:function(e,t){this.props.onNavigateBack(e,t)}},{key:"nativeGoBack",value:function(){this.props.onNativeBack()}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forward",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"push",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;this.props.onNavigate(e,n,t,r,i,o)}},{key:"getPageManager",value:function(){return Wx}},{key:"getIonRedirect",value:function(){return this.props.ionRedirect}},{key:"getIonRoute",value:function(){return this.props.ionRoute}},{key:"getStackManager",value:function(){return this.props.stackManager}},{key:"render",value:function(){return Rd.createElement(ux.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},Rd.createElement(vw.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}]),n}(Rd.PureComponent),Sw=function(){function e(){(0,c.Z)(this,e),this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}return(0,u.Z)(e,[{key:"add",value:function(e){var t=e.outletId;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}},{key:"clear",value:function(e){var t=this;return setTimeout((function(){delete t.viewStacks[e]}),500)}},{key:"getViewItemsForOutlet",value:function(e){return this.viewStacks[e]||[]}},{key:"remove",value:function(e){var t=e.outletId,n=this.viewStacks[t];if(n){var r=n.find((function(t){return t.id===e.id}));r&&(r.mount=!1,this.viewStacks[t]=n.filter((function(e){return e.id!==r.id})))}}},{key:"getStackIds",value:function(){return Object.keys(this.viewStacks)}},{key:"getAllViewItems",value:function(){var e=this,t=this.getStackIds(),n=[];return t.forEach((function(t){n.push.apply(n,(0,d.Z)(e.viewStacks[t]))})),n}}]),e}(),Aw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){return Rd.createElement(_p,{path:this.props.path,exact:this.props.exact,render:this.props.render,computedMatch:this.props.computedMatch})}}]),n}(Rd.PureComponent),Nw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this)).createViewItem=e.createViewItem.bind((0,Mp.Z)(e)),e.findViewItemByRouteInfo=e.findViewItemByRouteInfo.bind((0,Mp.Z)(e)),e.findLeavingViewItemByRouteInfo=e.findLeavingViewItemByRouteInfo.bind((0,Mp.Z)(e)),e.getChildrenToRender=e.getChildrenToRender.bind((0,Mp.Z)(e)),e.findViewItemByPathname=e.findViewItemByPathname.bind((0,Mp.Z)(e)),e}return(0,u.Z)(n,[{key:"createViewItem",value:function(e,t,n,r){var i={id:Ew("viewItem"),outletId:e,ionPageElement:r,reactElement:t,mount:!0,ionRoute:!1},o={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component},a=Tp(n.pathname,o);return t.type===mw&&(i.ionRoute=!0,i.disableIonPageManagement=t.props.disableIonPageManagement),i.routeData={match:a,childProps:t.props},i}},{key:"getChildrenToRender",value:function(e,t,n){var r=this,i=this.getViewItemsForOutlet(e);return Rd.Children.forEach(t.props.children,(function(e){var t=i.find((function(t){return Zw(e,t.routeData.childProps.path||t.routeData.childProps.from)}));t&&(t.reactElement=e)})),i.map((function(e){var t;if(e.ionRoute&&!e.disableIonPageManagement)t=Rd.createElement(Rw,{key:"view-".concat(e.id),mount:e.mount,removeView:function(){return r.remove(e)}},Rd.cloneElement(e.reactElement,{computedMatch:e.routeData.match}));else{var i=Zw(e.reactElement,n.pathname);t=Rd.createElement(Rw,{key:"view-".concat(e.id),mount:e.mount,removeView:function(){return r.remove(e)}},Rd.cloneElement(e.reactElement,{computedMatch:e.routeData.match})),!i&&e.routeData.match&&(e.routeData.match=void 0,e.mount=!1)}return t}))}},{key:"findViewItemByRouteInfo",value:function(e,t,n){var r=this.findViewItemByPath(e.pathname,t),i=r.viewItem,o=r.match;return(void 0===n||!0===n)&&i&&o&&(i.routeData.match=o),i}},{key:"findLeavingViewItemByRouteInfo",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this.findViewItemByPath(e.lastPathname,t,!1,n),i=r.viewItem;return i}},{key:"findViewItemByPathname",value:function(e,t){return this.findViewItemByPath(e,t).viewItem}},{key:"findViewItemByPath",value:function(e,t,n,r){var i,o,a;if(t)(a=this.getViewItemsForOutlet(t)).some(l),i||a.some(c);else{var s=this.getAllViewItems();s.some(l),i||s.some(c)}return{viewItem:i,match:o};function l(t){if(r&&!t.ionRoute)return!1;var a={exact:!!n||t.routeData.childProps.exact,path:t.routeData.childProps.path||t.routeData.childProps.from,component:t.routeData.childProps.component},s=Tp(e,a);return!!s&&(i=t,o=s,!0)}function c(t){return!t.routeData.childProps.path&&!t.routeData.childProps.from&&(o={path:e,url:e,isExact:!0,params:{}},i=t,!0)}}}]),n}(Sw);function Zw(e,t,n){return Tp(t,{exact:!!n||e.props.exact,path:e.props.path||e.props.from,component:e.props.component})}function Cw(e){var t;if(t="string"===typeof e?e:e.outerHTML,document){var n=document.createElement("div");n.innerHTML=t,n.style.zIndex="";var r=n.getElementsByTagName("ion-back-button");return r[0]&&r[0].remove(),n.firstChild}}var Ow=function(e){return!e.classList.contains("ion-page-invisible")&&!e.classList.contains("ion-page-hidden")},Dw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this,e)).stackContextValue={registerIonPage:r.registerIonPage.bind((0,Mp.Z)(r)),isInOutlet:function(){return!0}},r.pendingPageTransition=!1,r.registerIonPage=r.registerIonPage.bind((0,Mp.Z)(r)),r.transitionPage=r.transitionPage.bind((0,Mp.Z)(r)),r.handlePageTransition=r.handlePageTransition.bind((0,Mp.Z)(r)),r.id=Ew("routerOutlet"),r.prevProps=void 0,r.skipTransition=!1,r}return(0,u.Z)(n,[{key:"componentDidMount",value:function(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}},{key:"componentDidUpdate",value:function(e){this.props.routeInfo.pathname!==e.routeInfo.pathname?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}},{key:"componentWillUnmount",value:function(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}},{key:"handlePageTransition",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.routerOutletElement&&this.routerOutletElement.commit){e.next=4;break}this.pendingPageTransition=!0,e.next=22;break;case 4:if(i=this.context.findViewItemByRouteInfo(t,this.id),!(o=this.context.findLeavingViewItemByRouteInfo(t,this.id))&&t.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(t.prevRouteLastPathname,this.id)),o&&("replace"===t.routeAction?o.mount=!1:"push"!==t.routeAction||"forward"!==t.routeDirection?"none"!==t.routeDirection&&i!==o&&(o.mount=!1):(null===(n=t.routeOptions)||void 0===n?void 0:n.unmount)&&(o.mount=!1)),a=Mw(null===(r=this.ionRouterOutlet)||void 0===r?void 0:r.props.children,t),i?i.reactElement=a:a&&(i=this.context.createViewItem(this.id,a,t),this.context.addViewItem(i)),!i||!i.ionPageElement){e.next=20;break}if(i!==o){e.next=14;break}if(i.routeData.match.url===t.pathname){e.next=14;break}return e.abrupt("return");case 14:if(!o&&this.props.routeInfo.prevRouteLastPathname&&(o=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),!Ow(i.ionPageElement)||void 0===o||Ow(o.ionPageElement)){e.next=17;break}return e.abrupt("return");case 17:this.transitionPage(t,i,o),e.next=21;break;case 20:!o||a||i||o.ionPageElement&&(o.ionPageElement.classList.add("ion-page-hidden"),o.ionPageElement.setAttribute("aria-hidden","true"));case 21:this.forceUpdate();case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"registerIonPage",value:function(e,t){var n=this.context.findViewItemByRouteInfo(t,this.id);if(n){var r=n.ionPageElement;if(n.ionPageElement=e,n.ionRoute=!0,r===e)return}this.handlePageTransition(t)}},{key:"setupRouterOutlet",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n,r,i,o=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=Cx();if(!(e&&e.get("swipeBackEnabled","ios"===t.mode)))return!1;var n=o.props.routeInfo,r=o.prevProps&&o.prevProps.routeInfo.pathname===n.pushedByRoute?o.prevProps.routeInfo:{pathname:n.pushedByRoute||""},i=o.context.findViewItemByRouteInfo(r,o.id,!1);return!!i&&i.mount&&i.routeData.match.path!==n.pathname},r=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(){var t,n,r,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.props.routeInfo,n=o.prevProps&&o.prevProps.routeInfo.pathname===t.pushedByRoute?o.prevProps.routeInfo:{pathname:t.pushedByRoute||""},r=o.context.findViewItemByRouteInfo(n,o.id,!1),i=o.context.findViewItemByRouteInfo(t,o.id,!1),!r||!i){e.next=7;break}return e.next=7,o.transitionPage(t,r,i,"back",!0);case 7:return e.abrupt("return",Promise.resolve());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(e){if(e)o.skipTransition=!0,o.context.goBack();else{var t=o.props.routeInfo,n=o.prevProps&&o.prevProps.routeInfo.pathname===t.pushedByRoute?o.prevProps.routeInfo:{pathname:t.pushedByRoute||""},r=o.context.findViewItemByRouteInfo(n,o.id,!1);if(r!==o.context.findViewItemByRouteInfo(t,o.id,!1)&&void 0!==(null===r||void 0===r?void 0:r.ionPageElement)){var i=r.ionPageElement;i.setAttribute("aria-hidden","true"),i.classList.add("ion-page-hidden")}}},t.swipeHandler={canStart:n,onStart:r,onEnd:i};case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"transitionPage",value:function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o,a,c,u,d,p,f=this,h=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=h.length>4&&void 0!==h[4]&&h[4],a=function(){var e=(0,l.Z)((0,s.Z)().mark((function e(n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=f.skipTransition)?f.skipTransition=!1:(n.classList.add("ion-page"),n.classList.add("ion-page-invisible")),e.next=4,c.commit(n,r,{deepWait:!0,duration:i||void 0===d?0:void 0,direction:d,showGoBack:!!t.pushedByRoute,progressAnimation:o,animationBuilder:t.routeAnimation});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=this.routerOutletElement,u="none"===t.routeDirection||"root"===t.routeDirection?void 0:t.routeDirection,d=null!==i&&void 0!==i?i:u,!(n&&n.ionPageElement&&this.routerOutletElement)){e.next=24;break}if(!r||!r.ionPageElement||n!==r){e.next=21;break}if(!Vw(r.reactElement,t.pathname,!0)){e.next=17;break}if(!(p=Cw(r.ionPageElement.outerHTML))){e.next=15;break}return this.routerOutletElement.appendChild(p),e.next=14,a(n.ionPageElement,p);case 14:this.routerOutletElement.removeChild(p);case 15:e.next=19;break;case 17:return e.next=19,a(n.ionPageElement,void 0);case 19:e.next=24;break;case 21:return e.next=23,a(n.ionPageElement,null===r||void 0===r?void 0:r.ionPageElement);case 23:r&&r.ionPageElement&&!o&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.children,n=Rd.Children.only(t);this.ionRouterOutlet=n;var r=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,(function(){e.forceUpdate()}));return Rd.createElement(Yx.Provider,{value:this.stackContextValue},Rd.cloneElement(n,{ref:function(t){n.props.setRef&&n.props.setRef(t),n.props.forwardedRef&&(n.props.forwardedRef.current=t),e.routerOutletElement=t;var r=n.ref;"function"===typeof r&&r(t)}},r))}}],[{key:"contextType",get:function(){return Iw}}]),n}(Rd.PureComponent);function Mw(e,t){var n;return Rd.Children.forEach(e,(function(e){var r={exact:e.props.exact,path:e.props.path||e.props.from,component:e.props.component};Tp(t.pathname,r)&&(n=e)})),n||(Rd.Children.forEach(e,(function(e){e.props.path||e.props.from||(n=e)})),n)}function Vw(e,t,n){return Tp(t,{exact:!!n||e.props.exact,path:e.props.path||e.props.from,component:e.props.component})}var Lw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;(0,c.Z)(this,n),(r=t.call(this,e)).exitViewFromOtherOutletHandlers=[],r.locationHistory=new Tw,r.viewStack=new Nw,r.routeMangerContextState={canGoBack:function(){return r.locationHistory.canGoBack()},clearOutlet:r.viewStack.clear,findViewItemByPathname:r.viewStack.findViewItemByPathname,getChildrenToRender:r.viewStack.getChildrenToRender,goBack:function(){return r.handleNavigateBack()},createViewItem:r.viewStack.createViewItem,findViewItemByRouteInfo:r.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:r.viewStack.findLeavingViewItemByRouteInfo,addViewItem:r.viewStack.add,unMountViewItem:r.viewStack.remove};var i={id:Ew("routeInfo"),pathname:r.props.location.pathname,search:r.props.location.search};return r.locationHistory.add(i),r.handleChangeTab=r.handleChangeTab.bind((0,Mp.Z)(r)),r.handleResetTab=r.handleResetTab.bind((0,Mp.Z)(r)),r.handleNativeBack=r.handleNativeBack.bind((0,Mp.Z)(r)),r.handleNavigate=r.handleNavigate.bind((0,Mp.Z)(r)),r.handleNavigateBack=r.handleNavigateBack.bind((0,Mp.Z)(r)),r.props.registerHistoryListener(r.handleHistoryChange.bind((0,Mp.Z)(r))),r.handleSetCurrentTab=r.handleSetCurrentTab.bind((0,Mp.Z)(r)),r.state={routeInfo:i},r}return(0,u.Z)(n,[{key:"handleChangeTab",value:function(e,t,n){if(t){var r=this.locationHistory.getCurrentRouteInfoForTab(e),i=t.split("?"),o=(0,p.Z)(i,2),a=o[0],s=o[1];r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===a?(this.incomingRouteParams.routeOptions=n,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=a,this.incomingRouteParams.search=s?"?"+s:void 0,this.incomingRouteParams.routeOptions=n,this.props.history.push(a+(s?"?"+s:"")))):this.handleNavigate(a,"push","none",void 0,n,e)}}},{key:"handleHistoryChange",value:function(e,t){var n,r,i,o;if((o=this.incomingRouteParams&&"replace"===this.incomingRouteParams.routeAction?this.locationHistory.previous():this.locationHistory.current()).pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if("REPLACE"===t&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),"POP"===t){var a=this.locationHistory.current();if(a&&a.pushedByRoute){var s=this.locationHistory.findLastLocation(a);this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:(null===(n=e.state)||void 0===n?void 0:n.direction)||"forward",routeOptions:null===(r=e.state)||void 0===r?void 0:r.routerOptions,tab:this.currentTab})}var l;if(null===(i=this.incomingRouteParams)||void 0===i?void 0:i.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(l);else{var c="push"===this.incomingRouteParams.routeAction&&"forward"===this.incomingRouteParams.routeDirection;if(l=Object.assign(Object.assign({id:Ew("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)l.tab=o.tab,l.pushedByRoute=o.pathname;else if("pop"===l.routeAction){var u=this.locationHistory.findLastLocation(l);l.pushedByRoute=null===u||void 0===u?void 0:u.pushedByRoute}else if("push"===l.routeAction&&l.tab!==o.tab){var d=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=null===d||void 0===d?void 0:d.pushedByRoute}else if("replace"===l.routeAction){var p=this.locationHistory.current(),f=null===p||void 0===p?void 0:p.pushedByRoute,h=void 0!==f&&f!==l.pathname?f:l.pushedByRoute;l.lastPathname=(null===p||void 0===p?void 0:p.pathname)||l.lastPathname,l.prevRouteLastPathname=null===p||void 0===p?void 0:p.lastPathname,l.pushedByRoute=h,l.routeDirection=(null===p||void 0===p?void 0:p.routeDirection)||l.routeDirection,l.routeAnimation=(null===p||void 0===p?void 0:p.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}},{key:"handleNativeBack",value:function(){var e=this.props.history;(e.goBack||e.back)()}},{key:"handleNavigate",value:function(e,t,n,r,i,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:n,routeOptions:i,routeAnimation:r,tab:o}),"push"===t?this.props.history.push(e):this.props.history.replace(e)}},{key:"handleNavigateBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1?arguments[1]:void 0,n=Cx();e=e||n&&n.get("backButtonDefaultHref");var r=this.locationHistory.current();if(r&&r.pushedByRoute){var i=this.locationHistory.findLastLocation(r);if(i)if(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back",routeAnimation:t||r.routeAnimation}),r.lastPathname===r.pushedByRoute||i.pathname===r.pushedByRoute&&""===r.tab&&""===i.tab){var o=this.props.history,a=o.goBack||o.back;a()}else this.handleNavigate(i.pathname+(i.search||""),"pop","back");else this.handleNavigate(e,"pop","back")}else this.handleNavigate(e,"pop","back")}},{key:"handleResetTab",value:function(e,t,n){var r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){var i=Object.assign({},r);i.pathname=t,i.routeOptions=n,this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(i.pathname+(i.search||""))}}},{key:"handleSetCurrentTab",value:function(e){this.currentTab=e;var t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}},{key:"render",value:function(){return Rd.createElement(Iw.Provider,{value:this.routeMangerContextState},Rd.createElement(_w,{ionRoute:Aw,ionRedirect:{},stackManager:Dw,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}]),n}(Rd.PureComponent),Pw=function(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=lp(t,["wrappedComponentRef"]);return Rd.createElement(yp.Consumer,null,(function(t){return t||Pd(!1),Rd.createElement(e,Zd({},r,t,{ref:n}))}))};return n.displayName=t,n.WrappedComponent=e,up()(n,e)}(Lw);Pw.displayName="IonRouter";var Uw=function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var r;(0,c.Z)(this,n),r=t.call(this,e);var i=e.history,o=Lf(e,["history"]);return r.history=i||Jd(o),r.history.listen(r.handleHistoryChange.bind((0,Mp.Z)(r))),r.registerHistoryListener=r.registerHistoryListener.bind((0,Mp.Z)(r)),r}return(0,u.Z)(n,[{key:"handleHistoryChange",value:function(e,t){var n=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(n,r)}},{key:"registerHistoryListener",value:function(e){this.historyListenHandler=e}},{key:"render",value:function(){var e=this.props,t=e.children,n=Lf(e,["children"]);return Rd.createElement(gp,Object.assign({history:this.history},n),Rd.createElement(Pw,{registerHistoryListener:this.registerHistoryListener},t))}}]),n}(Rd.Component),Fw=(Rd.Component,Rd.Component,"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>"),Bw="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Document</title><path d='M416 221.25V416a48 48 0 01-48 48H144a48 48 0 01-48-48V96a48 48 0 0148-48h98.75a32 32 0 0122.62 9.37l141.26 141.26a32 32 0 019.37 22.62z' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M256 56v120a32 32 0 0032 32h120' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",jw="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Eye</title><path d='M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 00-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 000-17.47C428.89 172.28 347.8 112 255.66 112z' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><circle cx='256' cy='256' r='80' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Hw="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Refresh</title><path d='M320 146s24.36-12-64-12a160 160 0 10160 160' stroke-linecap='round' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 58l80 80-80 80' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Gw=n(9500),zw=function(){return zw=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zw.apply(this,arguments)};function $w(e){var t=e.onWillDismiss,n=e.triggerId,r=(0,Rd.useRef)(null),i=(0,Rd.useState)(""),o=i[0],a=i[1],s=(0,Rd.useState)(""),l=s[0],c=s[1],u=(0,Rd.useState)(!1),d=u[0],p=u[1],f=(0,Rd.useState)(!0),h=f[0],m=f[1];function v(e,t){p(t.trim().length>=3&&e.trim().length>=3)}var y=(0,Gw.jsxs)(Gw.Fragment,{children:[(0,Gw.jsxs)(Vx,{children:[(0,Gw.jsx)(Sx,zw({position:"stacked"},{children:"Username"})),(0,Gw.jsx)(_x,{value:o,onIonChange:function(e){return function(e){a(e),v(e,l)}(e.detail.value)}})]}),(0,Gw.jsxs)(Vx,{children:[(0,Gw.jsx)(Sx,zw({position:"stacked"},{children:"Password"})),(0,Gw.jsx)(_x,{type:"password",value:l,onIonChange:function(e){return function(e){c(e),v(o,e)}(e.detail.value)}})]}),(0,Gw.jsx)(Vx,{children:(0,Gw.jsx)(Dx,zw({disabled:!d,expand:"block",onClick:function(e){return function(){var e;d?(m(!1),null===(e=r.current)||void 0===e||e.dismiss({email:o+"@random-email-provider.com",password:l,username:o},"signUp")):alert("Username and password must be at least 3 characters long")}()}},{children:"Sign Up"}))})]});return(0,Gw.jsxs)(Px,zw({isOpen:h,onWillDismiss:function(e){return t(e)},ref:r,trigger:n},{children:[(0,Gw.jsx)(Tx,{children:(0,Gw.jsx)(Nx,{children:(0,Gw.jsx)(Ax,{children:"Sign Up"})})}),(0,Gw.jsx)(Ix,zw({className:"ion-padding"},{children:y}))]}))}function qw(e,t){(function(e,t,n){return tk.apply(this,arguments)})(e.detail.role,e.detail.data,t).then()}function Yw(e,t){(function(e,t){return Ww.apply(this,arguments)})(e,t).then()}function Ww(){return(Ww=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu.getAllApplications();case 3:r=e.sent,t(r),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),n("Error retrieving Applications",1e4);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Qw(e,t){return Jw.apply(this,arguments)}function Jw(){return(Jw=(0,l.Z)((0,s.Z)().mark((function e(t,n){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu.getRootRepositories();case 3:r=e.sent,t(r),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),n("Error retrieving Root Repositories",1e4);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Xw(e,t,n,r){return Kw.apply(this,arguments)}function Kw(){return(Kw=(0,l.Z)((0,s.Z)().mark((function e(t,n,r,i){var o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wu.getRepository(t);case 3:o=e.sent,n(o),ek(o,r,i),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),i("Error retrieving Repository",1e4);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function ek(e,t,n){try{var r,i={name:"Other",repositoryNestings:[]},o=new Map,a=(0,f.Z)(e.repositoryNestings);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s.nestingType){var l=o.get(s.nestingType);l||(l={name:s.nestingType,repositoryNestings:[]},o.set(s.nestingType,l)),l.repositoryNestings.push(s)}else i.repositoryNestings.push(s)}}catch(u){a.e(u)}finally{a.f()}var c=Array.from(o.values());c.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),i.repositoryNestings.length&&c.push(i),t(c)}catch(d){console.error(d),n("Error getting Repository Nestings",1e4)}}function tk(){return(tk=(0,l.Z)((0,s.Z)().mark((function e(t,n,r){var i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,wu.signUp(t,n);case 5:e.next=13;break;case 7:e.prev=7,e.t0=e.catch(2),i=e.t0,e.t0 instanceof Error&&(i=e.t0.message,console.error(e.t0)),console.error(i),r(i,1e4);case 13:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}var nk=function(){var e,t,n=function(){var e=Op(yp).match;return e?e.params:{}}().repositoryId,r=(0,Rd.useState)((function(){return null})),i=(0,p.Z)(r,2),o=i[0],a=i[1],s=(0,Rd.useState)((function(){return[]})),l=(0,p.Z)(s,2),c=l[0],u=l[1],d=ww(),f=(0,p.Z)(d,2),h=f[0],m=f[1];function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3;h(e),setTimeout((function(){m()}),t)}return(0,Rd.useEffect)((function(){Xw(n,a,u,v).then()}),[n]),e=c&&c.length?(0,Gw.jsx)(kx,{children:c.map((function(e,t){return(0,Gw.jsxs)(wx,{value:e.name,children:[(0,Gw.jsx)(Vx,{slot:"header",color:"light",children:(0,Gw.jsx)(Sx,{children:e.name})}),(0,Gw.jsx)("div",{className:"ion-padding",slot:"content",children:e.repositoryNestings.map((function(e,t){return(0,Gw.jsxs)(Vx,{color:"light",slot:"header",children:[(0,Gw.jsx)(Sx,{children:e.childRepositoryName}),(0,Gw.jsxs)(Dx,{routerLink:"/repository/"+e.childRepository.GUID,fill:"clear",children:[(0,Gw.jsx)(hw,{slot:"start",icon:Bw}),"Details"]})]},t)}))})]},"repositoryGroup"+t)}))}):(0,Gw.jsx)(Vx,{children:"No Nested Repositories found"}),t=o?(0,Gw.jsxs)(Gw.Fragment,{children:[(0,Gw.jsx)(Rx,{vertical:"bottom",horizontal:"end",slot:"fixed",children:(0,Gw.jsx)(Mx,{onClick:function(e){return Xw(n,a,u,h)},children:(0,Gw.jsx)(hw,{icon:Hw})})}),(0,Gw.jsxs)(Vx,{children:[(0,Gw.jsx)(Sx,{children:"Name:"}),o.name]}),(0,Gw.jsxs)(Dx,{href:o.uiEntryUri,fill:"clear",rel:"noopener noreferrer",target:"_blank",children:[(0,Gw.jsx)(hw,{slot:"start",icon:jw}),"View"]}),e]}):(0,Gw.jsx)(Vx,{children:"Loading ..."}),(0,Gw.jsxs)(Jx,{children:[(0,Gw.jsx)(Tx,{children:(0,Gw.jsxs)(Nx,{children:[(0,Gw.jsx)(Ex,{slot:"start",children:(0,Gw.jsx)(pw,{text:"",icon:Fw})}),(0,Gw.jsx)(Ax,{children:o?"Repository":"Loading ..."})]})}),(0,Gw.jsx)(Ix,{fullscreen:!0,children:t})]})},rk=function(){var e,t=(0,Rd.useState)((function(){return null})),n=(0,p.Z)(t,2),r=n[0],i=n[1],o=ww(),a=(0,p.Z)(o,1)[0];return(0,Rd.useEffect)((function(){Qw(i,a).then()}),[]),e=r?r.length?(0,Gw.jsx)(Gw.Fragment,{children:r.map((function(e){return(0,Gw.jsx)(Vx,{children:(0,Gw.jsxs)("div",{children:[(0,Gw.jsx)("div",{className:"root-repository-name",children:e.name}),(0,Gw.jsxs)("div",{children:[(0,Gw.jsxs)(Dx,{href:e.uiEntryUri,fill:"clear",rel:"noopener noreferrer",target:"_blank",children:[(0,Gw.jsx)(hw,{slot:"start",icon:jw}),"View"]}),(0,Gw.jsxs)(Dx,{fill:"clear",routerLink:"./repository/"+e.GUID,children:[(0,Gw.jsx)(hw,{slot:"start",icon:Bw}),"Details"]})]})]})},e.GUID)}))}):(0,Gw.jsx)(Vx,{children:"No Repositories present"}):(0,Gw.jsx)(Vx,{children:"Loading ..."}),(0,Gw.jsxs)(Jx,{children:[(0,Gw.jsx)(Tx,{children:(0,Gw.jsxs)(Nx,{children:[(0,Gw.jsx)(Ex,{slot:"start",children:(0,Gw.jsx)(pw,{text:"",icon:Fw})}),(0,Gw.jsx)(Ax,{children:"Root Repositories"})]})}),(0,Gw.jsxs)(Ix,{fullscreen:!0,children:[(0,Gw.jsx)(Rx,{vertical:"bottom",horizontal:"end",slot:"fixed",children:(0,Gw.jsx)(Mx,{onClick:function(e){return Qw(i,a)},children:(0,Gw.jsx)(hw,{icon:Hw})})}),e]})]})},ik=function(){var e=(0,Rd.useState)((function(){return[]})),t=(0,p.Z)(e,2),n=t[0],r=t[1],i=ww(),o=(0,p.Z)(i,1)[0];return(0,Rd.useEffect)((function(){Yw(r,o)}),[]),(0,Gw.jsxs)(Jx,{children:[(0,Gw.jsx)(Tx,{children:(0,Gw.jsx)(Nx,{children:(0,Gw.jsx)(Ax,{children:"Apps"})})}),(0,Gw.jsxs)(Ix,{fullscreen:!0,children:[(0,Gw.jsx)(Tx,{collapse:"condense",children:(0,Gw.jsx)(Nx,{children:(0,Gw.jsx)(Ax,{size:"large",children:"Apps"})})}),(0,Gw.jsx)(Rx,{vertical:"bottom",horizontal:"end",slot:"fixed",children:(0,Gw.jsx)(Mx,{onClick:function(e){return Yw(r,o)},children:(0,Gw.jsx)(hw,{icon:Hw})})}),n.map((function(e){return(0,Gw.jsxs)(Vx,{children:[e.domain.name,(0,Gw.jsx)("br",{}),e.name]},e.fullName)}))]})]})},ok=function(e){var t=e.name,n=e.children;return(0,Gw.jsxs)("div",{className:"container",children:[(0,Gw.jsx)("strong",{children:t}),(0,Gw.jsx)("div",{className:"padding-wrapper",children:n})]})},ak=function(){return(0,Gw.jsxs)(Jx,{children:[(0,Gw.jsx)(Tx,{children:(0,Gw.jsx)(Nx,{children:(0,Gw.jsx)(Ax,{children:"UIs"})})}),(0,Gw.jsxs)(Ix,{fullscreen:!0,children:[(0,Gw.jsx)(Tx,{collapse:"condense",children:(0,Gw.jsx)(Nx,{children:(0,Gw.jsx)(Ax,{size:"large",children:"UIs"})})}),(0,Gw.jsx)(ok,{name:"User Interfaces",children:(0,Gw.jsx)("div",{children:"TODO: implement tracking of User Interfaces"})})]})]})};!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"undefined"!==typeof document&&document.documentElement.classList.add("ion-ce"),of(Object.assign({},e))}();var sk=function(){var e=ww(),t=(0,p.Z)(e,1)[0];return(0,Gw.jsxs)(qx,{children:[(0,Gw.jsx)($w,{onWillDismiss:function(e){return qw(e,t)},triggerId:"bogus"}),(0,Gw.jsx)(Uw,{children:(0,Gw.jsxs)(dw,{children:[(0,Gw.jsxs)(rw,{children:[(0,Gw.jsx)(_p,{exact:!0,path:"/rootRepositories",children:(0,Gw.jsx)(rk,{})}),(0,Gw.jsx)(_p,{exact:!0,path:"/repository/:repositoryId",children:(0,Gw.jsx)(nk,{})}),(0,Gw.jsx)(_p,{exact:!0,path:"/applications",children:(0,Gw.jsx)(ik,{})}),(0,Gw.jsx)(_p,{exact:!0,path:"/user-interfaces",children:(0,Gw.jsx)(ak,{})}),(0,Gw.jsx)(_p,{exact:!0,path:"/",children:(0,Gw.jsx)(Ep,{to:"/rootRepositories"})})]}),(0,Gw.jsxs)(sw,{slot:"bottom",children:[(0,Gw.jsxs)(iw,{tab:"repositories",href:"/rootRepositories",children:[(0,Gw.jsx)(hw,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Briefcase</title><path d='M336 80H176a16 16 0 00-16 16v16h192V96a16 16 0 00-16-16z' class='ionicon-fill-none'/><path d='M496 176a64.07 64.07 0 00-64-64h-48V96a48.05 48.05 0 00-48-48H176a48.05 48.05 0 00-48 48v16H80a64.07 64.07 0 00-64 64v48h480zm-144-64H160V96a16 16 0 0116-16h160a16 16 0 0116 16zM336 264a24 24 0 01-24 24H200a24 24 0 01-24-24v-4a4 4 0 00-4-4H16v144a64 64 0 0064 64h352a64 64 0 0064-64V256H340a4 4 0 00-4 4z'/></svg>"}),(0,Gw.jsx)(Sx,{children:"Repositories"})]}),(0,Gw.jsxs)(iw,{tab:"applications",href:"/applications",children:[(0,Gw.jsx)(hw,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Apps</title><path d='M104 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM104 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM104 464a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 464a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 464a56 56 0 1156-56 56.06 56.06 0 01-56 56z'/></svg>"}),(0,Gw.jsx)(Sx,{children:"Apps"})]}),(0,Gw.jsxs)(iw,{tab:"user-interfaces",href:"/user-interfaces",children:[(0,Gw.jsx)(hw,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Desktop</title><path d='M16 352a48.05 48.05 0 0048 48h133.88l-4 32H144a16 16 0 000 32h224a16 16 0 000-32h-49.88l-4-32H448a48.05 48.05 0 0048-48v-48H16zm240-16a16 16 0 11-16 16 16 16 0 0116-16zM496 96a48.05 48.05 0 00-48-48H64a48.05 48.05 0 00-48 48v192h480z'/></svg>"}),(0,Gw.jsx)(Sx,{children:"UIs"})]})]})]})})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lk=function(e){e&&e instanceof Function&&n.e(145).then(n.bind(n,4145)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};(function(){return Id.apply(this,arguments)})().then(),Td.render((0,Gw.jsx)(Rd.StrictMode,{children:(0,Gw.jsx)(sk,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),lk()}()}();
//# sourceMappingURL=main.91eeda06.js.map